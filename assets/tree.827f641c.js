(function(){"use strict";var nr="http://www.w3.org/1999/xhtml",Ui={svg:"http://www.w3.org/2000/svg",xhtml:nr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oe(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ui.hasOwnProperty(n)?{space:Ui[n],local:t}:t}function Ga(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nr&&n.documentElement.namespaceURI===nr?n.createElement(t):n.createElementNS(e,t)}}function Ka(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fi(t){var n=oe(t);return(n.local?Ka:Ga)(n)}function Ja(){}function er(t){return t==null?Ja:function(){return this.querySelector(t)}}function ja(t){typeof t!="function"&&(t=er(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=new Array(u),c,s,l=0;l<u;++l)(c=o[l])&&(s=t.call(c,c.__data__,l,o))&&("__data__"in c&&(s.__data__=c.__data__),a[l]=s);return new at(r,this._parents)}function Ii(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ts(){return[]}function Pi(t){return t==null?ts:function(){return this.querySelectorAll(t)}}function ns(t){return function(){return Ii(t.apply(this,arguments))}}function es(t){typeof t=="function"?t=ns(t):t=Pi(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u=n[o],a=u.length,c,s=0;s<a;++s)(c=u[s])&&(r.push(t.call(c,c.__data__,s,u)),i.push(c));return new at(r,i)}function Ri(t){return function(){return this.matches(t)}}function Yi(t){return function(n){return n.matches(t)}}var rs=Array.prototype.find;function is(t){return function(){return rs.call(this.children,t)}}function os(){return this.firstElementChild}function us(t){return this.select(t==null?os:is(typeof t=="function"?t:Yi(t)))}var as=Array.prototype.filter;function ss(){return Array.from(this.children)}function cs(t){return function(){return as.call(this.children,t)}}function fs(t){return this.selectAll(t==null?ss:cs(typeof t=="function"?t:Yi(t)))}function ls(t){typeof t!="function"&&(t=Ri(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=[],c,s=0;s<u;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&a.push(c);return new at(r,this._parents)}function Li(t){return new Array(t.length)}function hs(){return new at(this._enter||this._groups.map(Li),this._parents)}function ue(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ue.prototype={constructor:ue,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gs(t){return function(){return t}}function ps(t,n,e,r,i,o){for(var u=0,a,c=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ue(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function ds(t,n,e,r,i,o,u){var a,c,s=new Map,l=n.length,h=o.length,f=new Array(l),g;for(a=0;a<l;++a)(c=n[a])&&(f[a]=g=u.call(c,c.__data__,a,n)+"",s.has(g)?i[a]=c:s.set(g,c));for(a=0;a<h;++a)g=u.call(t,o[a],a,o)+"",(c=s.get(g))?(r[a]=c,c.__data__=o[a],s.delete(g)):e[a]=new ue(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s.get(f[a])===c&&(i[a]=c)}function ms(t){return t.__data__}function ys(t,n){if(!arguments.length)return Array.from(this,ms);var e=n?ds:ps,r=this._parents,i=this._groups;typeof t!="function"&&(t=gs(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],h=i[s],f=h.length,g=_s(t.call(l,l&&l.__data__,s,r)),y=g.length,M=a[s]=new Array(y),p=u[s]=new Array(y),d=c[s]=new Array(f);e(l,h,M,p,d,g,n);for(var v=0,w=0,_,T;v<y;++v)if(_=M[v]){for(v>=w&&(w=v+1);!(T=p[w])&&++w<y;);_._next=T||null}}return u=new at(u,r),u._enter=a,u._exit=c,u}function _s(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vs(){return new at(this._exit||this._groups.map(Li),this._parents)}function ws(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function xs(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),c=0;c<u;++c)for(var s=e[c],l=r[c],h=s.length,f=a[c]=new Array(h),g,y=0;y<h;++y)(g=s[y]||l[y])&&(f[y]=g);for(;c<i;++c)a[c]=e[c];return new at(a,this._parents)}function Ms(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function bs(t){t||(t=Ts);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u=e[o],a=u.length,c=i[o]=new Array(a),s,l=0;l<a;++l)(s=u[l])&&(c[l]=s);c.sort(n)}return new at(i,this._parents).order()}function Ts(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ks(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ns(){return Array.from(this)}function As(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function Ss(){let t=0;for(const n of this)++t;return t}function Cs(){return!this.node()}function Es(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,u=i.length,a;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function $s(t){return function(){this.removeAttribute(t)}}function Ds(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zs(t,n){return function(){this.setAttribute(t,n)}}function Us(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Fs(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Is(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ps(t,n){var e=oe(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Ds:$s:typeof n=="function"?e.local?Is:Fs:e.local?Us:zs)(e,n))}function Oi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rs(t){return function(){this.style.removeProperty(t)}}function Ys(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ls(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Os(t,n,e){return arguments.length>1?this.each((n==null?Rs:typeof n=="function"?Ls:Ys)(t,n,e==null?"":e)):rn(this.node(),t)}function rn(t,n){return t.style.getPropertyValue(n)||Oi(t).getComputedStyle(t,null).getPropertyValue(n)}function qs(t){return function(){delete this[t]}}function Hs(t,n){return function(){this[t]=n}}function Xs(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ws(t,n){return arguments.length>1?this.each((n==null?qs:typeof n=="function"?Xs:Hs)(t,n)):this.node()[t]}function qi(t){return t.trim().split(/^|\s+/)}function rr(t){return t.classList||new Hi(t)}function Hi(t){this._node=t,this._names=qi(t.getAttribute("class")||"")}Hi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xi(t,n){for(var e=rr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Wi(t,n){for(var e=rr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Vs(t){return function(){Xi(this,t)}}function Bs(t){return function(){Wi(this,t)}}function Zs(t,n){return function(){(n.apply(this,arguments)?Xi:Wi)(this,t)}}function Qs(t,n){var e=qi(t+"");if(arguments.length<2){for(var r=rr(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Zs:n?Vs:Bs)(e,n))}function Gs(){this.textContent=""}function Ks(t){return function(){this.textContent=t}}function Js(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function js(t){return arguments.length?this.each(t==null?Gs:(typeof t=="function"?Js:Ks)(t)):this.node().textContent}function tc(){this.innerHTML=""}function nc(t){return function(){this.innerHTML=t}}function ec(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function rc(t){return arguments.length?this.each(t==null?tc:(typeof t=="function"?ec:nc)(t)):this.node().innerHTML}function ic(){this.nextSibling&&this.parentNode.appendChild(this)}function oc(){return this.each(ic)}function uc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ac(){return this.each(uc)}function sc(t){var n=typeof t=="function"?t:Fi(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function cc(){return null}function fc(t,n){var e=typeof t=="function"?t:Fi(t),r=n==null?cc:typeof n=="function"?n:er(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function lc(){var t=this.parentNode;t&&t.removeChild(this)}function hc(){return this.each(lc)}function gc(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function pc(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function dc(t){return this.select(t?pc:gc)}function mc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yc(t){return function(n){t.call(this,n,this.__data__)}}function _c(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function vc(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function wc(t,n,e){return function(){var r=this.__on,i,o=yc(n);if(r){for(var u=0,a=r.length;u<a;++u)if((i=r[u]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function xc(t,n,e){var r=_c(t+""),i,o=r.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,s=a.length,l;c<s;++c)for(i=0,l=a[c];i<o;++i)if((u=r[i]).type===l.type&&u.name===l.name)return l.value}return}for(a=n?wc:vc,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function Vi(t,n,e){var r=Oi(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Mc(t,n){return function(){return Vi(this,t,n)}}function bc(t,n){return function(){return Vi(this,t,n.apply(this,arguments))}}function Tc(t,n){return this.each((typeof n=="function"?bc:Mc)(t,n))}function*kc(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var ir=[null];function at(t,n){this._groups=t,this._parents=n}function on(){return new at([[document.documentElement]],ir)}function Nc(){return this}at.prototype=on.prototype={constructor:at,select:ja,selectAll:es,selectChild:us,selectChildren:fs,filter:ls,data:ys,enter:hs,exit:vs,join:ws,merge:xs,selection:Nc,order:Ms,sort:bs,call:ks,nodes:Ns,node:As,size:Ss,empty:Cs,each:Es,attr:Ps,style:Os,property:Ws,classed:Qs,text:js,html:rc,raise:oc,lower:ac,append:sc,insert:fc,remove:hc,clone:dc,datum:mc,on:xc,dispatch:Tc,[Symbol.iterator]:kc};function st(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ir)}function Ac(t){let n;for(;n=t.sourceEvent;)t=n;return t}function _t(t,n){if(t=Ac(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Sc(t){return typeof t=="string"?new at([document.querySelectorAll(t)],[document.documentElement]):new at([Ii(t)],ir)}function Cc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Ec(t,n){return fetch(t,n).then(Cc)}function un(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function $c(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function or(t){let n,e,r;t.length!==2?(n=un,e=(a,c)=>un(t(a),c),r=(a,c)=>t(a)-c):(n=t===un||t===$c?t:Dc,e=t,r=t);function i(a,c,s=0,l=a.length){if(s<l){if(n(c,c)!==0)return l;do{const h=s+l>>>1;e(a[h],c)<0?s=h+1:l=h}while(s<l)}return s}function o(a,c,s=0,l=a.length){if(s<l){if(n(c,c)!==0)return l;do{const h=s+l>>>1;e(a[h],c)<=0?s=h+1:l=h}while(s<l)}return s}function u(a,c,s=0,l=a.length){const h=i(a,c,s,l-1);return h>s&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:u,right:o}}function Dc(){return 0}function zc(t){return t===null?NaN:+t}const Uc=or(un).right;or(zc).center;var Bi=Uc;function Fc(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function An(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class an{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],u=n+o,a=Math.abs(n)<Math.abs(o)?n-(u-o):o-(u-n);a&&(e[r++]=a),n=u}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,u=0;if(e>0){for(u=n[--e];e>0&&(r=u,i=n[--e],u=r+i,o=i-(u-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=u+i,i==r-u&&(u=r))}return u}}class Zi extends Map{constructor(n,e=Rc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Qi(this,n))}has(n){return super.has(Qi(this,n))}set(n,e){return super.set(Ic(this,n),e)}delete(n){return super.delete(Pc(this,n))}}function Qi({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ic({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Pc({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Rc(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Yc(t){return t}function Lc(t=un){if(t===un)return Gi;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Gi(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}var Oc=Array.prototype,qc=Oc.slice;function ae(t){return()=>t}var ur=Math.sqrt(50),ar=Math.sqrt(10),sr=Math.sqrt(2);function Sn(t,n,e){var r,i=-1,o,u,a;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(a=Cn(t,n,e))===0||!isFinite(a))return[];if(a>0){let c=Math.round(t/a),s=Math.round(n/a);for(c*a<t&&++c,s*a>n&&--s,u=new Array(o=s-c+1);++i<o;)u[i]=(c+i)*a}else{a=-a;let c=Math.round(t*a),s=Math.round(n*a);for(c/a<t&&++c,s/a>n&&--s,u=new Array(o=s-c+1);++i<o;)u[i]=(c+i)/a}return r&&u.reverse(),u}function Cn(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ur?10:o>=ar?5:o>=sr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ur?10:o>=ar?5:o>=sr?2:1)}function se(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ur?i*=10:o>=ar?i*=5:o>=sr&&(i*=2),n<t?-i:i}function Hc(t,n,e){let r;for(;;){const i=Cn(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function Ki(t){return Math.ceil(Math.log(Fc(t))/Math.LN2)+1}function Xc(){var t=Yc,n=An,e=Ki;function r(i){Array.isArray(i)||(i=Array.from(i));var o,u=i.length,a,c,s=new Array(u);for(o=0;o<u;++o)s[o]=t(i[o],o,i);var l=n(s),h=l[0],f=l[1],g=e(s,h,f);if(!Array.isArray(g)){const d=f,v=+g;if(n===An&&([h,f]=Hc(h,f,v)),g=Sn(h,f,v),g[0]<=h&&(c=Cn(h,f,v)),g[g.length-1]>=f)if(d>=f&&n===An){const w=Cn(h,f,v);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else g.pop()}for(var y=g.length;g[0]<=h;)g.shift(),--y;for(;g[y-1]>f;)g.pop(),--y;var M=new Array(y+1),p;for(o=0;o<=y;++o)p=M[o]=[],p.x0=o>0?g[o-1]:h,p.x1=o<y?g[o]:f;if(isFinite(c)){if(c>0)for(o=0;o<u;++o)(a=s[o])!=null&&h<=a&&a<=f&&M[Math.min(y,Math.floor((a-h)/c))].push(i[o]);else if(c<0){for(o=0;o<u;++o)if((a=s[o])!=null&&h<=a&&a<=f){const d=Math.floor((h-a)*c);M[Math.min(y,d+(g[d]<=a))].push(i[o])}}}else for(o=0;o<u;++o)(a=s[o])!=null&&h<=a&&a<=f&&M[Bi(g,a,0,y)].push(i[o]);return M}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ae(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:ae([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:Array.isArray(i)?ae(qc.call(i)):ae(i),r):e},r}function Wc(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Vc(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Bc(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Zc(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Ji(t,n,e=0,r=t.length-1,i){for(i=i===void 0?Gi:Lc(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,l=Math.log(c),h=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*h*(c-h)/c)*(s-c/2<0?-1:1),g=Math.max(e,Math.floor(n-s*h/c+f)),y=Math.min(r,Math.floor(n+(c-s)*h/c+f));Ji(t,n,g,y,i)}const o=t[n];let u=e,a=r;for(En(t,e,n),i(t[r],o)>0&&En(t,e,r);u<a;){for(En(t,u,a),++u,--a;i(t[u],o)<0;)++u;for(;i(t[a],o)>0;)--a}i(t[e],o)===0?En(t,e,a):(++a,En(t,a,r)),a<=n&&(e=a+1),n<=a&&(r=a-1)}return t}function En(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Qc(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}var Gc=Kc(Math.random);function Kc(t){return function(e,r=0,i=e.length){let o=i-(r=+r);for(;o;){const u=t()*o--|0,a=e[o+r];e[o+r]=e[u+r],e[u+r]=a}return e}}function Jc(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ht(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function jc(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const ji=Symbol("implicit");function cr(){var t=new Zi,n=[],e=[],r=ji;function i(o){let u=t.get(o);if(u===void 0){if(r!==ji)return r;t.set(o,u=n.push(o)-1)}return e[u%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Zi;for(const u of o)t.has(u)||t.set(u,n.push(u)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cr(n,e).unknown(r)},Ht.apply(i,arguments),i}function fr(){var t=cr().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,u,a=!1,c=0,s=0,l=.5;delete t.unknown;function h(){var f=n().length,g=i<r,y=g?i:r,M=g?r:i;o=(M-y)/Math.max(1,f-c+s*2),a&&(o=Math.floor(o)),y+=(M-y-o*(f-c))*l,u=o*(1-c),a&&(y=Math.round(y),u=Math.round(u));var p=Qc(f).map(function(d){return y+o*d});return e(g?p.reverse():p)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,h()):a},t.padding=function(f){return arguments.length?(c=Math.min(1,s=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(s=+f,h()):s},t.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),h()):l},t.copy=function(){return fr(n(),[r,i]).round(a).paddingInner(c).paddingOuter(s).align(l)},Ht.apply(h(),arguments)}function to(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return to(n())},t}function tf(){return to(fr.apply(null,arguments).paddingInner(1))}function sn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function $n(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Rt(){}var Xt=.7,cn=1/Xt,fn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nf=/^#([0-9a-f]{3,8})$/,ef=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),rf=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),of=new RegExp(`^rgba\\(${fn},${fn},${fn},${Dn}\\)$`),uf=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Dn}\\)$`),af=new RegExp(`^hsl\\(${Dn},${Tt},${Tt}\\)$`),sf=new RegExp(`^hsla\\(${Dn},${Tt},${Tt},${Dn}\\)$`),no={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sn(Rt,Yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eo,formatHex:eo,formatHex8:cf,formatHsl:ff,formatRgb:ro,toString:ro});function eo(){return this.rgb().formatHex()}function cf(){return this.rgb().formatHex8()}function ff(){return so(this).formatHsl()}function ro(){return this.rgb().formatRgb()}function Yt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=nf.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?io(n):e===3?new tt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ce(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ce(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=ef.exec(t))?new tt(n[1],n[2],n[3],1):(n=rf.exec(t))?new tt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=of.exec(t))?ce(n[1],n[2],n[3],n[4]):(n=uf.exec(t))?ce(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=af.exec(t))?ao(n[1],n[2]/100,n[3]/100,1):(n=sf.exec(t))?ao(n[1],n[2]/100,n[3]/100,n[4]):no.hasOwnProperty(t)?io(no[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function io(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function ce(t,n,e,r){return r<=0&&(t=n=e=NaN),new tt(t,n,e,r)}function lr(t){return t instanceof Rt||(t=Yt(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function fe(t,n,e,r){return arguments.length===1?lr(t):new tt(t,n,e,r==null?1:r)}function tt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}sn(tt,fe,$n(Rt,{brighter(t){return t=t==null?cn:Math.pow(cn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Wt(this.r),Wt(this.g),Wt(this.b),le(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oo,formatHex:oo,formatHex8:lf,formatRgb:uo,toString:uo}));function oo(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function lf(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function uo(){const t=le(this.opacity);return`${t===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${t===1?")":`, ${t})`}`}function le(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vt(t){return t=Wt(t),(t<16?"0":"")+t.toString(16)}function ao(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new vt(t,n,e,r)}function so(t){if(t instanceof vt)return new vt(t.h,t.s,t.l,t.opacity);if(t instanceof Rt||(t=Yt(t)),!t)return new vt;if(t instanceof vt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(n===o?u=(e-r)/a+(e<r)*6:e===o?u=(r-n)/a+2:u=(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new vt(u,a,c,t.opacity)}function he(t,n,e,r){return arguments.length===1?so(t):new vt(t,n,e,r==null?1:r)}function vt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}sn(vt,he,$n(Rt,{brighter(t){return t=t==null?cn:Math.pow(cn,t),new vt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new vt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new tt(hr(t>=240?t-240:t+120,i,r),hr(t,i,r),hr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vt(co(this.h),ge(this.s),ge(this.l),le(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=le(this.opacity);return`${t===1?"hsl(":"hsla("}${co(this.h)}, ${ge(this.s)*100}%, ${ge(this.l)*100}%${t===1?")":`, ${t})`}`}}));function co(t){return t=(t||0)%360,t<0?t+360:t}function ge(t){return Math.max(0,Math.min(1,t||0))}function hr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const fo=Math.PI/180,lo=180/Math.PI,pe=18,ho=.96422,go=1,po=.82521,mo=4/29,ln=6/29,yo=3*ln*ln,hf=ln*ln*ln;function _o(t){if(t instanceof kt)return new kt(t.l,t.a,t.b,t.opacity);if(t instanceof Nt)return wo(t);t instanceof tt||(t=lr(t));var n=yr(t.r),e=yr(t.g),r=yr(t.b),i=pr((.2225045*n+.7168786*e+.0606169*r)/go),o,u;return n===e&&e===r?o=u=i:(o=pr((.4360747*n+.3850649*e+.1430804*r)/ho),u=pr((.0139322*n+.0971045*e+.7141733*r)/po)),new kt(116*i-16,500*(o-i),200*(i-u),t.opacity)}function gr(t,n,e,r){return arguments.length===1?_o(t):new kt(t,n,e,r==null?1:r)}function kt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}sn(kt,gr,$n(Rt,{brighter(t){return new kt(this.l+pe*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new kt(this.l-pe*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=ho*dr(n),t=go*dr(t),e=po*dr(e),new tt(mr(3.1338561*n-1.6168667*t-.4906146*e),mr(-.9787684*n+1.9161415*t+.033454*e),mr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function pr(t){return t>hf?Math.pow(t,1/3):t/yo+mo}function dr(t){return t>ln?t*t*t:yo*(t-mo)}function mr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function yr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vo(t){if(t instanceof Nt)return new Nt(t.h,t.c,t.l,t.opacity);if(t instanceof kt||(t=_o(t)),t.a===0&&t.b===0)return new Nt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*lo;return new Nt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function gf(t,n,e,r){return arguments.length===1?vo(t):new Nt(e,n,t,r==null?1:r)}function pf(t,n,e,r){return arguments.length===1?vo(t):new Nt(t,n,e,r==null?1:r)}function Nt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function wo(t){if(isNaN(t.h))return new kt(t.l,0,0,t.opacity);var n=t.h*fo;return new kt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}sn(Nt,pf,$n(Rt,{brighter(t){return new Nt(this.h,this.c,this.l+pe*(t==null?1:t),this.opacity)},darker(t){return new Nt(this.h,this.c,this.l-pe*(t==null?1:t),this.opacity)},rgb(){return wo(this).rgb()}}));var xo=-.14861,_r=1.78277,vr=-.29227,de=-.90649,zn=1.97294,Mo=zn*de,bo=zn*_r,To=_r*vr-de*xo;function df(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);t instanceof tt||(t=lr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(To*r+Mo*n-bo*e)/(To+Mo-bo),o=r-i,u=(zn*(e-i)-vr*o)/de,a=Math.sqrt(u*u+o*o)/(zn*i*(1-i)),c=a?Math.atan2(u,o)*lo-120:NaN;return new Bt(c<0?c+360:c,a,i,t.opacity)}function Lt(t,n,e,r){return arguments.length===1?df(t):new Bt(t,n,e,r==null?1:r)}function Bt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}sn(Bt,Lt,$n(Rt,{brighter(t){return t=t==null?cn:Math.pow(cn,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*fo,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new tt(255*(n+e*(xo*r+_r*i)),255*(n+e*(vr*r+de*i)),255*(n+e*(zn*r)),this.opacity)}}));function mf(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function yf(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return mf((e-r/n)*n,u,i,o,a)}}var me=t=>()=>t;function ko(t,n){return function(e){return t+e*n}}function _f(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function No(t,n){var e=n-t;return e?ko(t,e>180||e<-180?e-360*Math.round(e/360):e):me(isNaN(t)?n:t)}function vf(t){return(t=+t)==1?dt:function(n,e){return e-n?_f(n,e,t):me(isNaN(n)?e:n)}}function dt(t,n){var e=n-t;return e?ko(t,e):me(isNaN(t)?n:t)}var Un=function t(n){var e=vf(n);function r(i,o){var u=e((i=fe(i)).r,(o=fe(o)).r),a=e(i.g,o.g),c=e(i.b,o.b),s=dt(i.opacity,o.opacity);return function(l){return i.r=u(l),i.g=a(l),i.b=c(l),i.opacity=s(l),i+""}}return r.gamma=t,r}(1);function wf(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),u,a;for(u=0;u<e;++u)a=fe(n[u]),r[u]=a.r||0,i[u]=a.g||0,o[u]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=o(c),a+""}}}var Ao=wf(yf);function xf(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Mf(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bf(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),u;for(u=0;u<r;++u)i[u]=hn(t[u],n[u]);for(;u<e;++u)o[u]=n[u];return function(a){for(u=0;u<r;++u)o[u]=i[u](a);return o}}function Tf(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function kf(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=hn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xr=new RegExp(wr.source,"g");function Nf(t){return function(){return t}}function Af(t){return function(n){return t(n)+""}}function So(t,n){var e=wr.lastIndex=xr.lastIndex=0,r,i,o,u=-1,a=[],c=[];for(t=t+"",n=n+"";(r=wr.exec(t))&&(i=xr.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[u]?a[u]+=o:a[++u]=o),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,c.push({i:u,x:wt(r,i)})),e=xr.lastIndex;return e<n.length&&(o=n.slice(e),a[u]?a[u]+=o:a[++u]=o),a.length<2?c[0]?Af(c[0].x):Nf(n):(n=c.length,function(s){for(var l=0,h;l<n;++l)a[(h=c[l]).i]=h.x(s);return a.join("")})}function hn(t,n){var e=typeof n,r;return n==null||e==="boolean"?me(n):(e==="number"?wt:e==="string"?(r=Yt(n))?(n=r,Un):So:n instanceof Yt?Un:n instanceof Date?Tf:Mf(n)?xf:Array.isArray(n)?bf:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?kf:wt)(t,n)}function Co(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Eo=180/Math.PI,Mr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $o(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Eo,skewX:Math.atan(c)*Eo,scaleX:u,scaleY:a}}var ye;function Sf(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Mr:$o(n.a,n.b,n.c,n.d,n.e,n.f)}function Cf(t){return t==null||(ye||(ye=document.createElementNS("http://www.w3.org/2000/svg","g")),ye.setAttribute("transform",t),!(t=ye.transform.baseVal.consolidate()))?Mr:(t=t.matrix,$o(t.a,t.b,t.c,t.d,t.e,t.f))}function Do(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,l,h,f,g,y){if(s!==h||l!==f){var M=g.push("translate(",null,n,null,e);y.push({i:M-4,x:wt(s,h)},{i:M-2,x:wt(l,f)})}else(h||f)&&g.push("translate("+h+n+f+e)}function u(s,l,h,f){s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:wt(s,l)})):l&&h.push(i(h)+"rotate("+l+r)}function a(s,l,h,f){s!==l?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:wt(s,l)}):l&&h.push(i(h)+"skewX("+l+r)}function c(s,l,h,f,g,y){if(s!==h||l!==f){var M=g.push(i(g)+"scale(",null,",",null,")");y.push({i:M-4,x:wt(s,h)},{i:M-2,x:wt(l,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(s,l){var h=[],f=[];return s=t(s),l=t(l),o(s.translateX,s.translateY,l.translateX,l.translateY,h,f),u(s.rotate,l.rotate,h,f),a(s.skewX,l.skewX,h,f),c(s.scaleX,s.scaleY,l.scaleX,l.scaleY,h,f),s=l=null,function(g){for(var y=-1,M=f.length,p;++y<M;)h[(p=f[y]).i]=p.x(g);return h.join("")}}}var Ef=Do(Sf,"px, ","px)","deg)"),$f=Do(Cf,", ",")",")"),Df=1e-12;function zo(t){return((t=Math.exp(t))+1/t)/2}function zf(t){return((t=Math.exp(t))-1/t)/2}function Uf(t){return((t=Math.exp(2*t))-1)/(t+1)}var Uo=function t(n,e,r){function i(o,u){var a=o[0],c=o[1],s=o[2],l=u[0],h=u[1],f=u[2],g=l-a,y=h-c,M=g*g+y*y,p,d;if(M<Df)d=Math.log(f/s)/n,p=function(C){return[a+C*g,c+C*y,s*Math.exp(n*C*d)]};else{var v=Math.sqrt(M),w=(f*f-s*s+r*M)/(2*s*e*v),_=(f*f-s*s-r*M)/(2*f*e*v),T=Math.log(Math.sqrt(w*w+1)-w),b=Math.log(Math.sqrt(_*_+1)-_);d=(b-T)/n,p=function(C){var F=C*d,R=zo(T),S=s/(e*v)*(R*Uf(n*F+T)-zf(T));return[a+S*g,c+S*y,s*R/zo(n*F+T)]}}return p.duration=d*1e3*n/Math.SQRT2,p}return i.rho=function(o){var u=Math.max(.001,+o),a=u*u,c=a*a;return t(u,a,c)},i}(Math.SQRT2,2,4);function Ff(t){return function(n,e){var r=t((n=he(n)).h,(e=he(e)).h),i=dt(n.s,e.s),o=dt(n.l,e.l),u=dt(n.opacity,e.opacity);return function(a){return n.h=r(a),n.s=i(a),n.l=o(a),n.opacity=u(a),n+""}}}var If=Ff(No);function Pf(t,n){var e=dt((t=gr(t)).l,(n=gr(n)).l),r=dt(t.a,n.a),i=dt(t.b,n.b),o=dt(t.opacity,n.opacity);return function(u){return t.l=e(u),t.a=r(u),t.b=i(u),t.opacity=o(u),t+""}}function Fo(t){return function n(e){e=+e;function r(i,o){var u=t((i=Lt(i)).h,(o=Lt(o)).h),a=dt(i.s,o.s),c=dt(i.l,o.l),s=dt(i.opacity,o.opacity);return function(l){return i.h=u(l),i.s=a(l),i.l=c(Math.pow(l,e)),i.opacity=s(l),i+""}}return r.gamma=n,r}(1)}Fo(No);var Io=Fo(dt);function Rf(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Yf(t){return function(){return t}}function Lf(t){return+t}var Po=[0,1];function mt(t){return t}function br(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Yf(isNaN(n)?NaN:.5)}function Of(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function qf(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=br(i,r),o=e(u,o)):(r=br(r,i),o=e(o,u)),function(a){return o(r(a))}}function Hf(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=br(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(a){var c=Bi(t,a,1,r)-1;return o[c](i[c](a))}}function _e(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tr(){var t=Po,n=Po,e=hn,r,i,o,u=mt,a,c,s;function l(){var f=Math.min(t.length,n.length);return u!==mt&&(u=Of(t[0],t[f-1])),a=f>2?Hf:qf,c=s=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=a(t.map(r),n,e)))(r(u(f)))}return h.invert=function(f){return u(i((s||(s=a(n,t.map(r),wt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Lf),l()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),l()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=Co,l()},h.clamp=function(f){return arguments.length?(u=f?!0:mt,l()):u!==mt},h.interpolate=function(f){return arguments.length?(e=f,l()):e},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,g){return r=f,i=g,l()}}function Ro(){return Tr()(mt,mt)}function Xf(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ve(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function gn(t){return t=ve(Math.abs(t)),t?t[1]:NaN}function Wf(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}function Vf(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Bf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fn(t){if(!(n=Bf.exec(t)))throw new Error("invalid format: "+t);var n;return new kr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Fn.prototype=kr.prototype;function kr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zf(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yo;function Qf(t,n){var e=ve(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Yo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ve(t,Math.max(0,n+o-1))[0]}function Lo(t,n){var e=ve(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Oo={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xf,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Lo(t*100,n),r:Lo,s:Qf,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qo(t){return t}var Ho=Array.prototype.map,Xo=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Gf(t){var n=t.grouping===void 0||t.thousands===void 0?qo:Wf(Ho.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?qo:Vf(Ho.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(h){h=Fn(h);var f=h.fill,g=h.align,y=h.sign,M=h.symbol,p=h.zero,d=h.width,v=h.comma,w=h.precision,_=h.trim,T=h.type;T==="n"?(v=!0,T="g"):Oo[T]||(w===void 0&&(w=12),_=!0,T="g"),(p||f==="0"&&g==="=")&&(p=!0,f="0",g="=");var b=M==="$"?e:M==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=M==="$"?r:/[%p]/.test(T)?u:"",F=Oo[T],R=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function S(k){var $=b,D=C,m,E,x;if(T==="c")D=F(k)+D,k="";else{k=+k;var A=k<0||1/k<0;if(k=isNaN(k)?c:F(Math.abs(k),w),_&&(k=Zf(k)),A&&+k==0&&y!=="+"&&(A=!1),$=(A?y==="("?y:a:y==="-"||y==="("?"":y)+$,D=(T==="s"?Xo[8+Yo/3]:"")+D+(A&&y==="("?")":""),R){for(m=-1,E=k.length;++m<E;)if(x=k.charCodeAt(m),48>x||x>57){D=(x===46?i+k.slice(m+1):k.slice(m))+D,k=k.slice(0,m);break}}}v&&!p&&(k=n(k,1/0));var P=$.length+k.length+D.length,z=P<d?new Array(d-P+1).join(f):"";switch(v&&p&&(k=n(z+k,z.length?d-D.length:1/0),z=""),g){case"<":k=$+k+D+z;break;case"=":k=$+z+k+D;break;case"^":k=z.slice(0,P=z.length>>1)+$+k+D+z.slice(P);break;default:k=z+$+k+D;break}return o(k)}return S.toString=function(){return h+""},S}function l(h,f){var g=s((h=Fn(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(gn(f)/3)))*3,M=Math.pow(10,-y),p=Xo[8+y/3];return function(d){return g(M*d)+p}}return{format:s,formatPrefix:l}}var we,xe,Wo;Kf({thousands:",",grouping:[3],currency:["$",""]});function Kf(t){return we=Gf(t),xe=we.format,Wo=we.formatPrefix,we}function Jf(t){return Math.max(0,-gn(Math.abs(t)))}function jf(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gn(n)/3)))*3-gn(Math.abs(t)))}function tl(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,gn(n)-gn(t))+1}function nl(t,n,e,r){var i=se(t,n,e),o;switch(r=Fn(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=jf(i,u))&&(r.precision=o),Wo(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=tl(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Jf(i))&&(r.precision=o-(r.type==="%")*2);break}}return xe(r)}function Nr(t){var n=t.domain;return t.ticks=function(e){var r=n();return Sn(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return nl(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,u=r[i],a=r[o],c,s,l=10;for(a<u&&(s=u,u=a,a=s,s=i,i=o,o=s);l-- >0;){if(s=Cn(u,a,e),s===c)return r[i]=u,r[o]=a,n(r);if(s>0)u=Math.floor(u/s)*s,a=Math.ceil(a/s)*s;else if(s<0)u=Math.ceil(u*s)/s,a=Math.floor(a*s)/s;else break;c=s}return t},t}function Vo(){var t=Ro();return t.copy=function(){return _e(t,Vo())},Ht.apply(t,arguments),Nr(t)}function Bo(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],u;return o<i&&(u=e,e=r,r=u,u=i,i=o,o=u),t[e]=n.floor(i),t[r]=n.ceil(o),t}function Zo(t){return Math.log(t)}function Qo(t){return Math.exp(t)}function el(t){return-Math.log(-t)}function rl(t){return-Math.exp(-t)}function il(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ol(t){return t===10?il:t===Math.E?Math.exp:n=>Math.pow(t,n)}function ul(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Go(t){return(n,e)=>-t(-n,e)}function al(t){const n=t(Zo,Qo),e=n.domain;let r=10,i,o;function u(){return i=ul(r),o=ol(r),e()[0]<0?(i=Go(i),o=Go(o),t(el,rl)):t(Zo,Qo),n}return n.base=function(a){return arguments.length?(r=+a,u()):r},n.domain=function(a){return arguments.length?(e(a),u()):e()},n.ticks=a=>{const c=e();let s=c[0],l=c[c.length-1];const h=l<s;h&&([s,l]=[l,s]);let f=i(s),g=i(l),y,M;const p=a==null?10:+a;let d=[];if(!(r%1)&&g-f<p){if(f=Math.floor(f),g=Math.ceil(g),s>0){for(;f<=g;++f)for(y=1;y<r;++y)if(M=f<0?y/o(-f):y*o(f),!(M<s)){if(M>l)break;d.push(M)}}else for(;f<=g;++f)for(y=r-1;y>=1;--y)if(M=f>0?y/o(-f):y*o(f),!(M<s)){if(M>l)break;d.push(M)}d.length*2<p&&(d=Sn(s,l,p))}else d=Sn(f,g,Math.min(g-f,p)).map(o);return h?d.reverse():d},n.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Fn(c)).precision==null&&(c.trim=!0),c=xe(c)),a===1/0)return c;const s=Math.max(1,r*a/n.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=s?c(l):""}},n.nice=()=>e(Bo(e(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),n}function Ko(){const t=al(Tr()).domain([1,10]);return t.copy=()=>_e(t,Ko()).base(t.base()),Ht.apply(t,arguments),t}function Jo(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function sl(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cl(t){return t<0?-t*t:t*t}function fl(t){var n=t(mt,mt),e=1;function r(){return e===1?t(mt,mt):e===.5?t(sl,cl):t(Jo(e),Jo(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Nr(n)}function Ar(){var t=fl(Tr());return t.copy=function(){return _e(t,Ar()).exponent(t.exponent())},Ht.apply(t,arguments),t}function ll(){return Ar.apply(null,arguments).exponent(.5)}var Sr=new Date,Cr=new Date;function nt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),n(o,1),t(o),o},i.round=function(o){var u=i(o),a=i.ceil(o);return o-u<a-o?u:a},i.offset=function(o,u){return n(o=new Date(+o),u==null?1:Math.floor(u)),o},i.range=function(o,u,a){var c=[],s;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<u)||!(a>0))return c;do c.push(s=new Date(+o)),n(o,a),t(o);while(s<o&&o<u);return c},i.filter=function(o){return nt(function(u){if(u>=u)for(;t(u),!o(u);)u.setTime(u-1)},function(u,a){if(u>=u)if(a<0)for(;++a<=0;)for(;n(u,-1),!o(u););else for(;--a>=0;)for(;n(u,1),!o(u););})},e&&(i.count=function(o,u){return Sr.setTime(+o),Cr.setTime(+u),t(Sr),t(Cr),Math.floor(e(Sr,Cr))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(u){return r(u)%o===0}:function(u){return i.count(0,u)%o===0}):i}),i}var Me=nt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Me.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Me};var hl=Me;Me.range;const $t=1e3,yt=$t*60,Dt=yt*60,Zt=Dt*24,Er=Zt*7,jo=Zt*30,$r=Zt*365;var tu=nt(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*$t)},function(t,n){return(n-t)/$t},function(t){return t.getUTCSeconds()}),pn=tu;tu.range;var nu=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$t)},function(t,n){t.setTime(+t+n*yt)},function(t,n){return(n-t)/yt},function(t){return t.getMinutes()}),eu=nu;nu.range;var ru=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$t-t.getMinutes()*yt)},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getHours()}),iu=ru;ru.range;var ou=nt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*yt)/Zt,t=>t.getDate()-1),be=ou;ou.range;function Qt(t){return nt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+e*7)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*yt)/Er})}var Te=Qt(0),ke=Qt(1),gl=Qt(2),pl=Qt(3),dn=Qt(4),dl=Qt(5),ml=Qt(6);Te.range,ke.range,gl.range,pl.range,dn.range,dl.range,ml.range;var uu=nt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),au=uu;uu.range;var Dr=nt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Dr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)})};var Gt=Dr;Dr.range;var su=nt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*yt)},function(t,n){return(n-t)/yt},function(t){return t.getUTCMinutes()}),cu=su;su.range;var fu=nt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getUTCHours()}),lu=fu;fu.range;var hu=nt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Zt},function(t){return t.getUTCDate()-1}),Ne=hu;hu.range;function Kt(t){return nt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+e*7)},function(n,e){return(e-n)/Er})}var Ae=Kt(0),Se=Kt(1),yl=Kt(2),_l=Kt(3),mn=Kt(4),vl=Kt(5),wl=Kt(6);Ae.range,Se.range,yl.range,_l.range,mn.range,vl.range,wl.range;var gu=nt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),pu=gu;gu.range;var zr=nt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})};var Jt=zr;zr.range;function du(t,n,e,r,i,o){const u=[[pn,1,$t],[pn,5,5*$t],[pn,15,15*$t],[pn,30,30*$t],[o,1,yt],[o,5,5*yt],[o,15,15*yt],[o,30,30*yt],[i,1,Dt],[i,3,3*Dt],[i,6,6*Dt],[i,12,12*Dt],[r,1,Zt],[r,2,2*Zt],[e,1,Er],[n,1,jo],[n,3,3*jo],[t,1,$r]];function a(s,l,h){const f=l<s;f&&([s,l]=[l,s]);const g=h&&typeof h.range=="function"?h:c(s,l,h),y=g?g.range(s,+l+1):[];return f?y.reverse():y}function c(s,l,h){const f=Math.abs(l-s)/h,g=or(([,,p])=>p).right(u,f);if(g===u.length)return t.every(se(s/$r,l/$r,h));if(g===0)return hl.every(Math.max(se(s,l,h),1));const[y,M]=u[f/u[g-1][2]<u[g][2]/f?g-1:g];return y.every(M)}return[a,c]}const[xl,Ml]=du(Jt,pu,Ae,Ne,lu,cu),[bl,Tl]=du(Gt,au,Te,be,iu,eu);function Ur(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function In(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function kl(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,s=Pn(i),l=Rn(i),h=Pn(o),f=Rn(o),g=Pn(u),y=Rn(u),M=Pn(a),p=Rn(a),d=Pn(c),v=Rn(c),w={a:A,A:P,b:z,B:I,c:null,d:xu,e:xu,f:Zl,g:ih,G:uh,H:Wl,I:Vl,j:Bl,L:Mu,m:Ql,M:Gl,p:Y,q:O,Q:Su,s:Cu,S:Kl,u:Jl,U:jl,V:th,w:nh,W:eh,x:null,X:null,y:rh,Y:oh,Z:ah,"%":Au},_={a:J,A:X,b:Z,B:j,c:null,d:Tu,e:Tu,f:lh,g:xh,G:bh,H:sh,I:ch,j:fh,L:ku,m:hh,M:gh,p:V,q:K,Q:Su,s:Cu,S:ph,u:dh,U:mh,V:yh,w:_h,W:vh,x:null,X:null,y:wh,Y:Mh,Z:Th,"%":Au},T={a:S,A:k,b:$,B:D,c:m,d:vu,e:vu,f:Ol,g:_u,G:yu,H:wu,I:wu,j:Pl,L:Ll,m:Il,M:Rl,p:R,q:Fl,Q:Hl,s:Xl,S:Yl,u:El,U:$l,V:Dl,w:Cl,W:zl,x:E,X:x,y:_u,Y:yu,Z:Ul,"%":ql};w.x=b(e,w),w.X=b(r,w),w.c=b(n,w),_.x=b(e,_),_.X=b(r,_),_.c=b(n,_);function b(U,q){return function(H){var N=[],Q=-1,B=0,lt=U.length,ht,L,G;for(H instanceof Date||(H=new Date(+H));++Q<lt;)U.charCodeAt(Q)===37&&(N.push(U.slice(B,Q)),(L=mu[ht=U.charAt(++Q)])!=null?ht=U.charAt(++Q):L=ht==="e"?" ":"0",(G=q[ht])&&(ht=G(H,L)),N.push(ht),B=Q+1);return N.push(U.slice(B,Q)),N.join("")}}function C(U,q){return function(H){var N=In(1900,void 0,1),Q=F(N,U,H+="",0),B,lt;if(Q!=H.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(q&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(B=Fr(In(N.y,0,1)),lt=B.getUTCDay(),B=lt>4||lt===0?Se.ceil(B):Se(B),B=Ne.offset(B,(N.V-1)*7),N.y=B.getUTCFullYear(),N.m=B.getUTCMonth(),N.d=B.getUTCDate()+(N.w+6)%7):(B=Ur(In(N.y,0,1)),lt=B.getDay(),B=lt>4||lt===0?ke.ceil(B):ke(B),B=be.offset(B,(N.V-1)*7),N.y=B.getFullYear(),N.m=B.getMonth(),N.d=B.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),lt="Z"in N?Fr(In(N.y,0,1)).getUTCDay():Ur(In(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(lt+5)%7:N.w+N.U*7-(lt+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Fr(N)):Ur(N)}}function F(U,q,H,N){for(var Q=0,B=q.length,lt=H.length,ht,L;Q<B;){if(N>=lt)return-1;if(ht=q.charCodeAt(Q++),ht===37){if(ht=q.charAt(Q++),L=T[ht in mu?q.charAt(Q++):ht],!L||(N=L(U,H,N))<0)return-1}else if(ht!=H.charCodeAt(N++))return-1}return N}function R(U,q,H){var N=s.exec(q.slice(H));return N?(U.p=l.get(N[0].toLowerCase()),H+N[0].length):-1}function S(U,q,H){var N=g.exec(q.slice(H));return N?(U.w=y.get(N[0].toLowerCase()),H+N[0].length):-1}function k(U,q,H){var N=h.exec(q.slice(H));return N?(U.w=f.get(N[0].toLowerCase()),H+N[0].length):-1}function $(U,q,H){var N=d.exec(q.slice(H));return N?(U.m=v.get(N[0].toLowerCase()),H+N[0].length):-1}function D(U,q,H){var N=M.exec(q.slice(H));return N?(U.m=p.get(N[0].toLowerCase()),H+N[0].length):-1}function m(U,q,H){return F(U,n,q,H)}function E(U,q,H){return F(U,e,q,H)}function x(U,q,H){return F(U,r,q,H)}function A(U){return u[U.getDay()]}function P(U){return o[U.getDay()]}function z(U){return c[U.getMonth()]}function I(U){return a[U.getMonth()]}function Y(U){return i[+(U.getHours()>=12)]}function O(U){return 1+~~(U.getMonth()/3)}function J(U){return u[U.getUTCDay()]}function X(U){return o[U.getUTCDay()]}function Z(U){return c[U.getUTCMonth()]}function j(U){return a[U.getUTCMonth()]}function V(U){return i[+(U.getUTCHours()>=12)]}function K(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var q=b(U+="",w);return q.toString=function(){return U},q},parse:function(U){var q=C(U+="",!1);return q.toString=function(){return U},q},utcFormat:function(U){var q=b(U+="",_);return q.toString=function(){return U},q},utcParse:function(U){var q=C(U+="",!0);return q.toString=function(){return U},q}}}var mu={"-":"",_:" ",0:"0"},et=/^\s*\d+/,Nl=/^%/,Al=/[\\^$*+?|[\]().{}]/g;function W(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Sl(t){return t.replace(Al,"\\$&")}function Pn(t){return new RegExp("^(?:"+t.map(Sl).join("|")+")","i")}function Rn(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Cl(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function El(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function $l(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Dl(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function zl(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function yu(t,n,e){var r=et.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function _u(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ul(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Fl(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Il(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function vu(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Pl(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function wu(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Rl(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Yl(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Ll(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Ol(t,n,e){var r=et.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ql(t,n,e){var r=Nl.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Hl(t,n,e){var r=et.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Xl(t,n,e){var r=et.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function xu(t,n){return W(t.getDate(),n,2)}function Wl(t,n){return W(t.getHours(),n,2)}function Vl(t,n){return W(t.getHours()%12||12,n,2)}function Bl(t,n){return W(1+be.count(Gt(t),t),n,3)}function Mu(t,n){return W(t.getMilliseconds(),n,3)}function Zl(t,n){return Mu(t,n)+"000"}function Ql(t,n){return W(t.getMonth()+1,n,2)}function Gl(t,n){return W(t.getMinutes(),n,2)}function Kl(t,n){return W(t.getSeconds(),n,2)}function Jl(t){var n=t.getDay();return n===0?7:n}function jl(t,n){return W(Te.count(Gt(t)-1,t),n,2)}function bu(t){var n=t.getDay();return n>=4||n===0?dn(t):dn.ceil(t)}function th(t,n){return t=bu(t),W(dn.count(Gt(t),t)+(Gt(t).getDay()===4),n,2)}function nh(t){return t.getDay()}function eh(t,n){return W(ke.count(Gt(t)-1,t),n,2)}function rh(t,n){return W(t.getFullYear()%100,n,2)}function ih(t,n){return t=bu(t),W(t.getFullYear()%100,n,2)}function oh(t,n){return W(t.getFullYear()%1e4,n,4)}function uh(t,n){var e=t.getDay();return t=e>=4||e===0?dn(t):dn.ceil(t),W(t.getFullYear()%1e4,n,4)}function ah(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+W(n/60|0,"0",2)+W(n%60,"0",2)}function Tu(t,n){return W(t.getUTCDate(),n,2)}function sh(t,n){return W(t.getUTCHours(),n,2)}function ch(t,n){return W(t.getUTCHours()%12||12,n,2)}function fh(t,n){return W(1+Ne.count(Jt(t),t),n,3)}function ku(t,n){return W(t.getUTCMilliseconds(),n,3)}function lh(t,n){return ku(t,n)+"000"}function hh(t,n){return W(t.getUTCMonth()+1,n,2)}function gh(t,n){return W(t.getUTCMinutes(),n,2)}function ph(t,n){return W(t.getUTCSeconds(),n,2)}function dh(t){var n=t.getUTCDay();return n===0?7:n}function mh(t,n){return W(Ae.count(Jt(t)-1,t),n,2)}function Nu(t){var n=t.getUTCDay();return n>=4||n===0?mn(t):mn.ceil(t)}function yh(t,n){return t=Nu(t),W(mn.count(Jt(t),t)+(Jt(t).getUTCDay()===4),n,2)}function _h(t){return t.getUTCDay()}function vh(t,n){return W(Se.count(Jt(t)-1,t),n,2)}function wh(t,n){return W(t.getUTCFullYear()%100,n,2)}function xh(t,n){return t=Nu(t),W(t.getUTCFullYear()%100,n,2)}function Mh(t,n){return W(t.getUTCFullYear()%1e4,n,4)}function bh(t,n){var e=t.getUTCDay();return t=e>=4||e===0?mn(t):mn.ceil(t),W(t.getUTCFullYear()%1e4,n,4)}function Th(){return"+0000"}function Au(){return"%"}function Su(t){return+t}function Cu(t){return Math.floor(+t/1e3)}var yn,Ir,Pr;kh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kh(t){return yn=kl(t),Ir=yn.format,yn.parse,Pr=yn.utcFormat,yn.utcParse,yn}function Nh(t){return new Date(t)}function Ah(t){return t instanceof Date?+t:+new Date(+t)}function Rr(t,n,e,r,i,o,u,a,c,s){var l=Ro(),h=l.invert,f=l.domain,g=s(".%L"),y=s(":%S"),M=s("%I:%M"),p=s("%I %p"),d=s("%a %d"),v=s("%b %d"),w=s("%B"),_=s("%Y");function T(b){return(c(b)<b?g:a(b)<b?y:u(b)<b?M:o(b)<b?p:r(b)<b?i(b)<b?d:v:e(b)<b?w:_)(b)}return l.invert=function(b){return new Date(h(b))},l.domain=function(b){return arguments.length?f(Array.from(b,Ah)):f().map(Nh)},l.ticks=function(b){var C=f();return t(C[0],C[C.length-1],b==null?10:b)},l.tickFormat=function(b,C){return C==null?T:s(C)},l.nice=function(b){var C=f();return(!b||typeof b.range!="function")&&(b=n(C[0],C[C.length-1],b==null?10:b)),b?f(Bo(C,b)):l},l.copy=function(){return _e(l,Rr(t,n,e,r,i,o,u,a,c,s))},l}function Sh(){return Ht.apply(Rr(bl,Tl,Gt,au,Te,be,iu,eu,pn,Ir).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ch(){return Ht.apply(Rr(xl,Ml,Jt,pu,Ae,Ne,lu,cu,pn,Pr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eh(){var t=0,n=1,e,r,i,o,u=mt,a=!1,c;function s(h){return h==null||isNaN(h=+h)?c:u(i===0?.5:(h=(o(h)-e)*i,a?Math.max(0,Math.min(1,h)):h))}s.domain=function(h){return arguments.length?([t,n]=h,e=o(t=+t),r=o(n=+n),i=e===r?0:1/(r-e),s):[t,n]},s.clamp=function(h){return arguments.length?(a=!!h,s):a},s.interpolator=function(h){return arguments.length?(u=h,s):u};function l(h){return function(f){var g,y;return arguments.length?([g,y]=f,u=h(g,y),s):[u(0),u(1)]}}return s.range=l(hn),s.rangeRound=l(Co),s.unknown=function(h){return arguments.length?(c=h,s):c},function(h){return o=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),s}}function $h(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Eu(){var t=Nr(Eh()(mt));return t.copy=function(){return $h(t,Eu())},jc.apply(t,arguments)}function Yr(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}var Dh=Yr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zh=Yr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Uh=t=>Ao(t[t.length-1]),Fh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Yr),Ih=Uh(Fh);Io(Lt(-100,.75,.35),Lt(80,1.5,.8)),Io(Lt(260,.75,.35),Lt(80,1.5,.8));var Ce=Lt();function Ph(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Ce.h=360*t-100,Ce.s=1.5-1.5*n,Ce.l=.8-.9*n,Ce+""}var _n=0,Yn=0,Ln=0,$u=1e3,Ee,On,$e=0,jt=0,De=0,qn=typeof performance=="object"&&performance.now?performance:Date,Du=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lr(){return jt||(Du(Rh),jt=qn.now()+De)}function Rh(){jt=0}function ze(){this._call=this._time=this._next=null}ze.prototype=zu.prototype={constructor:ze,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Lr():+e)+(n==null?0:+n),!this._next&&On!==this&&(On?On._next=this:Ee=this,On=this),this._call=t,this._time=e,Or()},stop:function(){this._call&&(this._call=null,this._time=1/0,Or())}};function zu(t,n,e){var r=new ze;return r.restart(t,n,e),r}function Yh(){Lr(),++_n;for(var t=Ee,n;t;)(n=jt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--_n}function Uu(){jt=($e=qn.now())+De,_n=Yn=0;try{Yh()}finally{_n=0,Oh(),jt=0}}function Lh(){var t=qn.now(),n=t-$e;n>$u&&(De-=n,$e=t)}function Oh(){for(var t,n=Ee,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ee=e);On=t,Or(r)}function Or(t){if(!_n){Yn&&(Yn=clearTimeout(Yn));var n=t-jt;n>24?(t<1/0&&(Yn=setTimeout(Uu,t-qn.now()-De)),Ln&&(Ln=clearInterval(Ln))):(Ln||($e=qn.now(),Ln=setInterval(Lh,$u)),_n=1,Du(Uu))}}function qr(t,n,e){var r=new ze;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var qh={value:()=>{}};function Hn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ue(e)}function Ue(t){this._=t}function Hh(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ue.prototype=Hn.prototype={constructor:Ue,on:function(t,n){var e=this._,r=Hh(t+"",e),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=Xh(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(i=(t=r[o]).type)e[i]=Fu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Fu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ue(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Xh(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Fu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=qh,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Wh=Hn("start","end","cancel","interrupt"),Vh=[],Iu=0,Pu=1,Hr=2,Fe=3,Ru=4,Xr=5,Ie=6;function Pe(t,n,e,r,i,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;Bh(t,e,{name:n,index:r,group:i,on:Wh,tween:Vh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Iu})}function Wr(t,n){var e=xt(t,n);if(e.state>Iu)throw new Error("too late; already scheduled");return e}function At(t,n){var e=xt(t,n);if(e.state>Fe)throw new Error("too late; already running");return e}function xt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Bh(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=zu(o,0,e.time);function o(s){e.state=Pu,e.timer.restart(u,e.delay,e.time),e.delay<=s&&u(s-e.delay)}function u(s){var l,h,f,g;if(e.state!==Pu)return c();for(l in r)if(g=r[l],g.name===e.name){if(g.state===Fe)return qr(u);g.state===Ru?(g.state=Ie,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[l]):+l<n&&(g.state=Ie,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[l])}if(qr(function(){e.state===Fe&&(e.state=Ru,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=Hr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Hr){for(e.state=Fe,i=new Array(f=e.tween.length),l=0,h=-1;l<f;++l)(g=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=g);i.length=h+1}}function a(s){for(var l=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=Xr,1),h=-1,f=i.length;++h<f;)i[h].call(t,l);e.state===Xr&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=Ie,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function vn(t,n){var e=t.__transition,r,i,o=!0,u;if(!!e){n=n==null?null:n+"";for(u in e){if((r=e[u]).name!==n){o=!1;continue}i=r.state>Hr&&r.state<Xr,r.state=Ie,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[u]}o&&delete t.__transition}}function Zh(t){return this.each(function(){vn(this,t)})}function Qh(t,n){var e,r;return function(){var i=At(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function Gh(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=At(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}}function Kh(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=xt(this.node(),e).tween,i=0,o=r.length,u;i<o;++i)if((u=r[i]).name===t)return u.value;return null}return this.each((n==null?Qh:Gh)(e,t,n))}function Vr(t,n,e){var r=t._id;return t.each(function(){var i=At(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return xt(i,r).value[n]}}function Yu(t,n){var e;return(typeof n=="number"?wt:n instanceof Yt?Un:(e=Yt(n))?(n=e,Un):So)(t,n)}function Jh(t){return function(){this.removeAttribute(t)}}function jh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t0(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttribute(t);return u===i?null:u===r?o:o=n(r=u,e)}}function n0(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===i?null:u===r?o:o=n(r=u,e)}}function e0(t,n,e){var r,i,o;return function(){var u,a=e(this),c;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),c=a+"",u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a)))}}function r0(t,n,e){var r,i,o;return function(){var u,a=e(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),c=a+"",u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a)))}}function i0(t,n){var e=oe(t),r=e==="transform"?$f:Yu;return this.attrTween(t,typeof n=="function"?(e.local?r0:e0)(e,r,Vr(this,"attr."+t,n)):n==null?(e.local?jh:Jh)(e):(e.local?n0:t0)(e,r,n))}function o0(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function u0(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function a0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&u0(t,o)),e}return i._value=n,i}function s0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&o0(t,o)),e}return i._value=n,i}function c0(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=oe(t);return this.tween(e,(r.local?a0:s0)(r,n))}function f0(t,n){return function(){Wr(this,t).delay=+n.apply(this,arguments)}}function l0(t,n){return n=+n,function(){Wr(this,t).delay=n}}function h0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?f0:l0)(n,t)):xt(this.node(),n).delay}function g0(t,n){return function(){At(this,t).duration=+n.apply(this,arguments)}}function p0(t,n){return n=+n,function(){At(this,t).duration=n}}function d0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?g0:p0)(n,t)):xt(this.node(),n).duration}function m0(t,n){if(typeof n!="function")throw new Error;return function(){At(this,t).ease=n}}function y0(t){var n=this._id;return arguments.length?this.each(m0(n,t)):xt(this.node(),n).ease}function _0(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;At(this,t).ease=e}}function v0(t){if(typeof t!="function")throw new Error;return this.each(_0(this._id,t))}function w0(t){typeof t!="function"&&(t=Ri(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=[],c,s=0;s<u;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&a.push(c);return new zt(r,this._parents,this._name,this._id)}function x0(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c=n[a],s=e[a],l=c.length,h=u[a]=new Array(l),f,g=0;g<l;++g)(f=c[g]||s[g])&&(h[g]=f);for(;a<r;++a)u[a]=n[a];return new zt(u,this._parents,this._name,this._id)}function M0(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function b0(t,n,e){var r,i,o=M0(n)?Wr:At;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}function T0(t,n){var e=this._id;return arguments.length<2?xt(this.node(),e).on.on(t):this.each(b0(e,t,n))}function k0(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function N0(){return this.on("end.remove",k0(this._id))}function A0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=er(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a=r[u],c=a.length,s=o[u]=new Array(c),l,h,f=0;f<c;++f)(l=a[f])&&(h=t.call(l,l.__data__,f,a))&&("__data__"in l&&(h.__data__=l.__data__),s[f]=h,Pe(s[f],n,e,f,s,xt(l,e)));return new zt(o,this._parents,n,e)}function S0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Pi(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c=r[a],s=c.length,l,h=0;h<s;++h)if(l=c[h]){for(var f=t.call(l,l.__data__,h,c),g,y=xt(l,e),M=0,p=f.length;M<p;++M)(g=f[M])&&Pe(g,n,e,M,f,y);o.push(f),u.push(l)}return new zt(o,u,n,e)}var C0=on.prototype.constructor;function E0(){return new C0(this._groups,this._parents)}function $0(t,n){var e,r,i;return function(){var o=rn(this,t),u=(this.style.removeProperty(t),rn(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function Lu(t){return function(){this.style.removeProperty(t)}}function D0(t,n,e){var r,i=e+"",o;return function(){var u=rn(this,t);return u===i?null:u===r?o:o=n(r=u,e)}}function z0(t,n,e){var r,i,o;return function(){var u=rn(this,t),a=e(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),rn(this,t))),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}function U0(t,n){var e,r,i,o="style."+n,u="end."+o,a;return function(){var c=At(this,t),s=c.on,l=c.value[o]==null?a||(a=Lu(n)):void 0;(s!==e||i!==l)&&(r=(e=s).copy()).on(u,i=l),c.on=r}}function F0(t,n,e){var r=(t+="")=="transform"?Ef:Yu;return n==null?this.styleTween(t,$0(t,r)).on("end.style."+t,Lu(t)):typeof n=="function"?this.styleTween(t,z0(t,r,Vr(this,"style."+t,n))).each(U0(this._id,t)):this.styleTween(t,D0(t,r,n),e).on("end.style."+t,null)}function I0(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function P0(t,n,e){var r,i;function o(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&I0(t,u,e)),r}return o._value=n,o}function R0(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,P0(t,n,e==null?"":e))}function Y0(t){return function(){this.textContent=t}}function L0(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function O0(t){return this.tween("text",typeof t=="function"?L0(Vr(this,"text",t)):Y0(t==null?"":t+""))}function q0(t){return function(n){this.textContent=t.call(this,n)}}function H0(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&q0(i)),n}return r._value=t,r}function X0(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,H0(t))}function W0(){for(var t=this._name,n=this._id,e=qu(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,c,s=0;s<a;++s)if(c=u[s]){var l=xt(c,n);Pe(c,t,e,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new zt(r,this._parents,t,e)}function V0(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,u){var a={value:u},c={value:function(){--i===0&&o()}};e.each(function(){var s=At(this,r),l=s.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),s.on=n}),i===0&&o()})}var B0=0;function zt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ou(t){return on().transition(t)}function qu(){return++B0}var Ut=on.prototype;zt.prototype=Ou.prototype={constructor:zt,select:A0,selectAll:S0,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:w0,merge:x0,selection:E0,transition:W0,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:T0,attr:i0,attrTween:c0,style:F0,styleTween:R0,text:O0,textTween:X0,remove:N0,tween:Kh,delay:h0,duration:d0,ease:y0,easeVarying:v0,end:V0,[Symbol.iterator]:Ut[Symbol.iterator]};const Z0=t=>+t;function Q0(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Hu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Br=3;(function t(n){n=+n;function e(r){return Math.pow(r,n)}return e.exponent=t,e})(Br),function t(n){n=+n;function e(r){return 1-Math.pow(1-r,n)}return e.exponent=t,e}(Br);var G0=function t(n){n=+n;function e(r){return((r*=2)<=1?Math.pow(r,n):2-Math.pow(2-r,n))/2}return e.exponent=t,e}(Br);function Re(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}var wn=2*Math.PI,Zr=1,Qr=.3;(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=wn);function i(o){return n*Re(- --o)*Math.sin((r-o)/e)}return i.amplitude=function(o){return t(o,e*wn)},i.period=function(o){return t(n,o)},i})(Zr,Qr);var K0=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=wn);function i(o){return 1-n*Re(o=+o)*Math.sin((o+r)/e)}return i.amplitude=function(o){return t(o,e*wn)},i.period=function(o){return t(n,o)},i}(Zr,Qr);(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=wn);function i(o){return((o=o*2-1)<0?n*Re(-o)*Math.sin((r-o)/e):2-n*Re(o)*Math.sin((r+o)/e))/2}return i.amplitude=function(o){return t(o,e*wn)},i.period=function(o){return t(n,o)},i})(Zr,Qr);var J0={time:null,delay:0,duration:250,ease:Hu};function j0(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function tg(t){var n,e;t instanceof zt?(n=t._id,t=t._name):(n=qu(),(e=J0).time=Lr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,c,s=0;s<a;++s)(c=u[s])&&Pe(c,t,n,s,u,e||j0(c,n));return new zt(r,this._parents,t,n)}on.prototype.interrupt=Zh,on.prototype.transition=tg;function ng(t){return t}var Gr=1,Kr=2,Jr=3,Xn=4,Xu=1e-6;function eg(t){return"translate("+t+",0)"}function rg(t){return"translate(0,"+t+")"}function ig(t){return n=>+t(n)}function og(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function ug(){return!this.__axis}function Wu(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Gr||t===Xn?-1:1,l=t===Xn||t===Kr?"x":"y",h=t===Gr||t===Jr?eg:rg;function f(g){var y=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,M=i==null?n.tickFormat?n.tickFormat.apply(n,e):ng:i,p=Math.max(o,0)+a,d=n.range(),v=+d[0]+c,w=+d[d.length-1]+c,_=(n.bandwidth?og:ig)(n.copy(),c),T=g.selection?g.selection():g,b=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(y,n).order(),F=C.exit(),R=C.enter().append("g").attr("class","tick"),S=C.select("line"),k=C.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(R),S=S.merge(R.append("line").attr("stroke","currentColor").attr(l+"2",s*o)),k=k.merge(R.append("text").attr("fill","currentColor").attr(l,s*p).attr("dy",t===Gr?"0em":t===Jr?"0.71em":"0.32em")),g!==T&&(b=b.transition(g),C=C.transition(g),S=S.transition(g),k=k.transition(g),F=F.transition(g).attr("opacity",Xu).attr("transform",function($){return isFinite($=_($))?h($+c):this.getAttribute("transform")}),R.attr("opacity",Xu).attr("transform",function($){var D=this.parentNode.__axis;return h((D&&isFinite(D=D($))?D:_($))+c)})),F.remove(),b.attr("d",t===Xn||t===Kr?u?"M"+s*u+","+v+"H"+c+"V"+w+"H"+s*u:"M"+c+","+v+"V"+w:u?"M"+v+","+s*u+"V"+c+"H"+w+"V"+s*u:"M"+v+","+c+"H"+w),C.attr("opacity",1).attr("transform",function($){return h(_($)+c)}),S.attr(l+"2",s*o),k.attr(l,s*p).text(M),T.filter(ug).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Kr?"start":t===Xn?"end":"middle"),T.each(function(){this.__axis=_})}return f.scale=function(g){return arguments.length?(n=g,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(e=g==null?[]:Array.from(g),f):e.slice()},f.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),f):r&&r.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(o=u=+g,f):o},f.tickSizeInner=function(g){return arguments.length?(o=+g,f):o},f.tickSizeOuter=function(g){return arguments.length?(u=+g,f):u},f.tickPadding=function(g){return arguments.length?(a=+g,f):a},f.offset=function(g){return arguments.length?(c=+g,f):c},f}function ag(t){return Wu(Jr,t)}function sg(t){return Wu(Xn,t)}const jr=Math.PI,ti=2*jr,tn=1e-6,cg=ti-tn;function ni(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wn(){return new ni}ni.prototype=Wn.prototype={constructor:ni,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,l=u-n,h=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>tn)if(!(Math.abs(l*a-c*s)>tn)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var f=e-o,g=r-u,y=a*a+c*c,M=f*f+g*g,p=Math.sqrt(y),d=Math.sqrt(h),v=i*Math.tan((jr-Math.acos((y+h-M)/(2*p*d)))/2),w=v/d,_=v/p;Math.abs(w-1)>tn&&(this._+="L"+(t+w*s)+","+(n+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>s*g)+","+(this._x1=t+_*a)+","+(this._y1=n+_*c)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var u=e*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,l=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+c+","+s:(Math.abs(this._x1-c)>tn||Math.abs(this._y1-s)>tn)&&(this._+="L"+c+","+s),e&&(h<0&&(h=h%ti+ti),h>cg?this._+="A"+e+","+e+",0,1,"+l+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):h>tn&&(this._+="A"+e+","+e+",0,"+ +(h>=jr)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function rt(t){return function(){return t}}const Vu=Math.abs,it=Math.atan2,nn=Math.cos,fg=Math.max,ei=Math.min,St=Math.sin,xn=Math.sqrt,gt=1e-12,Vn=Math.PI,Ye=Vn/2,lg=2*Vn;function hg(t){return t>1?0:t<-1?Vn:Math.acos(t)}function Bu(t){return t>=1?Ye:t<=-1?-Ye:Math.asin(t)}function gg(t){return t.innerRadius}function pg(t){return t.outerRadius}function dg(t){return t.startAngle}function mg(t){return t.endAngle}function yg(t){return t&&t.padAngle}function _g(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,l=u-i,h=a-o,f=h*c-l*s;if(!(f*f<gt))return f=(l*(n-o)-h*(t-i))/f,[t+f*c,n+f*s]}function Le(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/xn(a*a+c*c),l=s*c,h=-s*a,f=t+l,g=n+h,y=e+l,M=r+h,p=(f+y)/2,d=(g+M)/2,v=y-f,w=M-g,_=v*v+w*w,T=i-o,b=f*M-y*g,C=(w<0?-1:1)*xn(fg(0,T*T*_-b*b)),F=(b*w-v*C)/_,R=(-b*v-w*C)/_,S=(b*w+v*C)/_,k=(-b*v+w*C)/_,$=F-p,D=R-d,m=S-p,E=k-d;return $*$+D*D>m*m+E*E&&(F=S,R=k),{cx:F,cy:R,x01:-l,y01:-h,x11:F*(i/T-1),y11:R*(i/T-1)}}function vg(){var t=gg,n=pg,e=rt(0),r=null,i=dg,o=mg,u=yg,a=null;function c(){var s,l,h=+t.apply(this,arguments),f=+n.apply(this,arguments),g=i.apply(this,arguments)-Ye,y=o.apply(this,arguments)-Ye,M=Vu(y-g),p=y>g;if(a||(a=s=Wn()),f<h&&(l=f,f=h,h=l),!(f>gt))a.moveTo(0,0);else if(M>lg-gt)a.moveTo(f*nn(g),f*St(g)),a.arc(0,0,f,g,y,!p),h>gt&&(a.moveTo(h*nn(y),h*St(y)),a.arc(0,0,h,y,g,p));else{var d=g,v=y,w=g,_=y,T=M,b=M,C=u.apply(this,arguments)/2,F=C>gt&&(r?+r.apply(this,arguments):xn(h*h+f*f)),R=ei(Vu(f-h)/2,+e.apply(this,arguments)),S=R,k=R,$,D;if(F>gt){var m=Bu(F/h*St(C)),E=Bu(F/f*St(C));(T-=m*2)>gt?(m*=p?1:-1,w+=m,_-=m):(T=0,w=_=(g+y)/2),(b-=E*2)>gt?(E*=p?1:-1,d+=E,v-=E):(b=0,d=v=(g+y)/2)}var x=f*nn(d),A=f*St(d),P=h*nn(_),z=h*St(_);if(R>gt){var I=f*nn(v),Y=f*St(v),O=h*nn(w),J=h*St(w),X;if(M<Vn&&(X=_g(x,A,O,J,I,Y,P,z))){var Z=x-X[0],j=A-X[1],V=I-X[0],K=Y-X[1],U=1/St(hg((Z*V+j*K)/(xn(Z*Z+j*j)*xn(V*V+K*K)))/2),q=xn(X[0]*X[0]+X[1]*X[1]);S=ei(R,(h-q)/(U-1)),k=ei(R,(f-q)/(U+1))}}b>gt?k>gt?($=Le(O,J,x,A,f,k,p),D=Le(I,Y,P,z,f,k,p),a.moveTo($.cx+$.x01,$.cy+$.y01),k<R?a.arc($.cx,$.cy,k,it($.y01,$.x01),it(D.y01,D.x01),!p):(a.arc($.cx,$.cy,k,it($.y01,$.x01),it($.y11,$.x11),!p),a.arc(0,0,f,it($.cy+$.y11,$.cx+$.x11),it(D.cy+D.y11,D.cx+D.x11),!p),a.arc(D.cx,D.cy,k,it(D.y11,D.x11),it(D.y01,D.x01),!p))):(a.moveTo(x,A),a.arc(0,0,f,d,v,!p)):a.moveTo(x,A),!(h>gt)||!(T>gt)?a.lineTo(P,z):S>gt?($=Le(P,z,I,Y,h,-S,p),D=Le(x,A,O,J,h,-S,p),a.lineTo($.cx+$.x01,$.cy+$.y01),S<R?a.arc($.cx,$.cy,S,it($.y01,$.x01),it(D.y01,D.x01),!p):(a.arc($.cx,$.cy,S,it($.y01,$.x01),it($.y11,$.x11),!p),a.arc(0,0,h,it($.cy+$.y11,$.cx+$.x11),it(D.cy+D.y11,D.cx+D.x11),p),a.arc(D.cx,D.cy,S,it(D.y11,D.x11),it(D.y01,D.x01),!p))):a.arc(0,0,h,_,w,p)}if(a.closePath(),s)return a=null,s+""||null}return c.centroid=function(){var s=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,l=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Vn/2;return[nn(l)*s,St(l)*s]},c.innerRadius=function(s){return arguments.length?(t=typeof s=="function"?s:rt(+s),c):t},c.outerRadius=function(s){return arguments.length?(n=typeof s=="function"?s:rt(+s),c):n},c.cornerRadius=function(s){return arguments.length?(e=typeof s=="function"?s:rt(+s),c):e},c.padRadius=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:rt(+s),c):r},c.startAngle=function(s){return arguments.length?(i=typeof s=="function"?s:rt(+s),c):i},c.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:rt(+s),c):o},c.padAngle=function(s){return arguments.length?(u=typeof s=="function"?s:rt(+s),c):u},c.context=function(s){return arguments.length?(a=s==null?null:s,c):a},c}var wg=Array.prototype.slice;function xg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zu(t){this._context=t}Zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Mg(t){return new Zu(t)}function Qu(t){return t[0]}function Gu(t){return t[1]}function bg(t,n){var e=rt(!0),r=null,i=Mg,o=null;t=typeof t=="function"?t:t===void 0?Qu:rt(t),n=typeof n=="function"?n:n===void 0?Gu:rt(n);function u(a){var c,s=(a=xg(a)).length,l,h=!1,f;for(r==null&&(o=i(f=Wn())),c=0;c<=s;++c)!(c<s&&e(l=a[c],c,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,c,a),+n(l,c,a));if(f)return o=null,f+""||null}return u.x=function(a){return arguments.length?(t=typeof a=="function"?a:rt(+a),u):t},u.y=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),u):n},u.defined=function(a){return arguments.length?(e=typeof a=="function"?a:rt(!!a),u):e},u.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),u):i},u.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),u):r},u}class Ku{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function Tg(t){return new Ku(t,!0)}function kg(t){return new Ku(t,!1)}function Ng(t){return t.source}function Ag(t){return t.target}function Ju(t){let n=Ng,e=Ag,r=Qu,i=Gu,o=null,u=null;function a(){let c;const s=wg.call(arguments),l=n.apply(this,s),h=e.apply(this,s);if(o==null&&(u=t(c=Wn())),u.lineStart(),s[0]=l,u.point(+r.apply(this,s),+i.apply(this,s)),s[0]=h,u.point(+r.apply(this,s),+i.apply(this,s)),u.lineEnd(),c)return u=null,c+""||null}return a.source=function(c){return arguments.length?(n=c,a):n},a.target=function(c){return arguments.length?(e=c,a):e},a.x=function(c){return arguments.length?(r=typeof c=="function"?c:rt(+c),a):r},a.y=function(c){return arguments.length?(i=typeof c=="function"?c:rt(+c),a):i},a.context=function(c){return arguments.length?(c==null?o=u=null:u=t(o=c),a):o},a}function Sg(){return Ju(Tg)}function Cg(){return Ju(kg)}function ju(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ta(t){this._context=t}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ju(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ju(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Eg(t){return new ta(t)}function na(t){return t<0?-1:1}function ea(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(na(o)+na(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function ra(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ri(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Oe(t){this._context=t}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ri(this,this._t0,ra(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ri(this,ra(this,e=ea(this,t,n)),e);break;default:ri(this,this._t0,e=ea(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function ia(t){this._context=new oa(t)}(ia.prototype=Object.create(Oe.prototype)).point=function(t,n){Oe.prototype.point.call(this,n,t)};function oa(t){this._context=t}oa.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function $g(t){return new Oe(t)}function Dg(t){return new ia(t)}function ua(t,n){this._context=t,this._t=n}ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function zg(t){return new ua(t,1)}function Ug(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function Fg(){return this.eachAfter(Ug)}function Ig(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function Pg(t,n){for(var e=this,r=[e],i,o,u=-1;e=r.pop();)if(t.call(n,e,++u,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Rg(t,n){for(var e=this,r=[e],i=[],o,u,a,c=-1;e=r.pop();)if(i.push(e),o=e.children)for(u=0,a=o.length;u<a;++u)r.push(o[u]);for(;e=i.pop();)t.call(n,e,++c,this);return this}function Yg(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function Lg(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function Og(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function qg(t){for(var n=this,e=Hg(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function Hg(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function Xg(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function Wg(){return Array.from(this)}function Vg(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function Bg(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*Zg(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function ii(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=Kg)):n===void 0&&(n=Gg);for(var e=new Bn(t),r,i=[e],o,u,a,c;r=i.pop();)if((u=n(r.data))&&(c=(u=Array.from(u)).length))for(r.children=u,a=c-1;a>=0;--a)i.push(o=u[a]=new Bn(u[a])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(jg)}function Qg(){return ii(this).eachBefore(Jg)}function Gg(t){return t.children}function Kg(t){return Array.isArray(t)?t[1]:null}function Jg(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function jg(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Bn(t){this.data=t,this.depth=this.height=0,this.parent=null}Bn.prototype=ii.prototype={constructor:Bn,count:Fg,each:Ig,eachAfter:Rg,eachBefore:Pg,find:Yg,sum:Lg,sort:Og,path:qg,ancestors:Xg,descendants:Wg,leaves:Vg,links:Bg,copy:Qg,[Symbol.iterator]:Zg};function t1(t){return t==null?null:n1(t)}function n1(t){if(typeof t!="function")throw new Error;return t}function aa(){return 0}function e1(t){return function(){return t}}const r1=1664525,i1=1013904223,sa=4294967296;function o1(){let t=1;return()=>(t=(r1*t+i1)%sa)/sa}function u1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function a1(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function s1(t,n){for(var e=0,r=(t=a1(Array.from(t),n)).length,i=[],o,u;e<r;)o=t[e],u&&ca(u,o)?++e:(u=f1(i=c1(i,o)),e=0);return u}function c1(t,n){var e,r;if(oi(n,t))return[n];for(e=0;e<t.length;++e)if(qe(n,t[e])&&oi(Zn(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(qe(Zn(t[e],t[r]),n)&&qe(Zn(t[e],n),t[r])&&qe(Zn(t[r],n),t[e])&&oi(fa(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function qe(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function ca(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function oi(t,n){for(var e=0;e<n.length;++e)if(!ca(t,n[e]))return!1;return!0}function f1(t){switch(t.length){case 1:return l1(t[0]);case 2:return Zn(t[0],t[1]);case 3:return fa(t[0],t[1],t[2])}}function l1(t){return{x:t.x,y:t.y,r:t.r}}function Zn(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,l=a-i,h=Math.sqrt(c*c+s*s);return{x:(e+o+c/h*l)/2,y:(r+u+s/h*l)/2,r:(h+i+a)/2}}function fa(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,l=e.y,h=e.r,f=r-u,g=r-s,y=i-a,M=i-l,p=c-o,d=h-o,v=r*r+i*i-o*o,w=v-u*u-a*a+c*c,_=v-s*s-l*l+h*h,T=g*y-f*M,b=(y*_-M*w)/(T*2)-r,C=(M*p-y*d)/T,F=(g*w-f*_)/(T*2)-i,R=(f*d-g*p)/T,S=C*C+R*R-1,k=2*(o+b*C+F*R),$=b*b+F*F-o*o,D=-(Math.abs(S)>1e-6?(k+Math.sqrt(k*k-4*S*$))/(2*S):$/k);return{x:r+b+C*D,y:i+F+R*D,r:D}}function la(t,n,e){var r=t.x-n.x,i,o,u=t.y-n.y,a,c,s=r*r+u*u;s?(o=n.r+e.r,o*=o,c=t.r+e.r,c*=c,o>c?(i=(s+c-o)/(2*s),a=Math.sqrt(Math.max(0,c/s-i*i)),e.x=t.x-i*r-a*u,e.y=t.y-i*u+a*r):(i=(s+o-c)/(2*s),a=Math.sqrt(Math.max(0,o/s-i*i)),e.x=n.x+i*r-a*u,e.y=n.y+i*u+a*r)):(e.x=n.x+e.r,e.y=n.y)}function ha(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ga(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function He(t){this._=t,this.next=null,this.previous=null}function h1(t,n){if(!(o=(t=u1(t)).length))return 0;var e,r,i,o,u,a,c,s,l,h,f;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;la(r,e,i=t[2]),e=new He(e),r=new He(r),i=new He(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(c=3;c<o;++c){la(e._,r._,i=t[c]),i=new He(i),s=r.next,l=e.previous,h=r._.r,f=e._.r;do if(h<=f){if(ha(s._,i._)){r=s,e.next=r,r.previous=e,--c;continue t}h+=s._.r,s=s.next}else{if(ha(l._,i._)){e=l,e.next=r,r.previous=e,--c;continue t}f+=l._.r,l=l.previous}while(s!==l.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,u=ga(e);(i=i.next)!==r;)(a=ga(i))<u&&(e=i,u=a);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=s1(e,n),c=0;c<o;++c)e=t[c],e.x-=i.x,e.y-=i.y;return i.r}function g1(t){return Math.sqrt(t.value)}function p1(){var t=null,n=1,e=1,r=aa;function i(o){const u=o1();return o.x=n/2,o.y=e/2,t?o.eachBefore(pa(t)).eachAfter(ui(r,.5,u)).eachBefore(da(1)):o.eachBefore(pa(g1)).eachAfter(ui(aa,1,u)).eachAfter(ui(r,o.r/Math.min(n,e),u)).eachBefore(da(Math.min(n,e)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=t1(o),i):t},i.size=function(o){return arguments.length?(n=+o[0],e=+o[1],i):[n,e]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:e1(+o),i):r},i}function pa(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function ui(t,n,e){return function(r){if(i=r.children){var i,o,u=i.length,a=t(r)*n||0,c;if(a)for(o=0;o<u;++o)i[o].r+=a;if(c=h1(i,e),a)for(o=0;o<u;++o)i[o].r-=a;r.r=c+a}}}function da(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function d1(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function m1(t,n,e,r,i){for(var o=t.children,u,a=-1,c=o.length,s=t.value&&(r-n)/t.value;++a<c;)u=o[a],u.y0=e,u.y1=i,u.x0=n,u.x1=n+=u.value*s}function y1(){var t=1,n=1,e=0,r=!1;function i(u){var a=u.height+1;return u.x0=u.y0=e,u.x1=t,u.y1=n/a,u.eachBefore(o(n,a)),r&&u.eachBefore(d1),u}function o(u,a){return function(c){c.children&&m1(c,c.x0,u*(c.depth+1)/a,c.x1,u*(c.depth+2)/a);var s=c.x0,l=c.y0,h=c.x1-e,f=c.y1-e;h<s&&(s=h=(s+h)/2),f<l&&(l=f=(l+f)/2),c.x0=s,c.y0=l,c.x1=h,c.y1=f}}return i.round=function(u){return arguments.length?(r=!!u,i):r},i.size=function(u){return arguments.length?(t=+u[0],n=+u[1],i):[t,n]},i.padding=function(u){return arguments.length?(e=+u,i):e},i}function _1(t,n){return t.parent===n.parent?1:2}function ai(t){var n=t.children;return n?n[0]:t.t}function si(t){var n=t.children;return n?n[n.length-1]:t.t}function v1(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function w1(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function x1(t,n,e){return t.a.parent===n.parent?t.a:e}function Xe(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Xe.prototype=Object.create(Bn.prototype);function M1(t){for(var n=new Xe(t,0),e,r=[n],i,o,u,a;e=r.pop();)if(o=e._.children)for(e.children=new Array(a=o.length),u=a-1;u>=0;--u)r.push(i=e.children[u]=new Xe(o[u],u)),i.parent=e;return(n.parent=new Xe(null,0)).children=[n],n}function b1(){var t=_1,n=1,e=1,r=null;function i(s){var l=M1(s);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(u),r)s.eachBefore(c);else{var h=s,f=s,g=s;s.eachBefore(function(v){v.x<h.x&&(h=v),v.x>f.x&&(f=v),v.depth>g.depth&&(g=v)});var y=h===f?1:t(h,f)/2,M=y-h.x,p=n/(f.x+y+M),d=e/(g.depth||1);s.eachBefore(function(v){v.x=(v.x+M)*p,v.y=v.depth*d})}return s}function o(s){var l=s.children,h=s.parent.children,f=s.i?h[s.i-1]:null;if(l){w1(s);var g=(l[0].z+l[l.length-1].z)/2;f?(s.z=f.z+t(s._,f._),s.m=s.z-g):s.z=g}else f&&(s.z=f.z+t(s._,f._));s.parent.A=a(s,f,s.parent.A||h[0])}function u(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function a(s,l,h){if(l){for(var f=s,g=s,y=l,M=f.parent.children[0],p=f.m,d=g.m,v=y.m,w=M.m,_;y=si(y),f=ai(f),y&&f;)M=ai(M),g=si(g),g.a=s,_=y.z+v-f.z-p+t(y._,f._),_>0&&(v1(x1(y,s,h),s,_),p+=_,d+=_),v+=y.m,p+=f.m,w+=M.m,d+=g.m;y&&!si(g)&&(g.t=y,g.m+=v-d),f&&!ai(M)&&(M.t=f,M.m+=p-w,h=s)}return h}function c(s){s.x*=n,s.y=s.depth*e}return i.separation=function(s){return arguments.length?(t=s,i):t},i.size=function(s){return arguments.length?(r=!1,n=+s[0],e=+s[1],i):r?null:[n,e]},i.nodeSize=function(s){return arguments.length?(r=!0,n=+s[0],e=+s[1],i):r?[n,e]:null},i}const T1={passive:!1},Qn={capture:!0,passive:!1};function ci(t){t.stopImmediatePropagation()}function Mn(t){t.preventDefault(),t.stopImmediatePropagation()}function fi(t){var n=t.document.documentElement,e=st(t).on("dragstart.drag",Mn,Qn);"onselectstart"in n?e.on("selectstart.drag",Mn,Qn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function li(t,n){var e=t.document.documentElement,r=st(t).on("dragstart.drag",null);n&&(r.on("click.drag",Mn,Qn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var We=t=>()=>t;function hi(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:a,dx:c,dy:s,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}hi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function k1(t){return!t.ctrlKey&&!t.button}function N1(){return this.parentNode}function A1(t,n){return n==null?{x:t.x,y:t.y}:n}function S1(){return navigator.maxTouchPoints||"ontouchstart"in this}function C1(){var t=k1,n=N1,e=A1,r=S1,i={},o=Hn("start","drag","end"),u=0,a,c,s,l,h=0;function f(_){_.on("mousedown.drag",g).filter(r).on("touchstart.drag",p).on("touchmove.drag",d,T1).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(_,T){if(!(l||!t.call(this,_,T))){var b=w(this,n.call(this,_,T),_,T,"mouse");!b||(st(_.view).on("mousemove.drag",y,Qn).on("mouseup.drag",M,Qn),fi(_.view),ci(_),s=!1,a=_.clientX,c=_.clientY,b("start",_))}}function y(_){if(Mn(_),!s){var T=_.clientX-a,b=_.clientY-c;s=T*T+b*b>h}i.mouse("drag",_)}function M(_){st(_.view).on("mousemove.drag mouseup.drag",null),li(_.view,s),Mn(_),i.mouse("end",_)}function p(_,T){if(!!t.call(this,_,T)){var b=_.changedTouches,C=n.call(this,_,T),F=b.length,R,S;for(R=0;R<F;++R)(S=w(this,C,_,T,b[R].identifier,b[R]))&&(ci(_),S("start",_,b[R]))}}function d(_){var T=_.changedTouches,b=T.length,C,F;for(C=0;C<b;++C)(F=i[T[C].identifier])&&(Mn(_),F("drag",_,T[C]))}function v(_){var T=_.changedTouches,b=T.length,C,F;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),C=0;C<b;++C)(F=i[T[C].identifier])&&(ci(_),F("end",_,T[C]))}function w(_,T,b,C,F,R){var S=o.copy(),k=_t(R||b,T),$,D,m;if((m=e.call(_,new hi("beforestart",{sourceEvent:b,target:f,identifier:F,active:u,x:k[0],y:k[1],dx:0,dy:0,dispatch:S}),C))!=null)return $=m.x-k[0]||0,D=m.y-k[1]||0,function E(x,A,P){var z=k,I;switch(x){case"start":i[F]=E,I=u++;break;case"end":delete i[F],--u;case"drag":k=_t(P||A,T),I=u;break}S.call(x,_,new hi(x,{sourceEvent:A,subject:m,target:f,identifier:F,active:I,x:k[0]+$,y:k[1]+D,dx:k[0]-z[0],dy:k[1]-z[1],dispatch:S}),C)}}return f.filter=function(_){return arguments.length?(t=typeof _=="function"?_:We(!!_),f):t},f.container=function(_){return arguments.length?(n=typeof _=="function"?_:We(_),f):n},f.subject=function(_){return arguments.length?(e=typeof _=="function"?_:We(_),f):e},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:We(!!_),f):r},f.on=function(){var _=o.on.apply(o,arguments);return _===o?f:_},f.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,f):Math.sqrt(h)},f}var gi=t=>()=>t;function E1(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function $1(t){t.stopImmediatePropagation()}function pi(t){t.preventDefault(),t.stopImmediatePropagation()}var ma={name:"drag"},di={name:"space"},bn={name:"handle"},Tn={name:"center"};const{abs:ya,max:ot,min:ut}=Math;function _a(t){return[+t[0],+t[1]]}function mi(t){return[_a(t[0]),_a(t[1])]}var yi={name:"x",handles:["w","e"].map(Gn),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_i={name:"y",handles:["n","s"].map(Gn),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},D1={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Gn),input:function(t){return t==null?null:mi(t)},output:function(t){return t}},Ft={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},va={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},wa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},z1={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},U1={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Gn(t){return{type:t}}function F1(t){return!t.ctrlKey&&!t.button}function I1(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function P1(){return navigator.maxTouchPoints||"ontouchstart"in this}function vi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function R1(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Y1(){return L1(D1)}function L1(t){var n=I1,e=F1,r=P1,i=!0,o=Hn("start","brush","end"),u=6,a;function c(p){var d=p.property("__brush",M).selectAll(".overlay").data([Gn("overlay")]);d.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ft.overlay).merge(d).each(function(){var w=vi(this).extent;st(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),p.selectAll(".selection").data([Gn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ft.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=p.selectAll(".handle").data(t.handles,function(w){return w.type});v.exit().remove(),v.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return Ft[w.type]}),p.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(p,d,v){p.tween?p.on("start.brush",function(w){l(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){l(this,arguments).end(w)}).tween("brush",function(){var w=this,_=w.__brush,T=l(w,arguments),b=_.selection,C=t.input(typeof d=="function"?d.apply(this,arguments):d,_.extent),F=hn(b,C);function R(S){_.selection=S===1&&C===null?null:F(S),s.call(w),T.brush()}return b!==null&&C!==null?R:R(1)}):p.each(function(){var w=this,_=arguments,T=w.__brush,b=t.input(typeof d=="function"?d.apply(w,_):d,T.extent),C=l(w,_).beforestart();vn(w),T.selection=b===null?null:b,s.call(w),C.start(v).brush(v).end(v)})},c.clear=function(p,d){c.move(p,null,d)};function s(){var p=st(this),d=vi(this).selection;d?(p.selectAll(".selection").style("display",null).attr("x",d[0][0]).attr("y",d[0][1]).attr("width",d[1][0]-d[0][0]).attr("height",d[1][1]-d[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?d[1][0]-u/2:d[0][0]-u/2}).attr("y",function(v){return v.type[0]==="s"?d[1][1]-u/2:d[0][1]-u/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?d[1][0]-d[0][0]+u:u}).attr("height",function(v){return v.type==="e"||v.type==="w"?d[1][1]-d[0][1]+u:u})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(p,d,v){var w=p.__brush.emitter;return w&&(!v||!w.clean)?w:new h(p,d,v)}function h(p,d,v){this.that=p,this.args=d,this.state=p.__brush,this.active=0,this.clean=v}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,d){return this.starting?(this.starting=!1,this.emit("start",p,d)):this.emit("brush",p),this},brush:function(p,d){return this.emit("brush",p,d),this},end:function(p,d){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,d)),this},emit:function(p,d,v){var w=st(this.that).datum();o.call(p,this.that,new E1(p,{sourceEvent:d,target:c,selection:t.output(this.state.selection),mode:v,dispatch:o}),w)}};function f(p){if(a&&!p.touches||!e.apply(this,arguments))return;var d=this,v=p.target.__data__.type,w=(i&&p.metaKey?v="overlay":v)==="selection"?ma:i&&p.altKey?Tn:bn,_=t===_i?null:z1[v],T=t===yi?null:U1[v],b=vi(d),C=b.extent,F=b.selection,R=C[0][0],S,k,$=C[0][1],D,m,E=C[1][0],x,A,P=C[1][1],z,I,Y=0,O=0,J,X=_&&T&&i&&p.shiftKey,Z,j,V=Array.from(p.touches||[p],L=>{const G=L.identifier;return L=_t(L,d),L.point0=L.slice(),L.identifier=G,L});vn(d);var K=l(d,arguments,!0).beforestart();if(v==="overlay"){F&&(J=!0);const L=[V[0],V[1]||V[0]];b.selection=F=[[S=t===_i?R:ut(L[0][0],L[1][0]),D=t===yi?$:ut(L[0][1],L[1][1])],[x=t===_i?E:ot(L[0][0],L[1][0]),z=t===yi?P:ot(L[0][1],L[1][1])]],V.length>1&&Q(p)}else S=F[0][0],D=F[0][1],x=F[1][0],z=F[1][1];k=S,m=D,A=x,I=z;var U=st(d).attr("pointer-events","none"),q=U.selectAll(".overlay").attr("cursor",Ft[v]);if(p.touches)K.moved=N,K.ended=B;else{var H=st(p.view).on("mousemove.brush",N,!0).on("mouseup.brush",B,!0);i&&H.on("keydown.brush",lt,!0).on("keyup.brush",ht,!0),fi(p.view)}s.call(d),K.start(p,w.name);function N(L){for(const G of L.changedTouches||[L])for(const ie of V)ie.identifier===G.identifier&&(ie.cur=_t(G,d));if(X&&!Z&&!j&&V.length===1){const G=V[0];ya(G.cur[0]-G[0])>ya(G.cur[1]-G[1])?j=!0:Z=!0}for(const G of V)G.cur&&(G[0]=G.cur[0],G[1]=G.cur[1]);J=!0,pi(L),Q(L)}function Q(L){const G=V[0],ie=G.point0;var qt;switch(Y=G[0]-ie[0],O=G[1]-ie[1],w){case di:case ma:{_&&(Y=ot(R-S,ut(E-x,Y)),k=S+Y,A=x+Y),T&&(O=ot($-D,ut(P-z,O)),m=D+O,I=z+O);break}case bn:{V[1]?(_&&(k=ot(R,ut(E,V[0][0])),A=ot(R,ut(E,V[1][0])),_=1),T&&(m=ot($,ut(P,V[0][1])),I=ot($,ut(P,V[1][1])),T=1)):(_<0?(Y=ot(R-S,ut(E-S,Y)),k=S+Y,A=x):_>0&&(Y=ot(R-x,ut(E-x,Y)),k=S,A=x+Y),T<0?(O=ot($-D,ut(P-D,O)),m=D+O,I=z):T>0&&(O=ot($-z,ut(P-z,O)),m=D,I=z+O));break}case Tn:{_&&(k=ot(R,ut(E,S-Y*_)),A=ot(R,ut(E,x+Y*_))),T&&(m=ot($,ut(P,D-O*T)),I=ot($,ut(P,z+O*T)));break}}A<k&&(_*=-1,qt=S,S=x,x=qt,qt=k,k=A,A=qt,v in va&&q.attr("cursor",Ft[v=va[v]])),I<m&&(T*=-1,qt=D,D=z,z=qt,qt=m,m=I,I=qt,v in wa&&q.attr("cursor",Ft[v=wa[v]])),b.selection&&(F=b.selection),Z&&(k=F[0][0],A=F[1][0]),j&&(m=F[0][1],I=F[1][1]),(F[0][0]!==k||F[0][1]!==m||F[1][0]!==A||F[1][1]!==I)&&(b.selection=[[k,m],[A,I]],s.call(d),K.brush(L,w.name))}function B(L){if($1(L),L.touches){if(L.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else li(L.view,J),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),q.attr("cursor",Ft.overlay),b.selection&&(F=b.selection),R1(F)&&(b.selection=null,s.call(d)),K.end(L,w.name)}function lt(L){switch(L.keyCode){case 16:{X=_&&T;break}case 18:{w===bn&&(_&&(x=A-Y*_,S=k+Y*_),T&&(z=I-O*T,D=m+O*T),w=Tn,Q(L));break}case 32:{(w===bn||w===Tn)&&(_<0?x=A-Y:_>0&&(S=k-Y),T<0?z=I-O:T>0&&(D=m-O),w=di,q.attr("cursor",Ft.selection),Q(L));break}default:return}pi(L)}function ht(L){switch(L.keyCode){case 16:{X&&(Z=j=X=!1,Q(L));break}case 18:{w===Tn&&(_<0?x=A:_>0&&(S=k),T<0?z=I:T>0&&(D=m),w=bn,Q(L));break}case 32:{w===di&&(L.altKey?(_&&(x=A-Y*_,S=k+Y*_),T&&(z=I-O*T,D=m+O*T),w=Tn):(_<0?x=A:_>0&&(S=k),T<0?z=I:T>0&&(D=m),w=bn),q.attr("cursor",Ft[v]),Q(L));break}default:return}pi(L)}}function g(p){l(this,arguments).moved(p)}function y(p){l(this,arguments).ended(p)}function M(){var p=this.__brush||{selection:null};return p.extent=mi(n.apply(this,arguments)),p.dim=t,p}return c.extent=function(p){return arguments.length?(n=typeof p=="function"?p:gi(mi(p)),c):n},c.filter=function(p){return arguments.length?(e=typeof p=="function"?p:gi(!!p),c):e},c.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:gi(!!p),c):r},c.handleSize=function(p){return arguments.length?(u=+p,c):u},c.keyModifiers=function(p){return arguments.length?(i=!!p,c):i},c.on=function(){var p=o.on.apply(o,arguments);return p===o?c:p},c}var Ve=t=>()=>t;function O1(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function It(t,n,e){this.k=t,this.x=n,this.y=e}It.prototype={constructor:It,scale:function(t){return t===1?this:new It(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new It(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Be=new It(1,0,0);xa.prototype=It.prototype;function xa(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Be;return t.__zoom}function wi(t){t.stopImmediatePropagation()}function Kn(t){t.preventDefault(),t.stopImmediatePropagation()}function q1(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function H1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ma(){return this.__zoom||Be}function X1(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function W1(){return navigator.maxTouchPoints||"ontouchstart"in this}function V1(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function B1(){var t=q1,n=H1,e=V1,r=X1,i=W1,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Uo,s=Hn("start","zoom","end"),l,h,f,g=500,y=150,M=0,p=10;function d(m){m.property("__zoom",Ma).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",S).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(m,E,x,A){var P=m.selection?m.selection():m;P.property("__zoom",Ma),m!==P?T(m,E,x,A):P.interrupt().each(function(){b(this,arguments).event(A).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},d.scaleBy=function(m,E,x,A){d.scaleTo(m,function(){var P=this.__zoom.k,z=typeof E=="function"?E.apply(this,arguments):E;return P*z},x,A)},d.scaleTo=function(m,E,x,A){d.transform(m,function(){var P=n.apply(this,arguments),z=this.__zoom,I=x==null?_(P):typeof x=="function"?x.apply(this,arguments):x,Y=z.invert(I),O=typeof E=="function"?E.apply(this,arguments):E;return e(w(v(z,O),I,Y),P,u)},x,A)},d.translateBy=function(m,E,x,A){d.transform(m,function(){return e(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof x=="function"?x.apply(this,arguments):x),n.apply(this,arguments),u)},null,A)},d.translateTo=function(m,E,x,A,P){d.transform(m,function(){var z=n.apply(this,arguments),I=this.__zoom,Y=A==null?_(z):typeof A=="function"?A.apply(this,arguments):A;return e(Be.translate(Y[0],Y[1]).scale(I.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof x=="function"?-x.apply(this,arguments):-x),z,u)},A,P)};function v(m,E){return E=Math.max(o[0],Math.min(o[1],E)),E===m.k?m:new It(E,m.x,m.y)}function w(m,E,x){var A=E[0]-x[0]*m.k,P=E[1]-x[1]*m.k;return A===m.x&&P===m.y?m:new It(m.k,A,P)}function _(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function T(m,E,x,A){m.on("start.zoom",function(){b(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(A).end()}).tween("zoom",function(){var P=this,z=arguments,I=b(P,z).event(A),Y=n.apply(P,z),O=x==null?_(Y):typeof x=="function"?x.apply(P,z):x,J=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),X=P.__zoom,Z=typeof E=="function"?E.apply(P,z):E,j=c(X.invert(O).concat(J/X.k),Z.invert(O).concat(J/Z.k));return function(V){if(V===1)V=Z;else{var K=j(V),U=J/K[2];V=new It(U,O[0]-K[0]*U,O[1]-K[1]*U)}I.zoom(null,V)}})}function b(m,E,x){return!x&&m.__zooming||new C(m,E)}function C(m,E){this.that=m,this.args=E,this.active=0,this.sourceEvent=null,this.extent=n.apply(m,E),this.taps=0}C.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,E){return this.mouse&&m!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var E=st(this.that).datum();s.call(m,this.that,new O1(m,{sourceEvent:this.sourceEvent,target:d,type:m,transform:this.that.__zoom,dispatch:s}),E)}};function F(m,...E){if(!t.apply(this,arguments))return;var x=b(this,E).event(m),A=this.__zoom,P=Math.max(o[0],Math.min(o[1],A.k*Math.pow(2,r.apply(this,arguments)))),z=_t(m);if(x.wheel)(x.mouse[0][0]!==z[0]||x.mouse[0][1]!==z[1])&&(x.mouse[1]=A.invert(x.mouse[0]=z)),clearTimeout(x.wheel);else{if(A.k===P)return;x.mouse=[z,A.invert(z)],vn(this),x.start()}Kn(m),x.wheel=setTimeout(I,y),x.zoom("mouse",e(w(v(A,P),x.mouse[0],x.mouse[1]),x.extent,u));function I(){x.wheel=null,x.end()}}function R(m,...E){if(f||!t.apply(this,arguments))return;var x=m.currentTarget,A=b(this,E,!0).event(m),P=st(m.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",J,!0),z=_t(m,x),I=m.clientX,Y=m.clientY;fi(m.view),wi(m),A.mouse=[z,this.__zoom.invert(z)],vn(this),A.start();function O(X){if(Kn(X),!A.moved){var Z=X.clientX-I,j=X.clientY-Y;A.moved=Z*Z+j*j>M}A.event(X).zoom("mouse",e(w(A.that.__zoom,A.mouse[0]=_t(X,x),A.mouse[1]),A.extent,u))}function J(X){P.on("mousemove.zoom mouseup.zoom",null),li(X.view,A.moved),Kn(X),A.event(X).end()}}function S(m,...E){if(!!t.apply(this,arguments)){var x=this.__zoom,A=_t(m.changedTouches?m.changedTouches[0]:m,this),P=x.invert(A),z=x.k*(m.shiftKey?.5:2),I=e(w(v(x,z),A,P),n.apply(this,E),u);Kn(m),a>0?st(this).transition().duration(a).call(T,I,A,m):st(this).call(d.transform,I,A,m)}}function k(m,...E){if(!!t.apply(this,arguments)){var x=m.touches,A=x.length,P=b(this,E,m.changedTouches.length===A).event(m),z,I,Y,O;for(wi(m),I=0;I<A;++I)Y=x[I],O=_t(Y,this),O=[O,this.__zoom.invert(O),Y.identifier],P.touch0?!P.touch1&&P.touch0[2]!==O[2]&&(P.touch1=O,P.taps=0):(P.touch0=O,z=!0,P.taps=1+!!l);l&&(l=clearTimeout(l)),z&&(P.taps<2&&(h=O[0],l=setTimeout(function(){l=null},g)),vn(this),P.start())}}function $(m,...E){if(!!this.__zooming){var x=b(this,E).event(m),A=m.changedTouches,P=A.length,z,I,Y,O;for(Kn(m),z=0;z<P;++z)I=A[z],Y=_t(I,this),x.touch0&&x.touch0[2]===I.identifier?x.touch0[0]=Y:x.touch1&&x.touch1[2]===I.identifier&&(x.touch1[0]=Y);if(I=x.that.__zoom,x.touch1){var J=x.touch0[0],X=x.touch0[1],Z=x.touch1[0],j=x.touch1[1],V=(V=Z[0]-J[0])*V+(V=Z[1]-J[1])*V,K=(K=j[0]-X[0])*K+(K=j[1]-X[1])*K;I=v(I,Math.sqrt(V/K)),Y=[(J[0]+Z[0])/2,(J[1]+Z[1])/2],O=[(X[0]+j[0])/2,(X[1]+j[1])/2]}else if(x.touch0)Y=x.touch0[0],O=x.touch0[1];else return;x.zoom("touch",e(w(I,Y,O),x.extent,u))}}function D(m,...E){if(!!this.__zooming){var x=b(this,E).event(m),A=m.changedTouches,P=A.length,z,I;for(wi(m),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),z=0;z<P;++z)I=A[z],x.touch0&&x.touch0[2]===I.identifier?delete x.touch0:x.touch1&&x.touch1[2]===I.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(I=_t(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<p)){var Y=st(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return d.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Ve(+m),d):r},d.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Ve(!!m),d):t},d.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Ve(!!m),d):i},d.extent=function(m){return arguments.length?(n=typeof m=="function"?m:Ve([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),d):n},d.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],d):[o[0],o[1]]},d.translateExtent=function(m){return arguments.length?(u[0][0]=+m[0][0],u[1][0]=+m[1][0],u[0][1]=+m[0][1],u[1][1]=+m[1][1],d):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},d.constrain=function(m){return arguments.length?(e=m,d):e},d.duration=function(m){return arguments.length?(a=+m,d):a},d.interpolate=function(m){return arguments.length?(c=m,d):c},d.on=function(){var m=s.on.apply(s,arguments);return m===s?d:m},d.clickDistance=function(m){return arguments.length?(M=(m=+m)*m,d):Math.sqrt(M)},d.tapDistance=function(m){return arguments.length?(p=+m,d):p},d}var ba=Math.random,Z1=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return n()*i+r}}return e.source=t,e}(ba),Q1=function t(n){function e(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(n()*i+r)}}return e.source=t,e}(ba);const G1=1664525,K1=1013904223,Ta=1/4294967296;function J1(t=Math.random()){let n=(0<=t&&t<1?t/Ta:Math.abs(t))|0;return()=>(n=G1*n+K1|0,Ta*(n>>>0))}var j1=Array.prototype,tp=j1.slice;function np(t,n){return t-n}function ep(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}var ka=t=>()=>t;function rp(t,n){for(var e=-1,r=n.length,i;++e<r;)if(i=ip(t,n[e]))return i;return 0}function ip(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,a=u-1;o<u;a=o++){var c=t[o],s=c[0],l=c[1],h=t[a],f=h[0],g=h[1];if(op(c,h,n))return 0;l>r!=g>r&&e<(f-s)*(r-l)/(g-l)+s&&(i=-i)}return i}function op(t,n,e){var r;return up(t,n,e)&&ap(t[r=+(t[0]===n[0])],e[r],n[r])}function up(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function ap(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function sp(){}var Pt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function cp(){var t=1,n=1,e=Ki,r=c;function i(s){var l=e(s);if(Array.isArray(l))l=l.slice().sort(np);else{const h=An(s),f=se(h[0],h[1],l);l=Sn(Math.floor(h[0]/f)*f,Math.floor(h[1]/f-1)*f,l)}return l.map(h=>o(s,h))}function o(s,l){var h=[],f=[];return u(s,l,function(g){r(g,s,l),ep(g)>0?h.push([g]):f.push(g)}),f.forEach(function(g){for(var y=0,M=h.length,p;y<M;++y)if(rp((p=h[y])[0],g)!==-1){p.push(g);return}}),{type:"MultiPolygon",value:l,coordinates:h}}function u(s,l,h){var f=new Array,g=new Array,y,M,p,d,v,w;for(y=M=-1,d=s[0]>=l,Pt[d<<1].forEach(_);++y<t-1;)p=d,d=s[y+1]>=l,Pt[p|d<<1].forEach(_);for(Pt[d<<0].forEach(_);++M<n-1;){for(y=-1,d=s[M*t+t]>=l,v=s[M*t]>=l,Pt[d<<1|v<<2].forEach(_);++y<t-1;)p=d,d=s[M*t+t+y+1]>=l,w=v,v=s[M*t+y+1]>=l,Pt[p|d<<1|v<<2|w<<3].forEach(_);Pt[d|v<<3].forEach(_)}for(y=-1,v=s[M*t]>=l,Pt[v<<2].forEach(_);++y<t-1;)w=v,v=s[M*t+y+1]>=l,Pt[v<<2|w<<3].forEach(_);Pt[v<<3].forEach(_);function _(T){var b=[T[0][0]+y,T[0][1]+M],C=[T[1][0]+y,T[1][1]+M],F=a(b),R=a(C),S,k;(S=g[F])?(k=f[R])?(delete g[S.end],delete f[k.start],S===k?(S.ring.push(C),h(S.ring)):f[S.start]=g[k.end]={start:S.start,end:k.end,ring:S.ring.concat(k.ring)}):(delete g[S.end],S.ring.push(C),g[S.end=R]=S):(S=f[R])?(k=g[F])?(delete f[S.start],delete g[k.end],S===k?(S.ring.push(C),h(S.ring)):f[k.start]=g[S.end]={start:k.start,end:S.end,ring:k.ring.concat(S.ring)}):(delete f[S.start],S.ring.unshift(b),f[S.start=F]=S):f[F]=g[R]={start:F,end:R,ring:[b,C]}}}function a(s){return s[0]*2+s[1]*(t+1)*4}function c(s,l,h){s.forEach(function(f){var g=f[0],y=f[1],M=g|0,p=y|0,d,v=l[p*t+M];g>0&&g<t&&M===g&&(d=l[p*t+M-1],f[0]=g+(h-d)/(v-d)-.5),y>0&&y<n&&p===y&&(d=l[(p-1)*t+M],f[1]=y+(h-d)/(v-d)-.5)})}return i.contour=o,i.size=function(s){if(!arguments.length)return[t,n];var l=Math.floor(s[0]),h=Math.floor(s[1]);if(!(l>=0&&h>=0))throw new Error("invalid size");return t=l,n=h,i},i.thresholds=function(s){return arguments.length?(e=typeof s=="function"?s:Array.isArray(s)?ka(tp.call(s)):ka(s),i):e},i.smooth=function(s){return arguments.length?(r=s?c:sp,i):r===c},i}var fp=Math.PI,lp=fp*2,hp=Math.abs,xi=Math.sqrt;function Mt(){}function Ze(t,n){t&&Aa.hasOwnProperty(t.type)&&Aa[t.type](t,n)}var Na={Feature:function(t,n){Ze(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ze(e[r].geometry,n)}},Aa={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mi(e[r],n,0)},Polygon:function(t,n){Sa(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Sa(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ze(e[r],n)}};function Mi(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Sa(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mi(t[e],n,1);n.polygonEnd()}function Jn(t,n){t&&Na.hasOwnProperty(t.type)?Na[t.type](t,n):Ze(t,n)}var gp=t=>t,bi=new an,Ti=new an,Ca,Ea,ki,Ni,Ot={point:Mt,lineStart:Mt,lineEnd:Mt,polygonStart:function(){Ot.lineStart=pp,Ot.lineEnd=mp},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=Mt,bi.add(hp(Ti)),Ti=new an},result:function(){var t=bi/2;return bi=new an,t}};function pp(){Ot.point=dp}function dp(t,n){Ot.point=$a,Ca=ki=t,Ea=Ni=n}function $a(t,n){Ti.add(Ni*t-ki*n),ki=t,Ni=n}function mp(){$a(Ca,Ea)}var Da=Ot,kn=1/0,Qe=kn,jn=-kn,Ge=jn,yp={point:_p,lineStart:Mt,lineEnd:Mt,polygonStart:Mt,polygonEnd:Mt,result:function(){var t=[[kn,Qe],[jn,Ge]];return jn=Ge=-(Qe=kn=1/0),t}};function _p(t,n){t<kn&&(kn=t),t>jn&&(jn=t),n<Qe&&(Qe=n),n>Ge&&(Ge=n)}var za=yp,Ai=0,Si=0,te=0,Ke=0,Je=0,Nn=0,Ci=0,Ei=0,ne=0,Ua,Fa,Ct,Et,bt={point:en,lineStart:Ia,lineEnd:Pa,polygonStart:function(){bt.lineStart=xp,bt.lineEnd=Mp},polygonEnd:function(){bt.point=en,bt.lineStart=Ia,bt.lineEnd=Pa},result:function(){var t=ne?[Ci/ne,Ei/ne]:Nn?[Ke/Nn,Je/Nn]:te?[Ai/te,Si/te]:[NaN,NaN];return Ai=Si=te=Ke=Je=Nn=Ci=Ei=ne=0,t}};function en(t,n){Ai+=t,Si+=n,++te}function Ia(){bt.point=vp}function vp(t,n){bt.point=wp,en(Ct=t,Et=n)}function wp(t,n){var e=t-Ct,r=n-Et,i=xi(e*e+r*r);Ke+=i*(Ct+t)/2,Je+=i*(Et+n)/2,Nn+=i,en(Ct=t,Et=n)}function Pa(){bt.point=en}function xp(){bt.point=bp}function Mp(){Ra(Ua,Fa)}function bp(t,n){bt.point=Ra,en(Ua=Ct=t,Fa=Et=n)}function Ra(t,n){var e=t-Ct,r=n-Et,i=xi(e*e+r*r);Ke+=i*(Ct+t)/2,Je+=i*(Et+n)/2,Nn+=i,i=Et*t-Ct*n,Ci+=i*(Ct+t),Ei+=i*(Et+n),ne+=i*3,en(Ct=t,Et=n)}var Ya=bt;function La(t){this._context=t}La.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,lp);break}}},result:Mt};var $i=new an,Di,Oa,qa,ee,re,je={point:Mt,lineStart:function(){je.point=Tp},lineEnd:function(){Di&&Ha(Oa,qa),je.point=Mt},polygonStart:function(){Di=!0},polygonEnd:function(){Di=null},result:function(){var t=+$i;return $i=new an,t}};function Tp(t,n){je.point=Ha,Oa=ee=t,qa=re=n}function Ha(t,n){ee-=t,re-=n,$i.add(xi(ee*ee+re*re)),ee=t,re=n}var Xa=je;function Wa(){this._string=[]}Wa.prototype={_radius:4.5,_circle:Va(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._string.push("M",t,",",n),this._point=1;break}case 1:{this._string.push("L",t,",",n);break}default:{this._circle==null&&(this._circle=Va(this._radius)),this._string.push("M",t,",",n,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Va(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function kp(t,n){var e=4.5,r,i;function o(u){return u&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),Jn(u,r(i))),i.result()}return o.area=function(u){return Jn(u,r(Da)),Da.result()},o.measure=function(u){return Jn(u,r(Xa)),Xa.result()},o.bounds=function(u){return Jn(u,r(za)),za.result()},o.centroid=function(u){return Jn(u,r(Ya)),Ya.result()},o.projection=function(u){return arguments.length?(r=u==null?(t=null,gp):(t=u).stream,o):t},o.context=function(u){return arguments.length?(i=u==null?(n=null,new Wa):new La(n=u),typeof e!="function"&&i.pointRadius(e),o):n},o.pointRadius=function(u){return arguments.length?(e=typeof u=="function"?u:(i.pointRadius(+u),+u),o):e},o.projection(t).context(n)}function Np(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Ba(this.cover(n,e),n,e,t)}function Ba(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,u={data:r},a=t._x0,c=t._y0,s=t._x1,l=t._y1,h,f,g,y,M,p,d,v;if(!o)return t._root=u,t;for(;o.length;)if((M=n>=(h=(a+s)/2))?a=h:s=h,(p=e>=(f=(c+l)/2))?c=f:l=f,i=o,!(o=o[d=p<<1|M]))return i[d]=u,t;if(g=+t._x.call(null,o.data),y=+t._y.call(null,o.data),n===g&&e===y)return u.next=o,i?i[d]=u:t._root=u,t;do i=i?i[d]=new Array(4):t._root=new Array(4),(M=n>=(h=(a+s)/2))?a=h:s=h,(p=e>=(f=(c+l)/2))?c=f:l=f;while((d=p<<1|M)===(v=(y>=f)<<1|g>=h));return i[v]=o,i[d]=u,t}function Ap(t){var n,e,r=t.length,i,o,u=new Array(r),a=new Array(r),c=1/0,s=1/0,l=-1/0,h=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(u[e]=i,a[e]=o,i<c&&(c=i),i>l&&(l=i),o<s&&(s=o),o>h&&(h=o));if(c>l||s>h)return this;for(this.cover(c,s).cover(l,h),e=0;e<r;++e)Ba(this,u[e],a[e],t[e]);return this}function Sp(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u=i-e||1,a=this._root,c,s;e>t||t>=i||r>n||n>=o;)switch(s=(n<r)<<1|t<e,c=new Array(4),c[s]=a,a=c,u*=2,s){case 0:i=e+u,o=r+u;break;case 1:e=i-u,o=r+u;break;case 2:i=e+u,r=o-u;break;case 3:e=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function Cp(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Ep(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ct(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function $p(t,n,e){var r,i=this._x0,o=this._y0,u,a,c,s,l=this._x1,h=this._y1,f=[],g=this._root,y,M;for(g&&f.push(new ct(g,i,o,l,h)),e==null?e=1/0:(i=t-e,o=n-e,l=t+e,h=n+e,e*=e);y=f.pop();)if(!(!(g=y.node)||(u=y.x0)>l||(a=y.y0)>h||(c=y.x1)<i||(s=y.y1)<o))if(g.length){var p=(u+c)/2,d=(a+s)/2;f.push(new ct(g[3],p,d,c,s),new ct(g[2],u,d,p,s),new ct(g[1],p,a,c,d),new ct(g[0],u,a,p,d)),(M=(n>=d)<<1|t>=p)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-M],f[f.length-1-M]=y)}else{var v=t-+this._x.call(null,g.data),w=n-+this._y.call(null,g.data),_=v*v+w*w;if(_<e){var T=Math.sqrt(e=_);i=t-T,o=n-T,l=t+T,h=n+T,r=g.data}}return r}function Dp(t){if(isNaN(l=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,u=this._x0,a=this._y0,c=this._x1,s=this._y1,l,h,f,g,y,M,p,d;if(!e)return this;if(e.length)for(;;){if((y=l>=(f=(u+c)/2))?u=f:c=f,(M=h>=(g=(a+s)/2))?a=g:s=g,n=e,!(e=e[p=M<<1|y]))return this;if(!e.length)break;(n[p+1&3]||n[p+2&3]||n[p+3&3])&&(r=n,d=p)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[p]=o:delete n[p],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[d]=e:this._root=e),this):(this._root=o,this)}function zp(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Up(){return this._root}function Fp(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function Ip(t){var n=[],e,r=this._root,i,o,u,a,c;for(r&&n.push(new ct(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,u=e.y0,a=e.x1,c=e.y1)&&r.length){var s=(o+a)/2,l=(u+c)/2;(i=r[3])&&n.push(new ct(i,s,l,a,c)),(i=r[2])&&n.push(new ct(i,o,l,s,c)),(i=r[1])&&n.push(new ct(i,s,u,a,l)),(i=r[0])&&n.push(new ct(i,o,u,s,l))}return this}function Pp(t){var n=[],e=[],r;for(this._root&&n.push(new ct(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,u=r.x0,a=r.y0,c=r.x1,s=r.y1,l=(u+c)/2,h=(a+s)/2;(o=i[0])&&n.push(new ct(o,u,a,l,h)),(o=i[1])&&n.push(new ct(o,l,a,c,h)),(o=i[2])&&n.push(new ct(o,u,h,l,s)),(o=i[3])&&n.push(new ct(o,l,h,c,s))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Rp(t){return t[0]}function Yp(t){return arguments.length?(this._x=t,this):this._x}function Lp(t){return t[1]}function Op(t){return arguments.length?(this._y=t,this):this._y}function Za(t,n,e){var r=new zi(n==null?Rp:n,e==null?Lp:e,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function zi(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Qa(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ft=Za.prototype=zi.prototype;ft.copy=function(){var t=new zi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Qa(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=Qa(r));return t},ft.add=Np,ft.addAll=Ap,ft.cover=Sp,ft.data=Cp,ft.extent=Ep,ft.find=$p,ft.remove=Dp,ft.removeAll=zp,ft.root=Up,ft.size=Fp,ft.visit=Ip,ft.visitAfter=Pp,ft.x=Yp,ft.y=Op;var qp={select:st,selectAll:Sc,json:Ec,scaleLinear:Vo,scaleSqrt:ll,scalePoint:tf,scaleBand:fr,scalePow:Ar,scaleOrdinal:cr,scaleLog:Ko,scaleSequential:Eu,scaleTime:Sh,scaleUtc:Ch,schemeTableau10:zh,schemePastel1:Dh,interpolateRainbow:Ph,interpolateBlues:Ih,interpolateHsl:If,interpolateLab:Pf,interpolateRgb:Un,interpolateRgbBasis:Ao,interpolateZoom:Uo,lch:gf,hsl:he,color:Yt,quantize:Rf,interpolate:hn,max:Wc,maxIndex:Vc,min:Bc,minIndex:Zc,extent:An,sum:Jc,bin:Xc,shuffle:Gc,quickselect:Ji,timeout:qr,transition:Ou,easeLinear:Z0,easePolyInOut:G0,easeQuadInOut:Q0,easeCubicInOut:Hu,easeElasticOut:K0,axisLeft:sg,axisBottom:ag,line:bg,curveStepAfter:zg,brush:Y1,zoom:B1,zoomIdentity:Be,zoomTransform:xa,drag:C1,format:xe,curveMonotoneX:$g,curveMonotoneY:Dg,curveBasis:Eg,timeFormat:Ir,utcFormat:Pr,hierarchy:ii,partition:y1,tree:b1,pack:p1,arc:vg,linkHorizontal:Sg,linkVertical:Cg,path:Wn,randomLcg:J1,randomUniform:Z1,randomInt:Q1,contours:cp,geoPath:kp,quadtree:Za};const pt=new Map;self.onmessage=t=>{switch(t.data.command){case"initQuadtree":{const{xRange:n,yRange:e,times:r,groupIDs:i}=t.data.payload;Hp(n,e,r,i);break}case"updateQuadtree":{const n=t.data.payload.points;Xp(n);break}case"startQuadtreeSearch":{const{x:n,y:e,time:r,groupID:i}=t.data.payload;Wp(n,e,r,i);break}default:{console.error("Worker: unknown message",t.data.command);break}}};const Hp=(t,n,e,r)=>{if(tr(t,n,-1,[""]),e.length>0){if(r.length>0)for(const o of r)tr(t,n,o,e);tr(t,n,-1,e)}if(r.length>0)for(const o of r)tr(t,n,o,[""]);postMessage({command:"finishInitQuadtree",payload:null})},tr=(t,n,e,r)=>{let i;pt.has(e)?i=pt.get(e):(i=new Map,pt.set(e,i));for(const o of r){const u=qp.quadtree().x(a=>a.x).y(a=>a.y).cover(t[0],n[0]).cover(t[1],n[1]);i.set(o,u)}},Xp=t=>{const n=pt.get(-1).get("");for(const e of t)n.add(e),e.time!==void 0&&(e.groupID!==void 0&&pt.has(e.groupID)&&pt.get(e.groupID).has(e.time)&&pt.get(e.groupID).get(e.time).add(e),pt.get(-1).has(e.time)&&pt.get(-1).get(e.time).add(e)),e.groupID&&pt.has(e.groupID)&&pt.get(e.groupID).get("").add(e)},Wp=(t,n,e,r)=>{if(pt.has(r)&&pt.get(r).has(e)){const o=pt.get(r).get(e).find(t,n);if(o===void 0)return;postMessage({command:"finishQuadtreeSearch",payload:{point:o}})}}})();
