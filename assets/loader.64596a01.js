(function(){"use strict";var nr="http://www.w3.org/1999/xhtml",Pi={svg:"http://www.w3.org/2000/svg",xhtml:nr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oe(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Pi.hasOwnProperty(n)?{space:Pi[n],local:t}:t}function ts(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nr&&n.documentElement.namespaceURI===nr?n.createElement(t):n.createElementNS(e,t)}}function ns(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ii(t){var n=oe(t);return(n.local?ns:ts)(n)}function es(){}function er(t){return t==null?es:function(){return this.querySelector(t)}}function rs(t){typeof t!="function"&&(t=er(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=new Array(u),l,s,f=0;f<u;++f)(l=o[f])&&(s=t.call(l,l.__data__,f,o))&&("__data__"in l&&(s.__data__=l.__data__),a[f]=s);return new at(r,this._parents)}function Ri(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function is(){return[]}function Yi(t){return t==null?is:function(){return this.querySelectorAll(t)}}function os(t){return function(){return Ri(t.apply(this,arguments))}}function us(t){typeof t=="function"?t=os(t):t=Yi(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u=n[o],a=u.length,l,s=0;s<a;++s)(l=u[s])&&(r.push(t.call(l,l.__data__,s,u)),i.push(l));return new at(r,i)}function Li(t){return function(){return this.matches(t)}}function Oi(t){return function(n){return n.matches(t)}}var as=Array.prototype.find;function ss(t){return function(){return as.call(this.children,t)}}function ls(){return this.firstElementChild}function cs(t){return this.select(t==null?ls:ss(typeof t=="function"?t:Oi(t)))}var fs=Array.prototype.filter;function hs(){return Array.from(this.children)}function gs(t){return function(){return fs.call(this.children,t)}}function ps(t){return this.selectAll(t==null?hs:gs(typeof t=="function"?t:Oi(t)))}function ds(t){typeof t!="function"&&(t=Li(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=[],l,s=0;s<u;++s)(l=o[s])&&t.call(l,l.__data__,s,o)&&a.push(l);return new at(r,this._parents)}function Hi(t){return new Array(t.length)}function ms(){return new at(this._enter||this._groups.map(Hi),this._parents)}function ue(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ue.prototype={constructor:ue,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ys(t){return function(){return t}}function _s(t,n,e,r,i,o){for(var u=0,a,l=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ue(t,o[u]);for(;u<l;++u)(a=n[u])&&(i[u]=a)}function ws(t,n,e,r,i,o,u){var a,l,s=new Map,f=n.length,h=o.length,c=new Array(f),g;for(a=0;a<f;++a)(l=n[a])&&(c[a]=g=u.call(l,l.__data__,a,n)+"",s.has(g)?i[a]=l:s.set(g,l));for(a=0;a<h;++a)g=u.call(t,o[a],a,o)+"",(l=s.get(g))?(r[a]=l,l.__data__=o[a],s.delete(g)):e[a]=new ue(t,o[a]);for(a=0;a<f;++a)(l=n[a])&&s.get(c[a])===l&&(i[a]=l)}function vs(t){return t.__data__}function xs(t,n){if(!arguments.length)return Array.from(this,vs);var e=n?ws:_s,r=this._parents,i=this._groups;typeof t!="function"&&(t=ys(t));for(var o=i.length,u=new Array(o),a=new Array(o),l=new Array(o),s=0;s<o;++s){var f=r[s],h=i[s],c=h.length,g=bs(t.call(f,f&&f.__data__,s,r)),y=g.length,b=a[s]=new Array(y),p=u[s]=new Array(y),d=l[s]=new Array(c);e(f,h,b,p,d,g,n);for(var w=0,v=0,_,T;w<y;++w)if(_=b[w]){for(w>=v&&(v=w+1);!(T=p[v])&&++v<y;);_._next=T||null}}return u=new at(u,r),u._enter=a,u._exit=l,u}function bs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ms(){return new at(this._exit||this._groups.map(Hi),this._parents)}function Ts(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function ks(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),a=new Array(i),l=0;l<u;++l)for(var s=e[l],f=r[l],h=s.length,c=a[l]=new Array(h),g,y=0;y<h;++y)(g=s[y]||f[y])&&(c[y]=g);for(;l<i;++l)a[l]=e[l];return new at(a,this._parents)}function Ss(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function Ns(t){t||(t=As);function n(h,c){return h&&c?t(h.__data__,c.__data__):!h-!c}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u=e[o],a=u.length,l=i[o]=new Array(a),s,f=0;f<a;++f)(s=u[f])&&(l[f]=s);l.sort(n)}return new at(i,this._parents).order()}function As(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Cs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Es(){return Array.from(this)}function $s(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function Ds(){let t=0;for(const n of this)++t;return t}function zs(){return!this.node()}function Us(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,u=i.length,a;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Fs(t){return function(){this.removeAttribute(t)}}function Ps(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Is(t,n){return function(){this.setAttribute(t,n)}}function Rs(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ys(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ls(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Os(t,n){var e=oe(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Ps:Fs:typeof n=="function"?e.local?Ls:Ys:e.local?Rs:Is)(e,n))}function qi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hs(t){return function(){this.style.removeProperty(t)}}function qs(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Xs(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ws(t,n,e){return arguments.length>1?this.each((n==null?Hs:typeof n=="function"?Xs:qs)(t,n,e==null?"":e)):rn(this.node(),t)}function rn(t,n){return t.style.getPropertyValue(n)||qi(t).getComputedStyle(t,null).getPropertyValue(n)}function Vs(t){return function(){delete this[t]}}function Bs(t,n){return function(){this[t]=n}}function Zs(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Gs(t,n){return arguments.length>1?this.each((n==null?Vs:typeof n=="function"?Zs:Bs)(t,n)):this.node()[t]}function Xi(t){return t.trim().split(/^|\s+/)}function rr(t){return t.classList||new Wi(t)}function Wi(t){this._node=t,this._names=Xi(t.getAttribute("class")||"")}Wi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vi(t,n){for(var e=rr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Bi(t,n){for(var e=rr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Qs(t){return function(){Vi(this,t)}}function Ks(t){return function(){Bi(this,t)}}function Js(t,n){return function(){(n.apply(this,arguments)?Vi:Bi)(this,t)}}function js(t,n){var e=Xi(t+"");if(arguments.length<2){for(var r=rr(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Js:n?Qs:Ks)(e,n))}function tl(){this.textContent=""}function nl(t){return function(){this.textContent=t}}function el(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function rl(t){return arguments.length?this.each(t==null?tl:(typeof t=="function"?el:nl)(t)):this.node().textContent}function il(){this.innerHTML=""}function ol(t){return function(){this.innerHTML=t}}function ul(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function al(t){return arguments.length?this.each(t==null?il:(typeof t=="function"?ul:ol)(t)):this.node().innerHTML}function sl(){this.nextSibling&&this.parentNode.appendChild(this)}function ll(){return this.each(sl)}function cl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fl(){return this.each(cl)}function hl(t){var n=typeof t=="function"?t:Ii(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function gl(){return null}function pl(t,n){var e=typeof t=="function"?t:Ii(t),r=n==null?gl:typeof n=="function"?n:er(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function dl(){var t=this.parentNode;t&&t.removeChild(this)}function ml(){return this.each(dl)}function yl(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function _l(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function wl(t){return this.select(t?_l:yl)}function vl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function xl(t){return function(n){t.call(this,n,this.__data__)}}function bl(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Ml(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Tl(t,n,e){return function(){var r=this.__on,i,o=xl(n);if(r){for(var u=0,a=r.length;u<a;++u)if((i=r[u]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function kl(t,n,e){var r=bl(t+""),i,o=r.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,s=a.length,f;l<s;++l)for(i=0,f=a[l];i<o;++i)if((u=r[i]).type===f.type&&u.name===f.name)return f.value}return}for(a=n?Tl:Ml,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function Zi(t,n,e){var r=qi(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Sl(t,n){return function(){return Zi(this,t,n)}}function Nl(t,n){return function(){return Zi(this,t,n.apply(this,arguments))}}function Al(t,n){return this.each((typeof n=="function"?Nl:Sl)(t,n))}function*Cl(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var ir=[null];function at(t,n){this._groups=t,this._parents=n}function on(){return new at([[document.documentElement]],ir)}function El(){return this}at.prototype=on.prototype={constructor:at,select:rs,selectAll:us,selectChild:cs,selectChildren:ps,filter:ds,data:xs,enter:ms,exit:Ms,join:Ts,merge:ks,selection:El,order:Ss,sort:Ns,call:Cs,nodes:Es,node:$s,size:Ds,empty:zs,each:Us,attr:Os,style:Ws,property:Gs,classed:js,text:rl,html:al,raise:ll,lower:fl,append:hl,insert:pl,remove:ml,clone:wl,datum:vl,on:kl,dispatch:Al,[Symbol.iterator]:Cl};function st(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ir)}function $l(t){let n;for(;n=t.sourceEvent;)t=n;return t}function yt(t,n){if(t=$l(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Dl(t){return typeof t=="string"?new at([document.querySelectorAll(t)],[document.documentElement]):new at([Ri(t)],ir)}function zl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Ul(t,n){return fetch(t,n).then(zl)}function un(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Fl(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function or(t){let n,e,r;t.length!==2?(n=un,e=(a,l)=>un(t(a),l),r=(a,l)=>t(a)-l):(n=t===un||t===Fl?t:Pl,e=t,r=t);function i(a,l,s=0,f=a.length){if(s<f){if(n(l,l)!==0)return f;do{const h=s+f>>>1;e(a[h],l)<0?s=h+1:f=h}while(s<f)}return s}function o(a,l,s=0,f=a.length){if(s<f){if(n(l,l)!==0)return f;do{const h=s+f>>>1;e(a[h],l)<=0?s=h+1:f=h}while(s<f)}return s}function u(a,l,s=0,f=a.length){const h=i(a,l,s,f-1);return h>s&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:u,right:o}}function Pl(){return 0}function Il(t){return t===null?NaN:+t}const Rl=or(un).right;or(Il).center;var Gi=Rl;function Yl(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function Nn(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class an{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],u=n+o,a=Math.abs(n)<Math.abs(o)?n-(u-o):o-(u-n);a&&(e[r++]=a),n=u}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,u=0;if(e>0){for(u=n[--e];e>0&&(r=u,i=n[--e],u=r+i,o=i-(u-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=u+i,i==r-u&&(u=r))}return u}}class Qi extends Map{constructor(n,e=Hl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Ki(this,n))}has(n){return super.has(Ki(this,n))}set(n,e){return super.set(Ll(this,n),e)}delete(n){return super.delete(Ol(this,n))}}function Ki({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ll({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Ol({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Hl(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ql(t){return t}function Xl(t=un){if(t===un)return Ji;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Ji(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}var Wl=Array.prototype,Vl=Wl.slice;function ae(t){return()=>t}var ur=Math.sqrt(50),ar=Math.sqrt(10),sr=Math.sqrt(2);function An(t,n,e){var r,i=-1,o,u,a;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(a=Cn(t,n,e))===0||!isFinite(a))return[];if(a>0){let l=Math.round(t/a),s=Math.round(n/a);for(l*a<t&&++l,s*a>n&&--s,u=new Array(o=s-l+1);++i<o;)u[i]=(l+i)*a}else{a=-a;let l=Math.round(t*a),s=Math.round(n*a);for(l/a<t&&++l,s/a>n&&--s,u=new Array(o=s-l+1);++i<o;)u[i]=(l+i)/a}return r&&u.reverse(),u}function Cn(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ur?10:o>=ar?5:o>=sr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ur?10:o>=ar?5:o>=sr?2:1)}function se(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ur?i*=10:o>=ar?i*=5:o>=sr&&(i*=2),n<t?-i:i}function Bl(t,n,e){let r;for(;;){const i=Cn(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function ji(t){return Math.ceil(Math.log(Yl(t))/Math.LN2)+1}function Zl(){var t=ql,n=Nn,e=ji;function r(i){Array.isArray(i)||(i=Array.from(i));var o,u=i.length,a,l,s=new Array(u);for(o=0;o<u;++o)s[o]=t(i[o],o,i);var f=n(s),h=f[0],c=f[1],g=e(s,h,c);if(!Array.isArray(g)){const d=c,w=+g;if(n===Nn&&([h,c]=Bl(h,c,w)),g=An(h,c,w),g[0]<=h&&(l=Cn(h,c,w)),g[g.length-1]>=c)if(d>=c&&n===Nn){const v=Cn(h,c,w);isFinite(v)&&(v>0?c=(Math.floor(c/v)+1)*v:v<0&&(c=(Math.ceil(c*-v)+1)/-v))}else g.pop()}for(var y=g.length;g[0]<=h;)g.shift(),--y;for(;g[y-1]>c;)g.pop(),--y;var b=new Array(y+1),p;for(o=0;o<=y;++o)p=b[o]=[],p.x0=o>0?g[o-1]:h,p.x1=o<y?g[o]:c;if(isFinite(l)){if(l>0)for(o=0;o<u;++o)(a=s[o])!=null&&h<=a&&a<=c&&b[Math.min(y,Math.floor((a-h)/l))].push(i[o]);else if(l<0){for(o=0;o<u;++o)if((a=s[o])!=null&&h<=a&&a<=c){const d=Math.floor((h-a)*l);b[Math.min(y,d+(g[d]<=a))].push(i[o])}}}else for(o=0;o<u;++o)(a=s[o])!=null&&h<=a&&a<=c&&b[Gi(g,a,0,y)].push(i[o]);return b}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ae(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:ae([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:Array.isArray(i)?ae(Vl.call(i)):ae(i),r):e},r}function Gl(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Ql(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Kl(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Jl(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function to(t,n,e=0,r=t.length-1,i){for(i=i===void 0?Ji:Xl(i);r>e;){if(r-e>600){const l=r-e+1,s=n-e+1,f=Math.log(l),h=.5*Math.exp(2*f/3),c=.5*Math.sqrt(f*h*(l-h)/l)*(s-l/2<0?-1:1),g=Math.max(e,Math.floor(n-s*h/l+c)),y=Math.min(r,Math.floor(n+(l-s)*h/l+c));to(t,n,g,y,i)}const o=t[n];let u=e,a=r;for(En(t,e,n),i(t[r],o)>0&&En(t,e,r);u<a;){for(En(t,u,a),++u,--a;i(t[u],o)<0;)++u;for(;i(t[a],o)>0;)--a}i(t[e],o)===0?En(t,e,a):(++a,En(t,a,r)),a<=n&&(e=a+1),n<=a&&(r=a-1)}return t}function En(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function jl(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}var tc=nc(Math.random);function nc(t){return function(e,r=0,i=e.length){let o=i-(r=+r);for(;o;){const u=t()*o--|0,a=e[o+r];e[o+r]=e[u+r],e[u+r]=a}return e}}function ec(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function qt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function rc(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const no=Symbol("implicit");function lr(){var t=new Qi,n=[],e=[],r=no;function i(o){let u=t.get(o);if(u===void 0){if(r!==no)return r;t.set(o,u=n.push(o)-1)}return e[u%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Qi;for(const u of o)t.has(u)||t.set(u,n.push(u)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lr(n,e).unknown(r)},qt.apply(i,arguments),i}function cr(){var t=lr().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,u,a=!1,l=0,s=0,f=.5;delete t.unknown;function h(){var c=n().length,g=i<r,y=g?i:r,b=g?r:i;o=(b-y)/Math.max(1,c-l+s*2),a&&(o=Math.floor(o)),y+=(b-y-o*(c-l))*f,u=o*(1-l),a&&(y=Math.round(y),u=Math.round(u));var p=jl(c).map(function(d){return y+o*d});return e(g?p.reverse():p)}return t.domain=function(c){return arguments.length?(n(c),h()):n()},t.range=function(c){return arguments.length?([r,i]=c,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(c){return[r,i]=c,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(c){return arguments.length?(a=!!c,h()):a},t.padding=function(c){return arguments.length?(l=Math.min(1,s=+c),h()):l},t.paddingInner=function(c){return arguments.length?(l=Math.min(1,c),h()):l},t.paddingOuter=function(c){return arguments.length?(s=+c,h()):s},t.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),h()):f},t.copy=function(){return cr(n(),[r,i]).round(a).paddingInner(l).paddingOuter(s).align(f)},qt.apply(h(),arguments)}function eo(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eo(n())},t}function ic(){return eo(cr.apply(null,arguments).paddingInner(1))}function sn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function $n(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Rt(){}var Xt=.7,ln=1/Xt,cn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oc=/^#([0-9a-f]{3,8})$/,uc=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),ac=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),sc=new RegExp(`^rgba\\(${cn},${cn},${cn},${Dn}\\)$`),lc=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${Dn}\\)$`),cc=new RegExp(`^hsl\\(${Dn},${Mt},${Mt}\\)$`),fc=new RegExp(`^hsla\\(${Dn},${Mt},${Mt},${Dn}\\)$`),ro={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sn(Rt,Yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:io,formatHex:io,formatHex8:hc,formatHsl:gc,formatRgb:oo,toString:oo});function io(){return this.rgb().formatHex()}function hc(){return this.rgb().formatHex8()}function gc(){return co(this).formatHsl()}function oo(){return this.rgb().formatRgb()}function Yt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=oc.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?uo(n):e===3?new tt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?le(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?le(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=uc.exec(t))?new tt(n[1],n[2],n[3],1):(n=ac.exec(t))?new tt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=sc.exec(t))?le(n[1],n[2],n[3],n[4]):(n=lc.exec(t))?le(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=cc.exec(t))?lo(n[1],n[2]/100,n[3]/100,1):(n=fc.exec(t))?lo(n[1],n[2]/100,n[3]/100,n[4]):ro.hasOwnProperty(t)?uo(ro[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function uo(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function le(t,n,e,r){return r<=0&&(t=n=e=NaN),new tt(t,n,e,r)}function fr(t){return t instanceof Rt||(t=Yt(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function ce(t,n,e,r){return arguments.length===1?fr(t):new tt(t,n,e,r==null?1:r)}function tt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}sn(tt,ce,$n(Rt,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Wt(this.r),Wt(this.g),Wt(this.b),fe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ao,formatHex:ao,formatHex8:pc,formatRgb:so,toString:so}));function ao(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function pc(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function so(){const t=fe(this.opacity);return`${t===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${t===1?")":`, ${t})`}`}function fe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vt(t){return t=Wt(t),(t<16?"0":"")+t.toString(16)}function lo(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new _t(t,n,e,r)}function co(t){if(t instanceof _t)return new _t(t.h,t.s,t.l,t.opacity);if(t instanceof Rt||(t=Yt(t)),!t)return new _t;if(t instanceof _t)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,l=(o+i)/2;return a?(n===o?u=(e-r)/a+(e<r)*6:e===o?u=(r-n)/a+2:u=(n-e)/a+4,a/=l<.5?o+i:2-o-i,u*=60):a=l>0&&l<1?0:u,new _t(u,a,l,t.opacity)}function he(t,n,e,r){return arguments.length===1?co(t):new _t(t,n,e,r==null?1:r)}function _t(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}sn(_t,he,$n(Rt,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new _t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new _t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new tt(hr(t>=240?t-240:t+120,i,r),hr(t,i,r),hr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _t(fo(this.h),ge(this.s),ge(this.l),fe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fe(this.opacity);return`${t===1?"hsl(":"hsla("}${fo(this.h)}, ${ge(this.s)*100}%, ${ge(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fo(t){return t=(t||0)%360,t<0?t+360:t}function ge(t){return Math.max(0,Math.min(1,t||0))}function hr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const ho=Math.PI/180,go=180/Math.PI,pe=18,po=.96422,mo=1,yo=.82521,_o=4/29,fn=6/29,wo=3*fn*fn,dc=fn*fn*fn;function vo(t){if(t instanceof Tt)return new Tt(t.l,t.a,t.b,t.opacity);if(t instanceof kt)return bo(t);t instanceof tt||(t=fr(t));var n=yr(t.r),e=yr(t.g),r=yr(t.b),i=pr((.2225045*n+.7168786*e+.0606169*r)/mo),o,u;return n===e&&e===r?o=u=i:(o=pr((.4360747*n+.3850649*e+.1430804*r)/po),u=pr((.0139322*n+.0971045*e+.7141733*r)/yo)),new Tt(116*i-16,500*(o-i),200*(i-u),t.opacity)}function gr(t,n,e,r){return arguments.length===1?vo(t):new Tt(t,n,e,r==null?1:r)}function Tt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}sn(Tt,gr,$n(Rt,{brighter(t){return new Tt(this.l+pe*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Tt(this.l-pe*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=po*dr(n),t=mo*dr(t),e=yo*dr(e),new tt(mr(3.1338561*n-1.6168667*t-.4906146*e),mr(-.9787684*n+1.9161415*t+.033454*e),mr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function pr(t){return t>dc?Math.pow(t,1/3):t/wo+_o}function dr(t){return t>fn?t*t*t:wo*(t-_o)}function mr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function yr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xo(t){if(t instanceof kt)return new kt(t.h,t.c,t.l,t.opacity);if(t instanceof Tt||(t=vo(t)),t.a===0&&t.b===0)return new kt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*go;return new kt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mc(t,n,e,r){return arguments.length===1?xo(t):new kt(e,n,t,r==null?1:r)}function yc(t,n,e,r){return arguments.length===1?xo(t):new kt(t,n,e,r==null?1:r)}function kt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function bo(t){if(isNaN(t.h))return new Tt(t.l,0,0,t.opacity);var n=t.h*ho;return new Tt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}sn(kt,yc,$n(Rt,{brighter(t){return new kt(this.h,this.c,this.l+pe*(t==null?1:t),this.opacity)},darker(t){return new kt(this.h,this.c,this.l-pe*(t==null?1:t),this.opacity)},rgb(){return bo(this).rgb()}}));var Mo=-.14861,_r=1.78277,wr=-.29227,de=-.90649,zn=1.97294,To=zn*de,ko=zn*_r,So=_r*wr-de*Mo;function _c(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);t instanceof tt||(t=fr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(So*r+To*n-ko*e)/(So+To-ko),o=r-i,u=(zn*(e-i)-wr*o)/de,a=Math.sqrt(u*u+o*o)/(zn*i*(1-i)),l=a?Math.atan2(u,o)*go-120:NaN;return new Bt(l<0?l+360:l,a,i,t.opacity)}function Lt(t,n,e,r){return arguments.length===1?_c(t):new Bt(t,n,e,r==null?1:r)}function Bt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}sn(Bt,Lt,$n(Rt,{brighter(t){return t=t==null?ln:Math.pow(ln,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xt:Math.pow(Xt,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ho,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new tt(255*(n+e*(Mo*r+_r*i)),255*(n+e*(wr*r+de*i)),255*(n+e*(zn*r)),this.opacity)}}));function wc(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function vc(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return wc((e-r/n)*n,u,i,o,a)}}var me=t=>()=>t;function No(t,n){return function(e){return t+e*n}}function xc(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Ao(t,n){var e=n-t;return e?No(t,e>180||e<-180?e-360*Math.round(e/360):e):me(isNaN(t)?n:t)}function bc(t){return(t=+t)==1?pt:function(n,e){return e-n?xc(n,e,t):me(isNaN(n)?e:n)}}function pt(t,n){var e=n-t;return e?No(t,e):me(isNaN(t)?n:t)}var Un=function t(n){var e=bc(n);function r(i,o){var u=e((i=ce(i)).r,(o=ce(o)).r),a=e(i.g,o.g),l=e(i.b,o.b),s=pt(i.opacity,o.opacity);return function(f){return i.r=u(f),i.g=a(f),i.b=l(f),i.opacity=s(f),i+""}}return r.gamma=t,r}(1);function Mc(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),u,a;for(u=0;u<e;++u)a=ce(n[u]),r[u]=a.r||0,i[u]=a.g||0,o[u]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var Co=Mc(vc);function Tc(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function kc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sc(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),u;for(u=0;u<r;++u)i[u]=hn(t[u],n[u]);for(;u<e;++u)o[u]=n[u];return function(a){for(u=0;u<r;++u)o[u]=i[u](a);return o}}function Nc(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ac(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=hn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xr=new RegExp(vr.source,"g");function Cc(t){return function(){return t}}function Ec(t){return function(n){return t(n)+""}}function Eo(t,n){var e=vr.lastIndex=xr.lastIndex=0,r,i,o,u=-1,a=[],l=[];for(t=t+"",n=n+"";(r=vr.exec(t))&&(i=xr.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[u]?a[u]+=o:a[++u]=o),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,l.push({i:u,x:wt(r,i)})),e=xr.lastIndex;return e<n.length&&(o=n.slice(e),a[u]?a[u]+=o:a[++u]=o),a.length<2?l[0]?Ec(l[0].x):Cc(n):(n=l.length,function(s){for(var f=0,h;f<n;++f)a[(h=l[f]).i]=h.x(s);return a.join("")})}function hn(t,n){var e=typeof n,r;return n==null||e==="boolean"?me(n):(e==="number"?wt:e==="string"?(r=Yt(n))?(n=r,Un):Eo:n instanceof Yt?Un:n instanceof Date?Nc:kc(n)?Tc:Array.isArray(n)?Sc:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Ac:wt)(t,n)}function $o(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Do=180/Math.PI,br={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zo(t,n,e,r,i,o){var u,a,l;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,l/=a),t*r<n*e&&(t=-t,n=-n,l=-l,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Do,skewX:Math.atan(l)*Do,scaleX:u,scaleY:a}}var ye;function $c(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?br:zo(n.a,n.b,n.c,n.d,n.e,n.f)}function Dc(t){return t==null||(ye||(ye=document.createElementNS("http://www.w3.org/2000/svg","g")),ye.setAttribute("transform",t),!(t=ye.transform.baseVal.consolidate()))?br:(t=t.matrix,zo(t.a,t.b,t.c,t.d,t.e,t.f))}function Uo(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,f,h,c,g,y){if(s!==h||f!==c){var b=g.push("translate(",null,n,null,e);y.push({i:b-4,x:wt(s,h)},{i:b-2,x:wt(f,c)})}else(h||c)&&g.push("translate("+h+n+c+e)}function u(s,f,h,c){s!==f?(s-f>180?f+=360:f-s>180&&(s+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:wt(s,f)})):f&&h.push(i(h)+"rotate("+f+r)}function a(s,f,h,c){s!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:wt(s,f)}):f&&h.push(i(h)+"skewX("+f+r)}function l(s,f,h,c,g,y){if(s!==h||f!==c){var b=g.push(i(g)+"scale(",null,",",null,")");y.push({i:b-4,x:wt(s,h)},{i:b-2,x:wt(f,c)})}else(h!==1||c!==1)&&g.push(i(g)+"scale("+h+","+c+")")}return function(s,f){var h=[],c=[];return s=t(s),f=t(f),o(s.translateX,s.translateY,f.translateX,f.translateY,h,c),u(s.rotate,f.rotate,h,c),a(s.skewX,f.skewX,h,c),l(s.scaleX,s.scaleY,f.scaleX,f.scaleY,h,c),s=f=null,function(g){for(var y=-1,b=c.length,p;++y<b;)h[(p=c[y]).i]=p.x(g);return h.join("")}}}var zc=Uo($c,"px, ","px)","deg)"),Uc=Uo(Dc,", ",")",")"),Fc=1e-12;function Fo(t){return((t=Math.exp(t))+1/t)/2}function Pc(t){return((t=Math.exp(t))-1/t)/2}function Ic(t){return((t=Math.exp(2*t))-1)/(t+1)}var Po=function t(n,e,r){function i(o,u){var a=o[0],l=o[1],s=o[2],f=u[0],h=u[1],c=u[2],g=f-a,y=h-l,b=g*g+y*y,p,d;if(b<Fc)d=Math.log(c/s)/n,p=function(C){return[a+C*g,l+C*y,s*Math.exp(n*C*d)]};else{var w=Math.sqrt(b),v=(c*c-s*s+r*b)/(2*s*e*w),_=(c*c-s*s-r*b)/(2*c*e*w),T=Math.log(Math.sqrt(v*v+1)-v),M=Math.log(Math.sqrt(_*_+1)-_);d=(M-T)/n,p=function(C){var F=C*d,R=Fo(T),A=s/(e*w)*(R*Ic(n*F+T)-Pc(T));return[a+A*g,l+A*y,s*R/Fo(n*F+T)]}}return p.duration=d*1e3*n/Math.SQRT2,p}return i.rho=function(o){var u=Math.max(.001,+o),a=u*u,l=a*a;return t(u,a,l)},i}(Math.SQRT2,2,4);function Rc(t){return function(n,e){var r=t((n=he(n)).h,(e=he(e)).h),i=pt(n.s,e.s),o=pt(n.l,e.l),u=pt(n.opacity,e.opacity);return function(a){return n.h=r(a),n.s=i(a),n.l=o(a),n.opacity=u(a),n+""}}}var Yc=Rc(Ao);function Lc(t,n){var e=pt((t=gr(t)).l,(n=gr(n)).l),r=pt(t.a,n.a),i=pt(t.b,n.b),o=pt(t.opacity,n.opacity);return function(u){return t.l=e(u),t.a=r(u),t.b=i(u),t.opacity=o(u),t+""}}function Io(t){return function n(e){e=+e;function r(i,o){var u=t((i=Lt(i)).h,(o=Lt(o)).h),a=pt(i.s,o.s),l=pt(i.l,o.l),s=pt(i.opacity,o.opacity);return function(f){return i.h=u(f),i.s=a(f),i.l=l(Math.pow(f,e)),i.opacity=s(f),i+""}}return r.gamma=n,r}(1)}Io(Ao);var Ro=Io(pt);function Oc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Hc(t){return function(){return t}}function qc(t){return+t}var Yo=[0,1];function dt(t){return t}function Mr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Hc(isNaN(n)?NaN:.5)}function Xc(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Wc(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Mr(i,r),o=e(u,o)):(r=Mr(r,i),o=e(o,u)),function(a){return o(r(a))}}function Vc(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Mr(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(a){var l=Gi(t,a,1,r)-1;return o[l](i[l](a))}}function _e(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tr(){var t=Yo,n=Yo,e=hn,r,i,o,u=dt,a,l,s;function f(){var c=Math.min(t.length,n.length);return u!==dt&&(u=Xc(t[0],t[c-1])),a=c>2?Vc:Wc,l=s=null,h}function h(c){return c==null||isNaN(c=+c)?o:(l||(l=a(t.map(r),n,e)))(r(u(c)))}return h.invert=function(c){return u(i((s||(s=a(n,t.map(r),wt)))(c)))},h.domain=function(c){return arguments.length?(t=Array.from(c,qc),f()):t.slice()},h.range=function(c){return arguments.length?(n=Array.from(c),f()):n.slice()},h.rangeRound=function(c){return n=Array.from(c),e=$o,f()},h.clamp=function(c){return arguments.length?(u=c?!0:dt,f()):u!==dt},h.interpolate=function(c){return arguments.length?(e=c,f()):e},h.unknown=function(c){return arguments.length?(o=c,h):o},function(c,g){return r=c,i=g,f()}}function Lo(){return Tr()(dt,dt)}function Bc(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function we(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function gn(t){return t=we(Math.abs(t)),t?t[1]:NaN}function Zc(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}function Gc(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Qc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fn(t){if(!(n=Qc.exec(t)))throw new Error("invalid format: "+t);var n;return new kr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Fn.prototype=kr.prototype;function kr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kc(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Oo;function Jc(t,n){var e=we(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Oo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+we(t,Math.max(0,n+o-1))[0]}function Ho(t,n){var e=we(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var qo={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Bc,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ho(t*100,n),r:Ho,s:Jc,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Xo(t){return t}var Wo=Array.prototype.map,Vo=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function jc(t){var n=t.grouping===void 0||t.thousands===void 0?Xo:Zc(Wo.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Xo:Gc(Wo.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function s(h){h=Fn(h);var c=h.fill,g=h.align,y=h.sign,b=h.symbol,p=h.zero,d=h.width,w=h.comma,v=h.precision,_=h.trim,T=h.type;T==="n"?(w=!0,T="g"):qo[T]||(v===void 0&&(v=12),_=!0,T="g"),(p||c==="0"&&g==="=")&&(p=!0,c="0",g="=");var M=b==="$"?e:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=b==="$"?r:/[%p]/.test(T)?u:"",F=qo[T],R=/[defgprs%]/.test(T);v=v===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function A(k){var $=M,D=C,m,E,x;if(T==="c")D=F(k)+D,k="";else{k=+k;var N=k<0||1/k<0;if(k=isNaN(k)?l:F(Math.abs(k),v),_&&(k=Kc(k)),N&&+k==0&&y!=="+"&&(N=!1),$=(N?y==="("?y:a:y==="-"||y==="("?"":y)+$,D=(T==="s"?Vo[8+Oo/3]:"")+D+(N&&y==="("?")":""),R){for(m=-1,E=k.length;++m<E;)if(x=k.charCodeAt(m),48>x||x>57){D=(x===46?i+k.slice(m+1):k.slice(m))+D,k=k.slice(0,m);break}}}w&&!p&&(k=n(k,1/0));var I=$.length+k.length+D.length,z=I<d?new Array(d-I+1).join(c):"";switch(w&&p&&(k=n(z+k,z.length?d-D.length:1/0),z=""),g){case"<":k=$+k+D+z;break;case"=":k=$+z+k+D;break;case"^":k=z.slice(0,I=z.length>>1)+$+k+D+z.slice(I);break;default:k=z+$+k+D;break}return o(k)}return A.toString=function(){return h+""},A}function f(h,c){var g=s((h=Fn(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(gn(c)/3)))*3,b=Math.pow(10,-y),p=Vo[8+y/3];return function(d){return g(b*d)+p}}return{format:s,formatPrefix:f}}var ve,xe,Bo;tf({thousands:",",grouping:[3],currency:["$",""]});function tf(t){return ve=jc(t),xe=ve.format,Bo=ve.formatPrefix,ve}function nf(t){return Math.max(0,-gn(Math.abs(t)))}function ef(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gn(n)/3)))*3-gn(Math.abs(t)))}function rf(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,gn(n)-gn(t))+1}function of(t,n,e,r){var i=se(t,n,e),o;switch(r=Fn(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=ef(i,u))&&(r.precision=o),Bo(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=rf(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=nf(i))&&(r.precision=o-(r.type==="%")*2);break}}return xe(r)}function Sr(t){var n=t.domain;return t.ticks=function(e){var r=n();return An(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return of(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,u=r[i],a=r[o],l,s,f=10;for(a<u&&(s=u,u=a,a=s,s=i,i=o,o=s);f-- >0;){if(s=Cn(u,a,e),s===l)return r[i]=u,r[o]=a,n(r);if(s>0)u=Math.floor(u/s)*s,a=Math.ceil(a/s)*s;else if(s<0)u=Math.ceil(u*s)/s,a=Math.floor(a*s)/s;else break;l=s}return t},t}function Zo(){var t=Lo();return t.copy=function(){return _e(t,Zo())},qt.apply(t,arguments),Sr(t)}function Go(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],u;return o<i&&(u=e,e=r,r=u,u=i,i=o,o=u),t[e]=n.floor(i),t[r]=n.ceil(o),t}function Qo(t){return Math.log(t)}function Ko(t){return Math.exp(t)}function uf(t){return-Math.log(-t)}function af(t){return-Math.exp(-t)}function sf(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lf(t){return t===10?sf:t===Math.E?Math.exp:n=>Math.pow(t,n)}function cf(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Jo(t){return(n,e)=>-t(-n,e)}function ff(t){const n=t(Qo,Ko),e=n.domain;let r=10,i,o;function u(){return i=cf(r),o=lf(r),e()[0]<0?(i=Jo(i),o=Jo(o),t(uf,af)):t(Qo,Ko),n}return n.base=function(a){return arguments.length?(r=+a,u()):r},n.domain=function(a){return arguments.length?(e(a),u()):e()},n.ticks=a=>{const l=e();let s=l[0],f=l[l.length-1];const h=f<s;h&&([s,f]=[f,s]);let c=i(s),g=i(f),y,b;const p=a==null?10:+a;let d=[];if(!(r%1)&&g-c<p){if(c=Math.floor(c),g=Math.ceil(g),s>0){for(;c<=g;++c)for(y=1;y<r;++y)if(b=c<0?y/o(-c):y*o(c),!(b<s)){if(b>f)break;d.push(b)}}else for(;c<=g;++c)for(y=r-1;y>=1;--y)if(b=c>0?y/o(-c):y*o(c),!(b<s)){if(b>f)break;d.push(b)}d.length*2<p&&(d=An(s,f,p))}else d=An(c,g,Math.min(g-c,p)).map(o);return h?d.reverse():d},n.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fn(l)).precision==null&&(l.trim=!0),l=xe(l)),a===1/0)return l;const s=Math.max(1,r*a/n.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=s?l(f):""}},n.nice=()=>e(Go(e(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),n}function jo(){const t=ff(Tr()).domain([1,10]);return t.copy=()=>_e(t,jo()).base(t.base()),qt.apply(t,arguments),t}function tu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function hf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gf(t){return t<0?-t*t:t*t}function pf(t){var n=t(dt,dt),e=1;function r(){return e===1?t(dt,dt):e===.5?t(hf,gf):t(tu(e),tu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Sr(n)}function Nr(){var t=pf(Tr());return t.copy=function(){return _e(t,Nr()).exponent(t.exponent())},qt.apply(t,arguments),t}function df(){return Nr.apply(null,arguments).exponent(.5)}var Ar=new Date,Cr=new Date;function nt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),n(o,1),t(o),o},i.round=function(o){var u=i(o),a=i.ceil(o);return o-u<a-o?u:a},i.offset=function(o,u){return n(o=new Date(+o),u==null?1:Math.floor(u)),o},i.range=function(o,u,a){var l=[],s;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<u)||!(a>0))return l;do l.push(s=new Date(+o)),n(o,a),t(o);while(s<o&&o<u);return l},i.filter=function(o){return nt(function(u){if(u>=u)for(;t(u),!o(u);)u.setTime(u-1)},function(u,a){if(u>=u)if(a<0)for(;++a<=0;)for(;n(u,-1),!o(u););else for(;--a>=0;)for(;n(u,1),!o(u););})},e&&(i.count=function(o,u){return Ar.setTime(+o),Cr.setTime(+u),t(Ar),t(Cr),Math.floor(e(Ar,Cr))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(u){return r(u)%o===0}:function(u){return i.count(0,u)%o===0}):i}),i}var be=nt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});be.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):be};var mf=be;be.range;const $t=1e3,mt=$t*60,Dt=mt*60,Zt=Dt*24,Er=Zt*7,nu=Zt*30,$r=Zt*365;var eu=nt(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*$t)},function(t,n){return(n-t)/$t},function(t){return t.getUTCSeconds()}),pn=eu;eu.range;var ru=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$t)},function(t,n){t.setTime(+t+n*mt)},function(t,n){return(n-t)/mt},function(t){return t.getMinutes()}),iu=ru;ru.range;var ou=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$t-t.getMinutes()*mt)},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getHours()}),uu=ou;ou.range;var au=nt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mt)/Zt,t=>t.getDate()-1),Me=au;au.range;function Gt(t){return nt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+e*7)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*mt)/Er})}var Te=Gt(0),ke=Gt(1),yf=Gt(2),_f=Gt(3),dn=Gt(4),wf=Gt(5),vf=Gt(6);Te.range,ke.range,yf.range,_f.range,dn.range,wf.range,vf.range;var su=nt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),lu=su;su.range;var Dr=nt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Dr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)})};var Qt=Dr;Dr.range;var cu=nt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*mt)},function(t,n){return(n-t)/mt},function(t){return t.getUTCMinutes()}),fu=cu;cu.range;var hu=nt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getUTCHours()}),gu=hu;hu.range;var pu=nt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Zt},function(t){return t.getUTCDate()-1}),Se=pu;pu.range;function Kt(t){return nt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+e*7)},function(n,e){return(e-n)/Er})}var Ne=Kt(0),Ae=Kt(1),xf=Kt(2),bf=Kt(3),mn=Kt(4),Mf=Kt(5),Tf=Kt(6);Ne.range,Ae.range,xf.range,bf.range,mn.range,Mf.range,Tf.range;var du=nt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),mu=du;du.range;var zr=nt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})};var Jt=zr;zr.range;function yu(t,n,e,r,i,o){const u=[[pn,1,$t],[pn,5,5*$t],[pn,15,15*$t],[pn,30,30*$t],[o,1,mt],[o,5,5*mt],[o,15,15*mt],[o,30,30*mt],[i,1,Dt],[i,3,3*Dt],[i,6,6*Dt],[i,12,12*Dt],[r,1,Zt],[r,2,2*Zt],[e,1,Er],[n,1,nu],[n,3,3*nu],[t,1,$r]];function a(s,f,h){const c=f<s;c&&([s,f]=[f,s]);const g=h&&typeof h.range=="function"?h:l(s,f,h),y=g?g.range(s,+f+1):[];return c?y.reverse():y}function l(s,f,h){const c=Math.abs(f-s)/h,g=or(([,,p])=>p).right(u,c);if(g===u.length)return t.every(se(s/$r,f/$r,h));if(g===0)return mf.every(Math.max(se(s,f,h),1));const[y,b]=u[c/u[g-1][2]<u[g][2]/c?g-1:g];return y.every(b)}return[a,l]}const[kf,Sf]=yu(Jt,mu,Ne,Se,gu,fu),[Nf,Af]=yu(Qt,lu,Te,Me,uu,iu);function Ur(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pn(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Cf(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,l=t.shortMonths,s=In(i),f=Rn(i),h=In(o),c=Rn(o),g=In(u),y=Rn(u),b=In(a),p=Rn(a),d=In(l),w=Rn(l),v={a:N,A:I,b:z,B:P,c:null,d:Mu,e:Mu,f:Jf,g:sh,G:ch,H:Gf,I:Qf,j:Kf,L:Tu,m:jf,M:th,p:Y,q:O,Q:Eu,s:$u,S:nh,u:eh,U:rh,V:ih,w:oh,W:uh,x:null,X:null,y:ah,Y:lh,Z:fh,"%":Cu},_={a:J,A:X,b:Z,B:j,c:null,d:Su,e:Su,f:dh,g:kh,G:Nh,H:hh,I:gh,j:ph,L:Nu,m:mh,M:yh,p:V,q:K,Q:Eu,s:$u,S:_h,u:wh,U:vh,V:xh,w:bh,W:Mh,x:null,X:null,y:Th,Y:Sh,Z:Ah,"%":Cu},T={a:A,A:k,b:$,B:D,c:m,d:xu,e:xu,f:Wf,g:vu,G:wu,H:bu,I:bu,j:Of,L:Xf,m:Lf,M:Hf,p:R,q:Yf,Q:Bf,s:Zf,S:qf,u:Uf,U:Ff,V:Pf,w:zf,W:If,x:E,X:x,y:vu,Y:wu,Z:Rf,"%":Vf};v.x=M(e,v),v.X=M(r,v),v.c=M(n,v),_.x=M(e,_),_.X=M(r,_),_.c=M(n,_);function M(U,H){return function(q){var S=[],G=-1,B=0,ft=U.length,ht,L,Q;for(q instanceof Date||(q=new Date(+q));++G<ft;)U.charCodeAt(G)===37&&(S.push(U.slice(B,G)),(L=_u[ht=U.charAt(++G)])!=null?ht=U.charAt(++G):L=ht==="e"?" ":"0",(Q=H[ht])&&(ht=Q(q,L)),S.push(ht),B=G+1);return S.push(U.slice(B,G)),S.join("")}}function C(U,H){return function(q){var S=Pn(1900,void 0,1),G=F(S,U,q+="",0),B,ft;if(G!=q.length)return null;if("Q"in S)return new Date(S.Q);if("s"in S)return new Date(S.s*1e3+("L"in S?S.L:0));if(H&&!("Z"in S)&&(S.Z=0),"p"in S&&(S.H=S.H%12+S.p*12),S.m===void 0&&(S.m="q"in S?S.q:0),"V"in S){if(S.V<1||S.V>53)return null;"w"in S||(S.w=1),"Z"in S?(B=Fr(Pn(S.y,0,1)),ft=B.getUTCDay(),B=ft>4||ft===0?Ae.ceil(B):Ae(B),B=Se.offset(B,(S.V-1)*7),S.y=B.getUTCFullYear(),S.m=B.getUTCMonth(),S.d=B.getUTCDate()+(S.w+6)%7):(B=Ur(Pn(S.y,0,1)),ft=B.getDay(),B=ft>4||ft===0?ke.ceil(B):ke(B),B=Me.offset(B,(S.V-1)*7),S.y=B.getFullYear(),S.m=B.getMonth(),S.d=B.getDate()+(S.w+6)%7)}else("W"in S||"U"in S)&&("w"in S||(S.w="u"in S?S.u%7:"W"in S?1:0),ft="Z"in S?Fr(Pn(S.y,0,1)).getUTCDay():Ur(Pn(S.y,0,1)).getDay(),S.m=0,S.d="W"in S?(S.w+6)%7+S.W*7-(ft+5)%7:S.w+S.U*7-(ft+6)%7);return"Z"in S?(S.H+=S.Z/100|0,S.M+=S.Z%100,Fr(S)):Ur(S)}}function F(U,H,q,S){for(var G=0,B=H.length,ft=q.length,ht,L;G<B;){if(S>=ft)return-1;if(ht=H.charCodeAt(G++),ht===37){if(ht=H.charAt(G++),L=T[ht in _u?H.charAt(G++):ht],!L||(S=L(U,q,S))<0)return-1}else if(ht!=q.charCodeAt(S++))return-1}return S}function R(U,H,q){var S=s.exec(H.slice(q));return S?(U.p=f.get(S[0].toLowerCase()),q+S[0].length):-1}function A(U,H,q){var S=g.exec(H.slice(q));return S?(U.w=y.get(S[0].toLowerCase()),q+S[0].length):-1}function k(U,H,q){var S=h.exec(H.slice(q));return S?(U.w=c.get(S[0].toLowerCase()),q+S[0].length):-1}function $(U,H,q){var S=d.exec(H.slice(q));return S?(U.m=w.get(S[0].toLowerCase()),q+S[0].length):-1}function D(U,H,q){var S=b.exec(H.slice(q));return S?(U.m=p.get(S[0].toLowerCase()),q+S[0].length):-1}function m(U,H,q){return F(U,n,H,q)}function E(U,H,q){return F(U,e,H,q)}function x(U,H,q){return F(U,r,H,q)}function N(U){return u[U.getDay()]}function I(U){return o[U.getDay()]}function z(U){return l[U.getMonth()]}function P(U){return a[U.getMonth()]}function Y(U){return i[+(U.getHours()>=12)]}function O(U){return 1+~~(U.getMonth()/3)}function J(U){return u[U.getUTCDay()]}function X(U){return o[U.getUTCDay()]}function Z(U){return l[U.getUTCMonth()]}function j(U){return a[U.getUTCMonth()]}function V(U){return i[+(U.getUTCHours()>=12)]}function K(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var H=M(U+="",v);return H.toString=function(){return U},H},parse:function(U){var H=C(U+="",!1);return H.toString=function(){return U},H},utcFormat:function(U){var H=M(U+="",_);return H.toString=function(){return U},H},utcParse:function(U){var H=C(U+="",!0);return H.toString=function(){return U},H}}}var _u={"-":"",_:" ",0:"0"},et=/^\s*\d+/,Ef=/^%/,$f=/[\\^$*+?|[\]().{}]/g;function W(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Df(t){return t.replace($f,"\\$&")}function In(t){return new RegExp("^(?:"+t.map(Df).join("|")+")","i")}function Rn(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function zf(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Uf(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Ff(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Pf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function If(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function wu(t,n,e){var r=et.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function vu(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Rf(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Yf(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Lf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function xu(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Of(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function bu(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Hf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function qf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Xf(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Wf(t,n,e){var r=et.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Vf(t,n,e){var r=Ef.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Bf(t,n,e){var r=et.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Zf(t,n,e){var r=et.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Mu(t,n){return W(t.getDate(),n,2)}function Gf(t,n){return W(t.getHours(),n,2)}function Qf(t,n){return W(t.getHours()%12||12,n,2)}function Kf(t,n){return W(1+Me.count(Qt(t),t),n,3)}function Tu(t,n){return W(t.getMilliseconds(),n,3)}function Jf(t,n){return Tu(t,n)+"000"}function jf(t,n){return W(t.getMonth()+1,n,2)}function th(t,n){return W(t.getMinutes(),n,2)}function nh(t,n){return W(t.getSeconds(),n,2)}function eh(t){var n=t.getDay();return n===0?7:n}function rh(t,n){return W(Te.count(Qt(t)-1,t),n,2)}function ku(t){var n=t.getDay();return n>=4||n===0?dn(t):dn.ceil(t)}function ih(t,n){return t=ku(t),W(dn.count(Qt(t),t)+(Qt(t).getDay()===4),n,2)}function oh(t){return t.getDay()}function uh(t,n){return W(ke.count(Qt(t)-1,t),n,2)}function ah(t,n){return W(t.getFullYear()%100,n,2)}function sh(t,n){return t=ku(t),W(t.getFullYear()%100,n,2)}function lh(t,n){return W(t.getFullYear()%1e4,n,4)}function ch(t,n){var e=t.getDay();return t=e>=4||e===0?dn(t):dn.ceil(t),W(t.getFullYear()%1e4,n,4)}function fh(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+W(n/60|0,"0",2)+W(n%60,"0",2)}function Su(t,n){return W(t.getUTCDate(),n,2)}function hh(t,n){return W(t.getUTCHours(),n,2)}function gh(t,n){return W(t.getUTCHours()%12||12,n,2)}function ph(t,n){return W(1+Se.count(Jt(t),t),n,3)}function Nu(t,n){return W(t.getUTCMilliseconds(),n,3)}function dh(t,n){return Nu(t,n)+"000"}function mh(t,n){return W(t.getUTCMonth()+1,n,2)}function yh(t,n){return W(t.getUTCMinutes(),n,2)}function _h(t,n){return W(t.getUTCSeconds(),n,2)}function wh(t){var n=t.getUTCDay();return n===0?7:n}function vh(t,n){return W(Ne.count(Jt(t)-1,t),n,2)}function Au(t){var n=t.getUTCDay();return n>=4||n===0?mn(t):mn.ceil(t)}function xh(t,n){return t=Au(t),W(mn.count(Jt(t),t)+(Jt(t).getUTCDay()===4),n,2)}function bh(t){return t.getUTCDay()}function Mh(t,n){return W(Ae.count(Jt(t)-1,t),n,2)}function Th(t,n){return W(t.getUTCFullYear()%100,n,2)}function kh(t,n){return t=Au(t),W(t.getUTCFullYear()%100,n,2)}function Sh(t,n){return W(t.getUTCFullYear()%1e4,n,4)}function Nh(t,n){var e=t.getUTCDay();return t=e>=4||e===0?mn(t):mn.ceil(t),W(t.getUTCFullYear()%1e4,n,4)}function Ah(){return"+0000"}function Cu(){return"%"}function Eu(t){return+t}function $u(t){return Math.floor(+t/1e3)}var yn,Pr,Ir;Ch({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ch(t){return yn=Cf(t),Pr=yn.format,yn.parse,Ir=yn.utcFormat,yn.utcParse,yn}function Eh(t){return new Date(t)}function $h(t){return t instanceof Date?+t:+new Date(+t)}function Rr(t,n,e,r,i,o,u,a,l,s){var f=Lo(),h=f.invert,c=f.domain,g=s(".%L"),y=s(":%S"),b=s("%I:%M"),p=s("%I %p"),d=s("%a %d"),w=s("%b %d"),v=s("%B"),_=s("%Y");function T(M){return(l(M)<M?g:a(M)<M?y:u(M)<M?b:o(M)<M?p:r(M)<M?i(M)<M?d:w:e(M)<M?v:_)(M)}return f.invert=function(M){return new Date(h(M))},f.domain=function(M){return arguments.length?c(Array.from(M,$h)):c().map(Eh)},f.ticks=function(M){var C=c();return t(C[0],C[C.length-1],M==null?10:M)},f.tickFormat=function(M,C){return C==null?T:s(C)},f.nice=function(M){var C=c();return(!M||typeof M.range!="function")&&(M=n(C[0],C[C.length-1],M==null?10:M)),M?c(Go(C,M)):f},f.copy=function(){return _e(f,Rr(t,n,e,r,i,o,u,a,l,s))},f}function Dh(){return qt.apply(Rr(Nf,Af,Qt,lu,Te,Me,uu,iu,pn,Pr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zh(){return qt.apply(Rr(kf,Sf,Jt,mu,Ne,Se,gu,fu,pn,Ir).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uh(){var t=0,n=1,e,r,i,o,u=dt,a=!1,l;function s(h){return h==null||isNaN(h=+h)?l:u(i===0?.5:(h=(o(h)-e)*i,a?Math.max(0,Math.min(1,h)):h))}s.domain=function(h){return arguments.length?([t,n]=h,e=o(t=+t),r=o(n=+n),i=e===r?0:1/(r-e),s):[t,n]},s.clamp=function(h){return arguments.length?(a=!!h,s):a},s.interpolator=function(h){return arguments.length?(u=h,s):u};function f(h){return function(c){var g,y;return arguments.length?([g,y]=c,u=h(g,y),s):[u(0),u(1)]}}return s.range=f(hn),s.rangeRound=f($o),s.unknown=function(h){return arguments.length?(l=h,s):l},function(h){return o=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),s}}function Fh(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Du(){var t=Sr(Uh()(dt));return t.copy=function(){return Fh(t,Du())},rc.apply(t,arguments)}function Yr(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}var Ph=Yr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ih=Yr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Rh=t=>Co(t[t.length-1]),Yh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Yr),Lh=Rh(Yh);Ro(Lt(-100,.75,.35),Lt(80,1.5,.8)),Ro(Lt(260,.75,.35),Lt(80,1.5,.8));var Ce=Lt();function Oh(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Ce.h=360*t-100,Ce.s=1.5-1.5*n,Ce.l=.8-.9*n,Ce+""}var _n=0,Yn=0,Ln=0,zu=1e3,Ee,On,$e=0,jt=0,De=0,Hn=typeof performance=="object"&&performance.now?performance:Date,Uu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lr(){return jt||(Uu(Hh),jt=Hn.now()+De)}function Hh(){jt=0}function ze(){this._call=this._time=this._next=null}ze.prototype=Fu.prototype={constructor:ze,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Lr():+e)+(n==null?0:+n),!this._next&&On!==this&&(On?On._next=this:Ee=this,On=this),this._call=t,this._time=e,Or()},stop:function(){this._call&&(this._call=null,this._time=1/0,Or())}};function Fu(t,n,e){var r=new ze;return r.restart(t,n,e),r}function qh(){Lr(),++_n;for(var t=Ee,n;t;)(n=jt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--_n}function Pu(){jt=($e=Hn.now())+De,_n=Yn=0;try{qh()}finally{_n=0,Wh(),jt=0}}function Xh(){var t=Hn.now(),n=t-$e;n>zu&&(De-=n,$e=t)}function Wh(){for(var t,n=Ee,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ee=e);On=t,Or(r)}function Or(t){if(!_n){Yn&&(Yn=clearTimeout(Yn));var n=t-jt;n>24?(t<1/0&&(Yn=setTimeout(Pu,t-Hn.now()-De)),Ln&&(Ln=clearInterval(Ln))):(Ln||($e=Hn.now(),Ln=setInterval(Xh,zu)),_n=1,Uu(Pu))}}function Hr(t,n,e){var r=new ze;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Vh={value:()=>{}};function qn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ue(e)}function Ue(t){this._=t}function Bh(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ue.prototype=qn.prototype={constructor:Ue,on:function(t,n){var e=this._,r=Bh(t+"",e),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=Zh(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(i=(t=r[o]).type)e[i]=Iu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Iu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ue(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Zh(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Iu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Vh,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Gh=qn("start","end","cancel","interrupt"),Qh=[],Ru=0,Yu=1,qr=2,Fe=3,Lu=4,Xr=5,Pe=6;function Ie(t,n,e,r,i,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;Kh(t,e,{name:n,index:r,group:i,on:Gh,tween:Qh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ru})}function Wr(t,n){var e=vt(t,n);if(e.state>Ru)throw new Error("too late; already scheduled");return e}function St(t,n){var e=vt(t,n);if(e.state>Fe)throw new Error("too late; already running");return e}function vt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Kh(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Fu(o,0,e.time);function o(s){e.state=Yu,e.timer.restart(u,e.delay,e.time),e.delay<=s&&u(s-e.delay)}function u(s){var f,h,c,g;if(e.state!==Yu)return l();for(f in r)if(g=r[f],g.name===e.name){if(g.state===Fe)return Hr(u);g.state===Lu?(g.state=Pe,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[f]):+f<n&&(g.state=Pe,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[f])}if(Hr(function(){e.state===Fe&&(e.state=Lu,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=qr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===qr){for(e.state=Fe,i=new Array(c=e.tween.length),f=0,h=-1;f<c;++f)(g=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=g);i.length=h+1}}function a(s){for(var f=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(l),e.state=Xr,1),h=-1,c=i.length;++h<c;)i[h].call(t,f);e.state===Xr&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=Pe,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function wn(t,n){var e=t.__transition,r,i,o=!0,u;if(!!e){n=n==null?null:n+"";for(u in e){if((r=e[u]).name!==n){o=!1;continue}i=r.state>qr&&r.state<Xr,r.state=Pe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[u]}o&&delete t.__transition}}function Jh(t){return this.each(function(){wn(this,t)})}function jh(t,n){var e,r;return function(){var i=St(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function t0(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=St(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},l=0,s=i.length;l<s;++l)if(i[l].name===n){i[l]=a;break}l===s&&i.push(a)}o.tween=i}}function n0(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=vt(this.node(),e).tween,i=0,o=r.length,u;i<o;++i)if((u=r[i]).name===t)return u.value;return null}return this.each((n==null?jh:t0)(e,t,n))}function Vr(t,n,e){var r=t._id;return t.each(function(){var i=St(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return vt(i,r).value[n]}}function Ou(t,n){var e;return(typeof n=="number"?wt:n instanceof Yt?Un:(e=Yt(n))?(n=e,Un):Eo)(t,n)}function e0(t){return function(){this.removeAttribute(t)}}function r0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function i0(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttribute(t);return u===i?null:u===r?o:o=n(r=u,e)}}function o0(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===i?null:u===r?o:o=n(r=u,e)}}function u0(t,n,e){var r,i,o;return function(){var u,a=e(this),l;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=a+"",u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,a)))}}function a0(t,n,e){var r,i,o;return function(){var u,a=e(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=a+"",u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,a)))}}function s0(t,n){var e=oe(t),r=e==="transform"?Uc:Ou;return this.attrTween(t,typeof n=="function"?(e.local?a0:u0)(e,r,Vr(this,"attr."+t,n)):n==null?(e.local?r0:e0)(e):(e.local?o0:i0)(e,r,n))}function l0(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function c0(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function f0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&c0(t,o)),e}return i._value=n,i}function h0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&l0(t,o)),e}return i._value=n,i}function g0(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=oe(t);return this.tween(e,(r.local?f0:h0)(r,n))}function p0(t,n){return function(){Wr(this,t).delay=+n.apply(this,arguments)}}function d0(t,n){return n=+n,function(){Wr(this,t).delay=n}}function m0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?p0:d0)(n,t)):vt(this.node(),n).delay}function y0(t,n){return function(){St(this,t).duration=+n.apply(this,arguments)}}function _0(t,n){return n=+n,function(){St(this,t).duration=n}}function w0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?y0:_0)(n,t)):vt(this.node(),n).duration}function v0(t,n){if(typeof n!="function")throw new Error;return function(){St(this,t).ease=n}}function x0(t){var n=this._id;return arguments.length?this.each(v0(n,t)):vt(this.node(),n).ease}function b0(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;St(this,t).ease=e}}function M0(t){if(typeof t!="function")throw new Error;return this.each(b0(this._id,t))}function T0(t){typeof t!="function"&&(t=Li(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,a=r[i]=[],l,s=0;s<u;++s)(l=o[s])&&t.call(l,l.__data__,s,o)&&a.push(l);return new zt(r,this._parents,this._name,this._id)}function k0(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var l=n[a],s=e[a],f=l.length,h=u[a]=new Array(f),c,g=0;g<f;++g)(c=l[g]||s[g])&&(h[g]=c);for(;a<r;++a)u[a]=n[a];return new zt(u,this._parents,this._name,this._id)}function S0(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function N0(t,n,e){var r,i,o=S0(n)?Wr:St;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}function A0(t,n){var e=this._id;return arguments.length<2?vt(this.node(),e).on.on(t):this.each(N0(e,t,n))}function C0(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function E0(){return this.on("end.remove",C0(this._id))}function $0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=er(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a=r[u],l=a.length,s=o[u]=new Array(l),f,h,c=0;c<l;++c)(f=a[c])&&(h=t.call(f,f.__data__,c,a))&&("__data__"in f&&(h.__data__=f.__data__),s[c]=h,Ie(s[c],n,e,c,s,vt(f,e)));return new zt(o,this._parents,n,e)}function D0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Yi(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var l=r[a],s=l.length,f,h=0;h<s;++h)if(f=l[h]){for(var c=t.call(f,f.__data__,h,l),g,y=vt(f,e),b=0,p=c.length;b<p;++b)(g=c[b])&&Ie(g,n,e,b,c,y);o.push(c),u.push(f)}return new zt(o,u,n,e)}var z0=on.prototype.constructor;function U0(){return new z0(this._groups,this._parents)}function F0(t,n){var e,r,i;return function(){var o=rn(this,t),u=(this.style.removeProperty(t),rn(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function Hu(t){return function(){this.style.removeProperty(t)}}function P0(t,n,e){var r,i=e+"",o;return function(){var u=rn(this,t);return u===i?null:u===r?o:o=n(r=u,e)}}function I0(t,n,e){var r,i,o;return function(){var u=rn(this,t),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),rn(this,t))),u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,a))}}function R0(t,n){var e,r,i,o="style."+n,u="end."+o,a;return function(){var l=St(this,t),s=l.on,f=l.value[o]==null?a||(a=Hu(n)):void 0;(s!==e||i!==f)&&(r=(e=s).copy()).on(u,i=f),l.on=r}}function Y0(t,n,e){var r=(t+="")=="transform"?zc:Ou;return n==null?this.styleTween(t,F0(t,r)).on("end.style."+t,Hu(t)):typeof n=="function"?this.styleTween(t,I0(t,r,Vr(this,"style."+t,n))).each(R0(this._id,t)):this.styleTween(t,P0(t,r,n),e).on("end.style."+t,null)}function L0(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function O0(t,n,e){var r,i;function o(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&L0(t,u,e)),r}return o._value=n,o}function H0(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,O0(t,n,e==null?"":e))}function q0(t){return function(){this.textContent=t}}function X0(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function W0(t){return this.tween("text",typeof t=="function"?X0(Vr(this,"text",t)):q0(t==null?"":t+""))}function V0(t){return function(n){this.textContent=t.call(this,n)}}function B0(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&V0(i)),n}return r._value=t,r}function Z0(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,B0(t))}function G0(){for(var t=this._name,n=this._id,e=Xu(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,l,s=0;s<a;++s)if(l=u[s]){var f=vt(l,n);Ie(l,t,e,s,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zt(r,this._parents,t,e)}function Q0(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,u){var a={value:u},l={value:function(){--i===0&&o()}};e.each(function(){var s=St(this,r),f=s.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(l)),s.on=n}),i===0&&o()})}var K0=0;function zt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function qu(t){return on().transition(t)}function Xu(){return++K0}var Ut=on.prototype;zt.prototype=qu.prototype={constructor:zt,select:$0,selectAll:D0,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:T0,merge:k0,selection:U0,transition:G0,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:A0,attr:s0,attrTween:g0,style:Y0,styleTween:H0,text:W0,textTween:Z0,remove:E0,tween:n0,delay:m0,duration:w0,ease:x0,easeVarying:M0,end:Q0,[Symbol.iterator]:Ut[Symbol.iterator]};const J0=t=>+t;function j0(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Wu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Br=3;(function t(n){n=+n;function e(r){return Math.pow(r,n)}return e.exponent=t,e})(Br),function t(n){n=+n;function e(r){return 1-Math.pow(1-r,n)}return e.exponent=t,e}(Br);var t1=function t(n){n=+n;function e(r){return((r*=2)<=1?Math.pow(r,n):2-Math.pow(2-r,n))/2}return e.exponent=t,e}(Br);function Re(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}var vn=2*Math.PI,Zr=1,Gr=.3;(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=vn);function i(o){return n*Re(- --o)*Math.sin((r-o)/e)}return i.amplitude=function(o){return t(o,e*vn)},i.period=function(o){return t(n,o)},i})(Zr,Gr);var n1=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=vn);function i(o){return 1-n*Re(o=+o)*Math.sin((o+r)/e)}return i.amplitude=function(o){return t(o,e*vn)},i.period=function(o){return t(n,o)},i}(Zr,Gr);(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=vn);function i(o){return((o=o*2-1)<0?n*Re(-o)*Math.sin((r-o)/e):2-n*Re(o)*Math.sin((r+o)/e))/2}return i.amplitude=function(o){return t(o,e*vn)},i.period=function(o){return t(n,o)},i})(Zr,Gr);var e1={time:null,delay:0,duration:250,ease:Wu};function r1(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function i1(t){var n,e;t instanceof zt?(n=t._id,t=t._name):(n=Xu(),(e=e1).time=Lr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,l,s=0;s<a;++s)(l=u[s])&&Ie(l,t,n,s,u,e||r1(l,n));return new zt(r,this._parents,t,n)}on.prototype.interrupt=Jh,on.prototype.transition=i1;function o1(t){return t}var Qr=1,Kr=2,Jr=3,Xn=4,Vu=1e-6;function u1(t){return"translate("+t+",0)"}function a1(t){return"translate(0,"+t+")"}function s1(t){return n=>+t(n)}function l1(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function c1(){return!this.__axis}function Bu(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Qr||t===Xn?-1:1,f=t===Xn||t===Kr?"x":"y",h=t===Qr||t===Jr?u1:a1;function c(g){var y=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,b=i==null?n.tickFormat?n.tickFormat.apply(n,e):o1:i,p=Math.max(o,0)+a,d=n.range(),w=+d[0]+l,v=+d[d.length-1]+l,_=(n.bandwidth?l1:s1)(n.copy(),l),T=g.selection?g.selection():g,M=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(y,n).order(),F=C.exit(),R=C.enter().append("g").attr("class","tick"),A=C.select("line"),k=C.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(R),A=A.merge(R.append("line").attr("stroke","currentColor").attr(f+"2",s*o)),k=k.merge(R.append("text").attr("fill","currentColor").attr(f,s*p).attr("dy",t===Qr?"0em":t===Jr?"0.71em":"0.32em")),g!==T&&(M=M.transition(g),C=C.transition(g),A=A.transition(g),k=k.transition(g),F=F.transition(g).attr("opacity",Vu).attr("transform",function($){return isFinite($=_($))?h($+l):this.getAttribute("transform")}),R.attr("opacity",Vu).attr("transform",function($){var D=this.parentNode.__axis;return h((D&&isFinite(D=D($))?D:_($))+l)})),F.remove(),M.attr("d",t===Xn||t===Kr?u?"M"+s*u+","+w+"H"+l+"V"+v+"H"+s*u:"M"+l+","+w+"V"+v:u?"M"+w+","+s*u+"V"+l+"H"+v+"V"+s*u:"M"+w+","+l+"H"+v),C.attr("opacity",1).attr("transform",function($){return h(_($)+l)}),A.attr(f+"2",s*o),k.attr(f,s*p).text(b),T.filter(c1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Kr?"start":t===Xn?"end":"middle"),T.each(function(){this.__axis=_})}return c.scale=function(g){return arguments.length?(n=g,c):n},c.ticks=function(){return e=Array.from(arguments),c},c.tickArguments=function(g){return arguments.length?(e=g==null?[]:Array.from(g),c):e.slice()},c.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),c):r&&r.slice()},c.tickFormat=function(g){return arguments.length?(i=g,c):i},c.tickSize=function(g){return arguments.length?(o=u=+g,c):o},c.tickSizeInner=function(g){return arguments.length?(o=+g,c):o},c.tickSizeOuter=function(g){return arguments.length?(u=+g,c):u},c.tickPadding=function(g){return arguments.length?(a=+g,c):a},c.offset=function(g){return arguments.length?(l=+g,c):l},c}function f1(t){return Bu(Jr,t)}function h1(t){return Bu(Xn,t)}const jr=Math.PI,ti=2*jr,tn=1e-6,g1=ti-tn;function ni(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wn(){return new ni}ni.prototype=Wn.prototype={constructor:ni,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,l=r-n,s=o-t,f=u-n,h=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>tn)if(!(Math.abs(f*a-l*s)>tn)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var c=e-o,g=r-u,y=a*a+l*l,b=c*c+g*g,p=Math.sqrt(y),d=Math.sqrt(h),w=i*Math.tan((jr-Math.acos((y+h-b)/(2*p*d)))/2),v=w/d,_=w/p;Math.abs(v-1)>tn&&(this._+="L"+(t+v*s)+","+(n+v*f)),this._+="A"+i+","+i+",0,0,"+ +(f*c>s*g)+","+(this._x1=t+_*a)+","+(this._y1=n+_*l)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var u=e*Math.cos(r),a=e*Math.sin(r),l=t+u,s=n+a,f=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+l+","+s:(Math.abs(this._x1-l)>tn||Math.abs(this._y1-s)>tn)&&(this._+="L"+l+","+s),e&&(h<0&&(h=h%ti+ti),h>g1?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=l)+","+(this._y1=s):h>tn&&(this._+="A"+e+","+e+",0,"+ +(h>=jr)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function rt(t){return function(){return t}}const Zu=Math.abs,it=Math.atan2,nn=Math.cos,p1=Math.max,ei=Math.min,Nt=Math.sin,xn=Math.sqrt,gt=1e-12,Vn=Math.PI,Ye=Vn/2,d1=2*Vn;function m1(t){return t>1?0:t<-1?Vn:Math.acos(t)}function Gu(t){return t>=1?Ye:t<=-1?-Ye:Math.asin(t)}function y1(t){return t.innerRadius}function _1(t){return t.outerRadius}function w1(t){return t.startAngle}function v1(t){return t.endAngle}function x1(t){return t&&t.padAngle}function b1(t,n,e,r,i,o,u,a){var l=e-t,s=r-n,f=u-i,h=a-o,c=h*l-f*s;if(!(c*c<gt))return c=(f*(n-o)-h*(t-i))/c,[t+c*l,n+c*s]}function Le(t,n,e,r,i,o,u){var a=t-e,l=n-r,s=(u?o:-o)/xn(a*a+l*l),f=s*l,h=-s*a,c=t+f,g=n+h,y=e+f,b=r+h,p=(c+y)/2,d=(g+b)/2,w=y-c,v=b-g,_=w*w+v*v,T=i-o,M=c*b-y*g,C=(v<0?-1:1)*xn(p1(0,T*T*_-M*M)),F=(M*v-w*C)/_,R=(-M*w-v*C)/_,A=(M*v+w*C)/_,k=(-M*w+v*C)/_,$=F-p,D=R-d,m=A-p,E=k-d;return $*$+D*D>m*m+E*E&&(F=A,R=k),{cx:F,cy:R,x01:-f,y01:-h,x11:F*(i/T-1),y11:R*(i/T-1)}}function M1(){var t=y1,n=_1,e=rt(0),r=null,i=w1,o=v1,u=x1,a=null;function l(){var s,f,h=+t.apply(this,arguments),c=+n.apply(this,arguments),g=i.apply(this,arguments)-Ye,y=o.apply(this,arguments)-Ye,b=Zu(y-g),p=y>g;if(a||(a=s=Wn()),c<h&&(f=c,c=h,h=f),!(c>gt))a.moveTo(0,0);else if(b>d1-gt)a.moveTo(c*nn(g),c*Nt(g)),a.arc(0,0,c,g,y,!p),h>gt&&(a.moveTo(h*nn(y),h*Nt(y)),a.arc(0,0,h,y,g,p));else{var d=g,w=y,v=g,_=y,T=b,M=b,C=u.apply(this,arguments)/2,F=C>gt&&(r?+r.apply(this,arguments):xn(h*h+c*c)),R=ei(Zu(c-h)/2,+e.apply(this,arguments)),A=R,k=R,$,D;if(F>gt){var m=Gu(F/h*Nt(C)),E=Gu(F/c*Nt(C));(T-=m*2)>gt?(m*=p?1:-1,v+=m,_-=m):(T=0,v=_=(g+y)/2),(M-=E*2)>gt?(E*=p?1:-1,d+=E,w-=E):(M=0,d=w=(g+y)/2)}var x=c*nn(d),N=c*Nt(d),I=h*nn(_),z=h*Nt(_);if(R>gt){var P=c*nn(w),Y=c*Nt(w),O=h*nn(v),J=h*Nt(v),X;if(b<Vn&&(X=b1(x,N,O,J,P,Y,I,z))){var Z=x-X[0],j=N-X[1],V=P-X[0],K=Y-X[1],U=1/Nt(m1((Z*V+j*K)/(xn(Z*Z+j*j)*xn(V*V+K*K)))/2),H=xn(X[0]*X[0]+X[1]*X[1]);A=ei(R,(h-H)/(U-1)),k=ei(R,(c-H)/(U+1))}}M>gt?k>gt?($=Le(O,J,x,N,c,k,p),D=Le(P,Y,I,z,c,k,p),a.moveTo($.cx+$.x01,$.cy+$.y01),k<R?a.arc($.cx,$.cy,k,it($.y01,$.x01),it(D.y01,D.x01),!p):(a.arc($.cx,$.cy,k,it($.y01,$.x01),it($.y11,$.x11),!p),a.arc(0,0,c,it($.cy+$.y11,$.cx+$.x11),it(D.cy+D.y11,D.cx+D.x11),!p),a.arc(D.cx,D.cy,k,it(D.y11,D.x11),it(D.y01,D.x01),!p))):(a.moveTo(x,N),a.arc(0,0,c,d,w,!p)):a.moveTo(x,N),!(h>gt)||!(T>gt)?a.lineTo(I,z):A>gt?($=Le(I,z,P,Y,h,-A,p),D=Le(x,N,O,J,h,-A,p),a.lineTo($.cx+$.x01,$.cy+$.y01),A<R?a.arc($.cx,$.cy,A,it($.y01,$.x01),it(D.y01,D.x01),!p):(a.arc($.cx,$.cy,A,it($.y01,$.x01),it($.y11,$.x11),!p),a.arc(0,0,h,it($.cy+$.y11,$.cx+$.x11),it(D.cy+D.y11,D.cx+D.x11),p),a.arc(D.cx,D.cy,A,it(D.y11,D.x11),it(D.y01,D.x01),!p))):a.arc(0,0,h,_,v,p)}if(a.closePath(),s)return a=null,s+""||null}return l.centroid=function(){var s=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Vn/2;return[nn(f)*s,Nt(f)*s]},l.innerRadius=function(s){return arguments.length?(t=typeof s=="function"?s:rt(+s),l):t},l.outerRadius=function(s){return arguments.length?(n=typeof s=="function"?s:rt(+s),l):n},l.cornerRadius=function(s){return arguments.length?(e=typeof s=="function"?s:rt(+s),l):e},l.padRadius=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:rt(+s),l):r},l.startAngle=function(s){return arguments.length?(i=typeof s=="function"?s:rt(+s),l):i},l.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:rt(+s),l):o},l.padAngle=function(s){return arguments.length?(u=typeof s=="function"?s:rt(+s),l):u},l.context=function(s){return arguments.length?(a=s==null?null:s,l):a},l}var T1=Array.prototype.slice;function k1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qu(t){this._context=t}Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function S1(t){return new Qu(t)}function Ku(t){return t[0]}function Ju(t){return t[1]}function N1(t,n){var e=rt(!0),r=null,i=S1,o=null;t=typeof t=="function"?t:t===void 0?Ku:rt(t),n=typeof n=="function"?n:n===void 0?Ju:rt(n);function u(a){var l,s=(a=k1(a)).length,f,h=!1,c;for(r==null&&(o=i(c=Wn())),l=0;l<=s;++l)!(l<s&&e(f=a[l],l,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,l,a),+n(f,l,a));if(c)return o=null,c+""||null}return u.x=function(a){return arguments.length?(t=typeof a=="function"?a:rt(+a),u):t},u.y=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),u):n},u.defined=function(a){return arguments.length?(e=typeof a=="function"?a:rt(!!a),u):e},u.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),u):i},u.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),u):r},u}class ju{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function A1(t){return new ju(t,!0)}function C1(t){return new ju(t,!1)}function E1(t){return t.source}function $1(t){return t.target}function ta(t){let n=E1,e=$1,r=Ku,i=Ju,o=null,u=null;function a(){let l;const s=T1.call(arguments),f=n.apply(this,s),h=e.apply(this,s);if(o==null&&(u=t(l=Wn())),u.lineStart(),s[0]=f,u.point(+r.apply(this,s),+i.apply(this,s)),s[0]=h,u.point(+r.apply(this,s),+i.apply(this,s)),u.lineEnd(),l)return u=null,l+""||null}return a.source=function(l){return arguments.length?(n=l,a):n},a.target=function(l){return arguments.length?(e=l,a):e},a.x=function(l){return arguments.length?(r=typeof l=="function"?l:rt(+l),a):r},a.y=function(l){return arguments.length?(i=typeof l=="function"?l:rt(+l),a):i},a.context=function(l){return arguments.length?(l==null?o=u=null:u=t(o=l),a):o},a}function D1(){return ta(A1)}function z1(){return ta(C1)}function na(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ea(t){this._context=t}ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:na(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:na(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function U1(t){return new ea(t)}function ra(t){return t<0?-1:1}function ia(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(ra(o)+ra(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function oa(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ri(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Oe(t){this._context=t}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ri(this,this._t0,oa(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ri(this,oa(this,e=ia(this,t,n)),e);break;default:ri(this,this._t0,e=ia(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function ua(t){this._context=new aa(t)}(ua.prototype=Object.create(Oe.prototype)).point=function(t,n){Oe.prototype.point.call(this,n,t)};function aa(t){this._context=t}aa.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function F1(t){return new Oe(t)}function P1(t){return new ua(t)}function sa(t,n){this._context=t,this._t=n}sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function I1(t){return new sa(t,1)}function R1(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function Y1(){return this.eachAfter(R1)}function L1(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function O1(t,n){for(var e=this,r=[e],i,o,u=-1;e=r.pop();)if(t.call(n,e,++u,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function H1(t,n){for(var e=this,r=[e],i=[],o,u,a,l=-1;e=r.pop();)if(i.push(e),o=e.children)for(u=0,a=o.length;u<a;++u)r.push(o[u]);for(;e=i.pop();)t.call(n,e,++l,this);return this}function q1(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function X1(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function W1(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function V1(t){for(var n=this,e=B1(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function B1(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function Z1(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function G1(){return Array.from(this)}function Q1(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function K1(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*J1(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function ii(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=ng)):n===void 0&&(n=tg);for(var e=new Bn(t),r,i=[e],o,u,a,l;r=i.pop();)if((u=n(r.data))&&(l=(u=Array.from(u)).length))for(r.children=u,a=l-1;a>=0;--a)i.push(o=u[a]=new Bn(u[a])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(rg)}function j1(){return ii(this).eachBefore(eg)}function tg(t){return t.children}function ng(t){return Array.isArray(t)?t[1]:null}function eg(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function rg(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Bn(t){this.data=t,this.depth=this.height=0,this.parent=null}Bn.prototype=ii.prototype={constructor:Bn,count:Y1,each:L1,eachAfter:H1,eachBefore:O1,find:q1,sum:X1,sort:W1,path:V1,ancestors:Z1,descendants:G1,leaves:Q1,links:K1,copy:j1,[Symbol.iterator]:J1};function ig(t){return t==null?null:og(t)}function og(t){if(typeof t!="function")throw new Error;return t}function la(){return 0}function ug(t){return function(){return t}}const ag=1664525,sg=1013904223,ca=4294967296;function lg(){let t=1;return()=>(t=(ag*t+sg)%ca)/ca}function cg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fg(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function hg(t,n){for(var e=0,r=(t=fg(Array.from(t),n)).length,i=[],o,u;e<r;)o=t[e],u&&fa(u,o)?++e:(u=pg(i=gg(i,o)),e=0);return u}function gg(t,n){var e,r;if(oi(n,t))return[n];for(e=0;e<t.length;++e)if(He(n,t[e])&&oi(Zn(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(He(Zn(t[e],t[r]),n)&&He(Zn(t[e],n),t[r])&&He(Zn(t[r],n),t[e])&&oi(ha(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function He(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function fa(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function oi(t,n){for(var e=0;e<n.length;++e)if(!fa(t,n[e]))return!1;return!0}function pg(t){switch(t.length){case 1:return dg(t[0]);case 2:return Zn(t[0],t[1]);case 3:return ha(t[0],t[1],t[2])}}function dg(t){return{x:t.x,y:t.y,r:t.r}}function Zn(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,l=o-e,s=u-r,f=a-i,h=Math.sqrt(l*l+s*s);return{x:(e+o+l/h*f)/2,y:(r+u+s/h*f)/2,r:(h+i+a)/2}}function ha(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,l=n.r,s=e.x,f=e.y,h=e.r,c=r-u,g=r-s,y=i-a,b=i-f,p=l-o,d=h-o,w=r*r+i*i-o*o,v=w-u*u-a*a+l*l,_=w-s*s-f*f+h*h,T=g*y-c*b,M=(y*_-b*v)/(T*2)-r,C=(b*p-y*d)/T,F=(g*v-c*_)/(T*2)-i,R=(c*d-g*p)/T,A=C*C+R*R-1,k=2*(o+M*C+F*R),$=M*M+F*F-o*o,D=-(Math.abs(A)>1e-6?(k+Math.sqrt(k*k-4*A*$))/(2*A):$/k);return{x:r+M+C*D,y:i+F+R*D,r:D}}function ga(t,n,e){var r=t.x-n.x,i,o,u=t.y-n.y,a,l,s=r*r+u*u;s?(o=n.r+e.r,o*=o,l=t.r+e.r,l*=l,o>l?(i=(s+l-o)/(2*s),a=Math.sqrt(Math.max(0,l/s-i*i)),e.x=t.x-i*r-a*u,e.y=t.y-i*u+a*r):(i=(s+o-l)/(2*s),a=Math.sqrt(Math.max(0,o/s-i*i)),e.x=n.x+i*r-a*u,e.y=n.y+i*u+a*r)):(e.x=n.x+e.r,e.y=n.y)}function pa(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function da(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function qe(t){this._=t,this.next=null,this.previous=null}function mg(t,n){if(!(o=(t=cg(t)).length))return 0;var e,r,i,o,u,a,l,s,f,h,c;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;ga(r,e,i=t[2]),e=new qe(e),r=new qe(r),i=new qe(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(l=3;l<o;++l){ga(e._,r._,i=t[l]),i=new qe(i),s=r.next,f=e.previous,h=r._.r,c=e._.r;do if(h<=c){if(pa(s._,i._)){r=s,e.next=r,r.previous=e,--l;continue t}h+=s._.r,s=s.next}else{if(pa(f._,i._)){e=f,e.next=r,r.previous=e,--l;continue t}c+=f._.r,f=f.previous}while(s!==f.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,u=da(e);(i=i.next)!==r;)(a=da(i))<u&&(e=i,u=a);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=hg(e,n),l=0;l<o;++l)e=t[l],e.x-=i.x,e.y-=i.y;return i.r}function yg(t){return Math.sqrt(t.value)}function _g(){var t=null,n=1,e=1,r=la;function i(o){const u=lg();return o.x=n/2,o.y=e/2,t?o.eachBefore(ma(t)).eachAfter(ui(r,.5,u)).eachBefore(ya(1)):o.eachBefore(ma(yg)).eachAfter(ui(la,1,u)).eachAfter(ui(r,o.r/Math.min(n,e),u)).eachBefore(ya(Math.min(n,e)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=ig(o),i):t},i.size=function(o){return arguments.length?(n=+o[0],e=+o[1],i):[n,e]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:ug(+o),i):r},i}function ma(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function ui(t,n,e){return function(r){if(i=r.children){var i,o,u=i.length,a=t(r)*n||0,l;if(a)for(o=0;o<u;++o)i[o].r+=a;if(l=mg(i,e),a)for(o=0;o<u;++o)i[o].r-=a;r.r=l+a}}}function ya(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function wg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function vg(t,n,e,r,i){for(var o=t.children,u,a=-1,l=o.length,s=t.value&&(r-n)/t.value;++a<l;)u=o[a],u.y0=e,u.y1=i,u.x0=n,u.x1=n+=u.value*s}function xg(){var t=1,n=1,e=0,r=!1;function i(u){var a=u.height+1;return u.x0=u.y0=e,u.x1=t,u.y1=n/a,u.eachBefore(o(n,a)),r&&u.eachBefore(wg),u}function o(u,a){return function(l){l.children&&vg(l,l.x0,u*(l.depth+1)/a,l.x1,u*(l.depth+2)/a);var s=l.x0,f=l.y0,h=l.x1-e,c=l.y1-e;h<s&&(s=h=(s+h)/2),c<f&&(f=c=(f+c)/2),l.x0=s,l.y0=f,l.x1=h,l.y1=c}}return i.round=function(u){return arguments.length?(r=!!u,i):r},i.size=function(u){return arguments.length?(t=+u[0],n=+u[1],i):[t,n]},i.padding=function(u){return arguments.length?(e=+u,i):e},i}function bg(t,n){return t.parent===n.parent?1:2}function ai(t){var n=t.children;return n?n[0]:t.t}function si(t){var n=t.children;return n?n[n.length-1]:t.t}function Mg(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Tg(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function kg(t,n,e){return t.a.parent===n.parent?t.a:e}function Xe(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Xe.prototype=Object.create(Bn.prototype);function Sg(t){for(var n=new Xe(t,0),e,r=[n],i,o,u,a;e=r.pop();)if(o=e._.children)for(e.children=new Array(a=o.length),u=a-1;u>=0;--u)r.push(i=e.children[u]=new Xe(o[u],u)),i.parent=e;return(n.parent=new Xe(null,0)).children=[n],n}function Ng(){var t=bg,n=1,e=1,r=null;function i(s){var f=Sg(s);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(u),r)s.eachBefore(l);else{var h=s,c=s,g=s;s.eachBefore(function(w){w.x<h.x&&(h=w),w.x>c.x&&(c=w),w.depth>g.depth&&(g=w)});var y=h===c?1:t(h,c)/2,b=y-h.x,p=n/(c.x+y+b),d=e/(g.depth||1);s.eachBefore(function(w){w.x=(w.x+b)*p,w.y=w.depth*d})}return s}function o(s){var f=s.children,h=s.parent.children,c=s.i?h[s.i-1]:null;if(f){Tg(s);var g=(f[0].z+f[f.length-1].z)/2;c?(s.z=c.z+t(s._,c._),s.m=s.z-g):s.z=g}else c&&(s.z=c.z+t(s._,c._));s.parent.A=a(s,c,s.parent.A||h[0])}function u(s){s._.x=s.z+s.parent.m,s.m+=s.parent.m}function a(s,f,h){if(f){for(var c=s,g=s,y=f,b=c.parent.children[0],p=c.m,d=g.m,w=y.m,v=b.m,_;y=si(y),c=ai(c),y&&c;)b=ai(b),g=si(g),g.a=s,_=y.z+w-c.z-p+t(y._,c._),_>0&&(Mg(kg(y,s,h),s,_),p+=_,d+=_),w+=y.m,p+=c.m,v+=b.m,d+=g.m;y&&!si(g)&&(g.t=y,g.m+=w-d),c&&!ai(b)&&(b.t=c,b.m+=p-v,h=s)}return h}function l(s){s.x*=n,s.y=s.depth*e}return i.separation=function(s){return arguments.length?(t=s,i):t},i.size=function(s){return arguments.length?(r=!1,n=+s[0],e=+s[1],i):r?null:[n,e]},i.nodeSize=function(s){return arguments.length?(r=!0,n=+s[0],e=+s[1],i):r?[n,e]:null},i}const Ag={passive:!1},Gn={capture:!0,passive:!1};function li(t){t.stopImmediatePropagation()}function bn(t){t.preventDefault(),t.stopImmediatePropagation()}function ci(t){var n=t.document.documentElement,e=st(t).on("dragstart.drag",bn,Gn);"onselectstart"in n?e.on("selectstart.drag",bn,Gn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function fi(t,n){var e=t.document.documentElement,r=st(t).on("dragstart.drag",null);n&&(r.on("click.drag",bn,Gn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var We=t=>()=>t;function hi(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:a,dx:l,dy:s,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:f}})}hi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Cg(t){return!t.ctrlKey&&!t.button}function Eg(){return this.parentNode}function $g(t,n){return n==null?{x:t.x,y:t.y}:n}function Dg(){return navigator.maxTouchPoints||"ontouchstart"in this}function zg(){var t=Cg,n=Eg,e=$g,r=Dg,i={},o=qn("start","drag","end"),u=0,a,l,s,f,h=0;function c(_){_.on("mousedown.drag",g).filter(r).on("touchstart.drag",p).on("touchmove.drag",d,Ag).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(_,T){if(!(f||!t.call(this,_,T))){var M=v(this,n.call(this,_,T),_,T,"mouse");!M||(st(_.view).on("mousemove.drag",y,Gn).on("mouseup.drag",b,Gn),ci(_.view),li(_),s=!1,a=_.clientX,l=_.clientY,M("start",_))}}function y(_){if(bn(_),!s){var T=_.clientX-a,M=_.clientY-l;s=T*T+M*M>h}i.mouse("drag",_)}function b(_){st(_.view).on("mousemove.drag mouseup.drag",null),fi(_.view,s),bn(_),i.mouse("end",_)}function p(_,T){if(!!t.call(this,_,T)){var M=_.changedTouches,C=n.call(this,_,T),F=M.length,R,A;for(R=0;R<F;++R)(A=v(this,C,_,T,M[R].identifier,M[R]))&&(li(_),A("start",_,M[R]))}}function d(_){var T=_.changedTouches,M=T.length,C,F;for(C=0;C<M;++C)(F=i[T[C].identifier])&&(bn(_),F("drag",_,T[C]))}function w(_){var T=_.changedTouches,M=T.length,C,F;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),C=0;C<M;++C)(F=i[T[C].identifier])&&(li(_),F("end",_,T[C]))}function v(_,T,M,C,F,R){var A=o.copy(),k=yt(R||M,T),$,D,m;if((m=e.call(_,new hi("beforestart",{sourceEvent:M,target:c,identifier:F,active:u,x:k[0],y:k[1],dx:0,dy:0,dispatch:A}),C))!=null)return $=m.x-k[0]||0,D=m.y-k[1]||0,function E(x,N,I){var z=k,P;switch(x){case"start":i[F]=E,P=u++;break;case"end":delete i[F],--u;case"drag":k=yt(I||N,T),P=u;break}A.call(x,_,new hi(x,{sourceEvent:N,subject:m,target:c,identifier:F,active:P,x:k[0]+$,y:k[1]+D,dx:k[0]-z[0],dy:k[1]-z[1],dispatch:A}),C)}}return c.filter=function(_){return arguments.length?(t=typeof _=="function"?_:We(!!_),c):t},c.container=function(_){return arguments.length?(n=typeof _=="function"?_:We(_),c):n},c.subject=function(_){return arguments.length?(e=typeof _=="function"?_:We(_),c):e},c.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:We(!!_),c):r},c.on=function(){var _=o.on.apply(o,arguments);return _===o?c:_},c.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,c):Math.sqrt(h)},c}var gi=t=>()=>t;function Ug(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Fg(t){t.stopImmediatePropagation()}function pi(t){t.preventDefault(),t.stopImmediatePropagation()}var _a={name:"drag"},di={name:"space"},Mn={name:"handle"},Tn={name:"center"};const{abs:wa,max:ot,min:ut}=Math;function va(t){return[+t[0],+t[1]]}function mi(t){return[va(t[0]),va(t[1])]}var yi={name:"x",handles:["w","e"].map(Qn),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_i={name:"y",handles:["n","s"].map(Qn),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pg={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Qn),input:function(t){return t==null?null:mi(t)},output:function(t){return t}},Ft={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},xa={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ba={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ig={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Rg={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Qn(t){return{type:t}}function Yg(t){return!t.ctrlKey&&!t.button}function Lg(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Og(){return navigator.maxTouchPoints||"ontouchstart"in this}function wi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Hg(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function qg(){return Xg(Pg)}function Xg(t){var n=Lg,e=Yg,r=Og,i=!0,o=qn("start","brush","end"),u=6,a;function l(p){var d=p.property("__brush",b).selectAll(".overlay").data([Qn("overlay")]);d.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ft.overlay).merge(d).each(function(){var v=wi(this).extent;st(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),p.selectAll(".selection").data([Qn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ft.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=p.selectAll(".handle").data(t.handles,function(v){return v.type});w.exit().remove(),w.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Ft[v.type]}),p.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",c).filter(r).on("touchstart.brush",c).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,d,w){p.tween?p.on("start.brush",function(v){f(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){f(this,arguments).end(v)}).tween("brush",function(){var v=this,_=v.__brush,T=f(v,arguments),M=_.selection,C=t.input(typeof d=="function"?d.apply(this,arguments):d,_.extent),F=hn(M,C);function R(A){_.selection=A===1&&C===null?null:F(A),s.call(v),T.brush()}return M!==null&&C!==null?R:R(1)}):p.each(function(){var v=this,_=arguments,T=v.__brush,M=t.input(typeof d=="function"?d.apply(v,_):d,T.extent),C=f(v,_).beforestart();wn(v),T.selection=M===null?null:M,s.call(v),C.start(w).brush(w).end(w)})},l.clear=function(p,d){l.move(p,null,d)};function s(){var p=st(this),d=wi(this).selection;d?(p.selectAll(".selection").style("display",null).attr("x",d[0][0]).attr("y",d[0][1]).attr("width",d[1][0]-d[0][0]).attr("height",d[1][1]-d[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?d[1][0]-u/2:d[0][0]-u/2}).attr("y",function(w){return w.type[0]==="s"?d[1][1]-u/2:d[0][1]-u/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?d[1][0]-d[0][0]+u:u}).attr("height",function(w){return w.type==="e"||w.type==="w"?d[1][1]-d[0][1]+u:u})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(p,d,w){var v=p.__brush.emitter;return v&&(!w||!v.clean)?v:new h(p,d,w)}function h(p,d,w){this.that=p,this.args=d,this.state=p.__brush,this.active=0,this.clean=w}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,d){return this.starting?(this.starting=!1,this.emit("start",p,d)):this.emit("brush",p),this},brush:function(p,d){return this.emit("brush",p,d),this},end:function(p,d){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,d)),this},emit:function(p,d,w){var v=st(this.that).datum();o.call(p,this.that,new Ug(p,{sourceEvent:d,target:l,selection:t.output(this.state.selection),mode:w,dispatch:o}),v)}};function c(p){if(a&&!p.touches||!e.apply(this,arguments))return;var d=this,w=p.target.__data__.type,v=(i&&p.metaKey?w="overlay":w)==="selection"?_a:i&&p.altKey?Tn:Mn,_=t===_i?null:Ig[w],T=t===yi?null:Rg[w],M=wi(d),C=M.extent,F=M.selection,R=C[0][0],A,k,$=C[0][1],D,m,E=C[1][0],x,N,I=C[1][1],z,P,Y=0,O=0,J,X=_&&T&&i&&p.shiftKey,Z,j,V=Array.from(p.touches||[p],L=>{const Q=L.identifier;return L=yt(L,d),L.point0=L.slice(),L.identifier=Q,L});wn(d);var K=f(d,arguments,!0).beforestart();if(w==="overlay"){F&&(J=!0);const L=[V[0],V[1]||V[0]];M.selection=F=[[A=t===_i?R:ut(L[0][0],L[1][0]),D=t===yi?$:ut(L[0][1],L[1][1])],[x=t===_i?E:ot(L[0][0],L[1][0]),z=t===yi?I:ot(L[0][1],L[1][1])]],V.length>1&&G(p)}else A=F[0][0],D=F[0][1],x=F[1][0],z=F[1][1];k=A,m=D,N=x,P=z;var U=st(d).attr("pointer-events","none"),H=U.selectAll(".overlay").attr("cursor",Ft[w]);if(p.touches)K.moved=S,K.ended=B;else{var q=st(p.view).on("mousemove.brush",S,!0).on("mouseup.brush",B,!0);i&&q.on("keydown.brush",ft,!0).on("keyup.brush",ht,!0),ci(p.view)}s.call(d),K.start(p,v.name);function S(L){for(const Q of L.changedTouches||[L])for(const ie of V)ie.identifier===Q.identifier&&(ie.cur=yt(Q,d));if(X&&!Z&&!j&&V.length===1){const Q=V[0];wa(Q.cur[0]-Q[0])>wa(Q.cur[1]-Q[1])?j=!0:Z=!0}for(const Q of V)Q.cur&&(Q[0]=Q.cur[0],Q[1]=Q.cur[1]);J=!0,pi(L),G(L)}function G(L){const Q=V[0],ie=Q.point0;var Ht;switch(Y=Q[0]-ie[0],O=Q[1]-ie[1],v){case di:case _a:{_&&(Y=ot(R-A,ut(E-x,Y)),k=A+Y,N=x+Y),T&&(O=ot($-D,ut(I-z,O)),m=D+O,P=z+O);break}case Mn:{V[1]?(_&&(k=ot(R,ut(E,V[0][0])),N=ot(R,ut(E,V[1][0])),_=1),T&&(m=ot($,ut(I,V[0][1])),P=ot($,ut(I,V[1][1])),T=1)):(_<0?(Y=ot(R-A,ut(E-A,Y)),k=A+Y,N=x):_>0&&(Y=ot(R-x,ut(E-x,Y)),k=A,N=x+Y),T<0?(O=ot($-D,ut(I-D,O)),m=D+O,P=z):T>0&&(O=ot($-z,ut(I-z,O)),m=D,P=z+O));break}case Tn:{_&&(k=ot(R,ut(E,A-Y*_)),N=ot(R,ut(E,x+Y*_))),T&&(m=ot($,ut(I,D-O*T)),P=ot($,ut(I,z+O*T)));break}}N<k&&(_*=-1,Ht=A,A=x,x=Ht,Ht=k,k=N,N=Ht,w in xa&&H.attr("cursor",Ft[w=xa[w]])),P<m&&(T*=-1,Ht=D,D=z,z=Ht,Ht=m,m=P,P=Ht,w in ba&&H.attr("cursor",Ft[w=ba[w]])),M.selection&&(F=M.selection),Z&&(k=F[0][0],N=F[1][0]),j&&(m=F[0][1],P=F[1][1]),(F[0][0]!==k||F[0][1]!==m||F[1][0]!==N||F[1][1]!==P)&&(M.selection=[[k,m],[N,P]],s.call(d),K.brush(L,v.name))}function B(L){if(Fg(L),L.touches){if(L.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else fi(L.view,J),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),H.attr("cursor",Ft.overlay),M.selection&&(F=M.selection),Hg(F)&&(M.selection=null,s.call(d)),K.end(L,v.name)}function ft(L){switch(L.keyCode){case 16:{X=_&&T;break}case 18:{v===Mn&&(_&&(x=N-Y*_,A=k+Y*_),T&&(z=P-O*T,D=m+O*T),v=Tn,G(L));break}case 32:{(v===Mn||v===Tn)&&(_<0?x=N-Y:_>0&&(A=k-Y),T<0?z=P-O:T>0&&(D=m-O),v=di,H.attr("cursor",Ft.selection),G(L));break}default:return}pi(L)}function ht(L){switch(L.keyCode){case 16:{X&&(Z=j=X=!1,G(L));break}case 18:{v===Tn&&(_<0?x=N:_>0&&(A=k),T<0?z=P:T>0&&(D=m),v=Mn,G(L));break}case 32:{v===di&&(L.altKey?(_&&(x=N-Y*_,A=k+Y*_),T&&(z=P-O*T,D=m+O*T),v=Tn):(_<0?x=N:_>0&&(A=k),T<0?z=P:T>0&&(D=m),v=Mn),H.attr("cursor",Ft[w]),G(L));break}default:return}pi(L)}}function g(p){f(this,arguments).moved(p)}function y(p){f(this,arguments).ended(p)}function b(){var p=this.__brush||{selection:null};return p.extent=mi(n.apply(this,arguments)),p.dim=t,p}return l.extent=function(p){return arguments.length?(n=typeof p=="function"?p:gi(mi(p)),l):n},l.filter=function(p){return arguments.length?(e=typeof p=="function"?p:gi(!!p),l):e},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:gi(!!p),l):r},l.handleSize=function(p){return arguments.length?(u=+p,l):u},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=o.on.apply(o,arguments);return p===o?l:p},l}var Ve=t=>()=>t;function Wg(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Pt(t,n,e){this.k=t,this.x=n,this.y=e}Pt.prototype={constructor:Pt,scale:function(t){return t===1?this:new Pt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Pt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Be=new Pt(1,0,0);Ma.prototype=Pt.prototype;function Ma(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Be;return t.__zoom}function vi(t){t.stopImmediatePropagation()}function Kn(t){t.preventDefault(),t.stopImmediatePropagation()}function Vg(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Bg(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ta(){return this.__zoom||Be}function Zg(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Gg(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qg(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function Kg(){var t=Vg,n=Bg,e=Qg,r=Zg,i=Gg,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Po,s=qn("start","zoom","end"),f,h,c,g=500,y=150,b=0,p=10;function d(m){m.property("__zoom",Ta).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(m,E,x,N){var I=m.selection?m.selection():m;I.property("__zoom",Ta),m!==I?T(m,E,x,N):I.interrupt().each(function(){M(this,arguments).event(N).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},d.scaleBy=function(m,E,x,N){d.scaleTo(m,function(){var I=this.__zoom.k,z=typeof E=="function"?E.apply(this,arguments):E;return I*z},x,N)},d.scaleTo=function(m,E,x,N){d.transform(m,function(){var I=n.apply(this,arguments),z=this.__zoom,P=x==null?_(I):typeof x=="function"?x.apply(this,arguments):x,Y=z.invert(P),O=typeof E=="function"?E.apply(this,arguments):E;return e(v(w(z,O),P,Y),I,u)},x,N)},d.translateBy=function(m,E,x,N){d.transform(m,function(){return e(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof x=="function"?x.apply(this,arguments):x),n.apply(this,arguments),u)},null,N)},d.translateTo=function(m,E,x,N,I){d.transform(m,function(){var z=n.apply(this,arguments),P=this.__zoom,Y=N==null?_(z):typeof N=="function"?N.apply(this,arguments):N;return e(Be.translate(Y[0],Y[1]).scale(P.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof x=="function"?-x.apply(this,arguments):-x),z,u)},N,I)};function w(m,E){return E=Math.max(o[0],Math.min(o[1],E)),E===m.k?m:new Pt(E,m.x,m.y)}function v(m,E,x){var N=E[0]-x[0]*m.k,I=E[1]-x[1]*m.k;return N===m.x&&I===m.y?m:new Pt(m.k,N,I)}function _(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function T(m,E,x,N){m.on("start.zoom",function(){M(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(N).end()}).tween("zoom",function(){var I=this,z=arguments,P=M(I,z).event(N),Y=n.apply(I,z),O=x==null?_(Y):typeof x=="function"?x.apply(I,z):x,J=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),X=I.__zoom,Z=typeof E=="function"?E.apply(I,z):E,j=l(X.invert(O).concat(J/X.k),Z.invert(O).concat(J/Z.k));return function(V){if(V===1)V=Z;else{var K=j(V),U=J/K[2];V=new Pt(U,O[0]-K[0]*U,O[1]-K[1]*U)}P.zoom(null,V)}})}function M(m,E,x){return!x&&m.__zooming||new C(m,E)}function C(m,E){this.that=m,this.args=E,this.active=0,this.sourceEvent=null,this.extent=n.apply(m,E),this.taps=0}C.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,E){return this.mouse&&m!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var E=st(this.that).datum();s.call(m,this.that,new Wg(m,{sourceEvent:this.sourceEvent,target:d,type:m,transform:this.that.__zoom,dispatch:s}),E)}};function F(m,...E){if(!t.apply(this,arguments))return;var x=M(this,E).event(m),N=this.__zoom,I=Math.max(o[0],Math.min(o[1],N.k*Math.pow(2,r.apply(this,arguments)))),z=yt(m);if(x.wheel)(x.mouse[0][0]!==z[0]||x.mouse[0][1]!==z[1])&&(x.mouse[1]=N.invert(x.mouse[0]=z)),clearTimeout(x.wheel);else{if(N.k===I)return;x.mouse=[z,N.invert(z)],wn(this),x.start()}Kn(m),x.wheel=setTimeout(P,y),x.zoom("mouse",e(v(w(N,I),x.mouse[0],x.mouse[1]),x.extent,u));function P(){x.wheel=null,x.end()}}function R(m,...E){if(c||!t.apply(this,arguments))return;var x=m.currentTarget,N=M(this,E,!0).event(m),I=st(m.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",J,!0),z=yt(m,x),P=m.clientX,Y=m.clientY;ci(m.view),vi(m),N.mouse=[z,this.__zoom.invert(z)],wn(this),N.start();function O(X){if(Kn(X),!N.moved){var Z=X.clientX-P,j=X.clientY-Y;N.moved=Z*Z+j*j>b}N.event(X).zoom("mouse",e(v(N.that.__zoom,N.mouse[0]=yt(X,x),N.mouse[1]),N.extent,u))}function J(X){I.on("mousemove.zoom mouseup.zoom",null),fi(X.view,N.moved),Kn(X),N.event(X).end()}}function A(m,...E){if(!!t.apply(this,arguments)){var x=this.__zoom,N=yt(m.changedTouches?m.changedTouches[0]:m,this),I=x.invert(N),z=x.k*(m.shiftKey?.5:2),P=e(v(w(x,z),N,I),n.apply(this,E),u);Kn(m),a>0?st(this).transition().duration(a).call(T,P,N,m):st(this).call(d.transform,P,N,m)}}function k(m,...E){if(!!t.apply(this,arguments)){var x=m.touches,N=x.length,I=M(this,E,m.changedTouches.length===N).event(m),z,P,Y,O;for(vi(m),P=0;P<N;++P)Y=x[P],O=yt(Y,this),O=[O,this.__zoom.invert(O),Y.identifier],I.touch0?!I.touch1&&I.touch0[2]!==O[2]&&(I.touch1=O,I.taps=0):(I.touch0=O,z=!0,I.taps=1+!!f);f&&(f=clearTimeout(f)),z&&(I.taps<2&&(h=O[0],f=setTimeout(function(){f=null},g)),wn(this),I.start())}}function $(m,...E){if(!!this.__zooming){var x=M(this,E).event(m),N=m.changedTouches,I=N.length,z,P,Y,O;for(Kn(m),z=0;z<I;++z)P=N[z],Y=yt(P,this),x.touch0&&x.touch0[2]===P.identifier?x.touch0[0]=Y:x.touch1&&x.touch1[2]===P.identifier&&(x.touch1[0]=Y);if(P=x.that.__zoom,x.touch1){var J=x.touch0[0],X=x.touch0[1],Z=x.touch1[0],j=x.touch1[1],V=(V=Z[0]-J[0])*V+(V=Z[1]-J[1])*V,K=(K=j[0]-X[0])*K+(K=j[1]-X[1])*K;P=w(P,Math.sqrt(V/K)),Y=[(J[0]+Z[0])/2,(J[1]+Z[1])/2],O=[(X[0]+j[0])/2,(X[1]+j[1])/2]}else if(x.touch0)Y=x.touch0[0],O=x.touch0[1];else return;x.zoom("touch",e(v(P,Y,O),x.extent,u))}}function D(m,...E){if(!!this.__zooming){var x=M(this,E).event(m),N=m.changedTouches,I=N.length,z,P;for(vi(m),c&&clearTimeout(c),c=setTimeout(function(){c=null},g),z=0;z<I;++z)P=N[z],x.touch0&&x.touch0[2]===P.identifier?delete x.touch0:x.touch1&&x.touch1[2]===P.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(P=yt(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<p)){var Y=st(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return d.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Ve(+m),d):r},d.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Ve(!!m),d):t},d.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Ve(!!m),d):i},d.extent=function(m){return arguments.length?(n=typeof m=="function"?m:Ve([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),d):n},d.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],d):[o[0],o[1]]},d.translateExtent=function(m){return arguments.length?(u[0][0]=+m[0][0],u[1][0]=+m[1][0],u[0][1]=+m[0][1],u[1][1]=+m[1][1],d):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},d.constrain=function(m){return arguments.length?(e=m,d):e},d.duration=function(m){return arguments.length?(a=+m,d):a},d.interpolate=function(m){return arguments.length?(l=m,d):l},d.on=function(){var m=s.on.apply(s,arguments);return m===s?d:m},d.clickDistance=function(m){return arguments.length?(b=(m=+m)*m,d):Math.sqrt(b)},d.tapDistance=function(m){return arguments.length?(p=+m,d):p},d}var ka=Math.random,Jg=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return n()*i+r}}return e.source=t,e}(ka),jg=function t(n){function e(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(n()*i+r)}}return e.source=t,e}(ka);const tp=1664525,np=1013904223,Sa=1/4294967296;function ep(t=Math.random()){let n=(0<=t&&t<1?t/Sa:Math.abs(t))|0;return()=>(n=tp*n+np|0,Sa*(n>>>0))}var rp=Array.prototype,ip=rp.slice;function op(t,n){return t-n}function up(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}var Na=t=>()=>t;function ap(t,n){for(var e=-1,r=n.length,i;++e<r;)if(i=sp(t,n[e]))return i;return 0}function sp(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,a=u-1;o<u;a=o++){var l=t[o],s=l[0],f=l[1],h=t[a],c=h[0],g=h[1];if(lp(l,h,n))return 0;f>r!=g>r&&e<(c-s)*(r-f)/(g-f)+s&&(i=-i)}return i}function lp(t,n,e){var r;return cp(t,n,e)&&fp(t[r=+(t[0]===n[0])],e[r],n[r])}function cp(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function fp(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function hp(){}var It=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function gp(){var t=1,n=1,e=ji,r=l;function i(s){var f=e(s);if(Array.isArray(f))f=f.slice().sort(op);else{const h=Nn(s),c=se(h[0],h[1],f);f=An(Math.floor(h[0]/c)*c,Math.floor(h[1]/c-1)*c,f)}return f.map(h=>o(s,h))}function o(s,f){var h=[],c=[];return u(s,f,function(g){r(g,s,f),up(g)>0?h.push([g]):c.push(g)}),c.forEach(function(g){for(var y=0,b=h.length,p;y<b;++y)if(ap((p=h[y])[0],g)!==-1){p.push(g);return}}),{type:"MultiPolygon",value:f,coordinates:h}}function u(s,f,h){var c=new Array,g=new Array,y,b,p,d,w,v;for(y=b=-1,d=s[0]>=f,It[d<<1].forEach(_);++y<t-1;)p=d,d=s[y+1]>=f,It[p|d<<1].forEach(_);for(It[d<<0].forEach(_);++b<n-1;){for(y=-1,d=s[b*t+t]>=f,w=s[b*t]>=f,It[d<<1|w<<2].forEach(_);++y<t-1;)p=d,d=s[b*t+t+y+1]>=f,v=w,w=s[b*t+y+1]>=f,It[p|d<<1|w<<2|v<<3].forEach(_);It[d|w<<3].forEach(_)}for(y=-1,w=s[b*t]>=f,It[w<<2].forEach(_);++y<t-1;)v=w,w=s[b*t+y+1]>=f,It[w<<2|v<<3].forEach(_);It[w<<3].forEach(_);function _(T){var M=[T[0][0]+y,T[0][1]+b],C=[T[1][0]+y,T[1][1]+b],F=a(M),R=a(C),A,k;(A=g[F])?(k=c[R])?(delete g[A.end],delete c[k.start],A===k?(A.ring.push(C),h(A.ring)):c[A.start]=g[k.end]={start:A.start,end:k.end,ring:A.ring.concat(k.ring)}):(delete g[A.end],A.ring.push(C),g[A.end=R]=A):(A=c[R])?(k=g[F])?(delete c[A.start],delete g[k.end],A===k?(A.ring.push(C),h(A.ring)):c[k.start]=g[A.end]={start:k.start,end:A.end,ring:k.ring.concat(A.ring)}):(delete c[A.start],A.ring.unshift(M),c[A.start=F]=A):c[F]=g[R]={start:F,end:R,ring:[M,C]}}}function a(s){return s[0]*2+s[1]*(t+1)*4}function l(s,f,h){s.forEach(function(c){var g=c[0],y=c[1],b=g|0,p=y|0,d,w=f[p*t+b];g>0&&g<t&&b===g&&(d=f[p*t+b-1],c[0]=g+(h-d)/(w-d)-.5),y>0&&y<n&&p===y&&(d=f[(p-1)*t+b],c[1]=y+(h-d)/(w-d)-.5)})}return i.contour=o,i.size=function(s){if(!arguments.length)return[t,n];var f=Math.floor(s[0]),h=Math.floor(s[1]);if(!(f>=0&&h>=0))throw new Error("invalid size");return t=f,n=h,i},i.thresholds=function(s){return arguments.length?(e=typeof s=="function"?s:Array.isArray(s)?Na(ip.call(s)):Na(s),i):e},i.smooth=function(s){return arguments.length?(r=s?l:hp,i):r===l},i}var pp=Math.PI,dp=pp*2,mp=Math.abs,xi=Math.sqrt;function xt(){}function Ze(t,n){t&&Ca.hasOwnProperty(t.type)&&Ca[t.type](t,n)}var Aa={Feature:function(t,n){Ze(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ze(e[r].geometry,n)}},Ca={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){bi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)bi(e[r],n,0)},Polygon:function(t,n){Ea(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ea(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ze(e[r],n)}};function bi(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Ea(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)bi(t[e],n,1);n.polygonEnd()}function Jn(t,n){t&&Aa.hasOwnProperty(t.type)?Aa[t.type](t,n):Ze(t,n)}var yp=t=>t,Mi=new an,Ti=new an,$a,Da,ki,Si,Ot={point:xt,lineStart:xt,lineEnd:xt,polygonStart:function(){Ot.lineStart=_p,Ot.lineEnd=vp},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=xt,Mi.add(mp(Ti)),Ti=new an},result:function(){var t=Mi/2;return Mi=new an,t}};function _p(){Ot.point=wp}function wp(t,n){Ot.point=za,$a=ki=t,Da=Si=n}function za(t,n){Ti.add(Si*t-ki*n),ki=t,Si=n}function vp(){za($a,Da)}var Ua=Ot,kn=1/0,Ge=kn,jn=-kn,Qe=jn,xp={point:bp,lineStart:xt,lineEnd:xt,polygonStart:xt,polygonEnd:xt,result:function(){var t=[[kn,Ge],[jn,Qe]];return jn=Qe=-(Ge=kn=1/0),t}};function bp(t,n){t<kn&&(kn=t),t>jn&&(jn=t),n<Ge&&(Ge=n),n>Qe&&(Qe=n)}var Fa=xp,Ni=0,Ai=0,te=0,Ke=0,Je=0,Sn=0,Ci=0,Ei=0,ne=0,Pa,Ia,At,Ct,bt={point:en,lineStart:Ra,lineEnd:Ya,polygonStart:function(){bt.lineStart=kp,bt.lineEnd=Sp},polygonEnd:function(){bt.point=en,bt.lineStart=Ra,bt.lineEnd=Ya},result:function(){var t=ne?[Ci/ne,Ei/ne]:Sn?[Ke/Sn,Je/Sn]:te?[Ni/te,Ai/te]:[NaN,NaN];return Ni=Ai=te=Ke=Je=Sn=Ci=Ei=ne=0,t}};function en(t,n){Ni+=t,Ai+=n,++te}function Ra(){bt.point=Mp}function Mp(t,n){bt.point=Tp,en(At=t,Ct=n)}function Tp(t,n){var e=t-At,r=n-Ct,i=xi(e*e+r*r);Ke+=i*(At+t)/2,Je+=i*(Ct+n)/2,Sn+=i,en(At=t,Ct=n)}function Ya(){bt.point=en}function kp(){bt.point=Np}function Sp(){La(Pa,Ia)}function Np(t,n){bt.point=La,en(Pa=At=t,Ia=Ct=n)}function La(t,n){var e=t-At,r=n-Ct,i=xi(e*e+r*r);Ke+=i*(At+t)/2,Je+=i*(Ct+n)/2,Sn+=i,i=Ct*t-At*n,Ci+=i*(At+t),Ei+=i*(Ct+n),ne+=i*3,en(At=t,Ct=n)}var Oa=bt;function Ha(t){this._context=t}Ha.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,dp);break}}},result:xt};var $i=new an,Di,qa,Xa,ee,re,je={point:xt,lineStart:function(){je.point=Ap},lineEnd:function(){Di&&Wa(qa,Xa),je.point=xt},polygonStart:function(){Di=!0},polygonEnd:function(){Di=null},result:function(){var t=+$i;return $i=new an,t}};function Ap(t,n){je.point=Wa,qa=ee=t,Xa=re=n}function Wa(t,n){ee-=t,re-=n,$i.add(xi(ee*ee+re*re)),ee=t,re=n}var Va=je;function Ba(){this._string=[]}Ba.prototype={_radius:4.5,_circle:Za(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._string.push("M",t,",",n),this._point=1;break}case 1:{this._string.push("L",t,",",n);break}default:{this._circle==null&&(this._circle=Za(this._radius)),this._string.push("M",t,",",n,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Za(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Cp(t,n){var e=4.5,r,i;function o(u){return u&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),Jn(u,r(i))),i.result()}return o.area=function(u){return Jn(u,r(Ua)),Ua.result()},o.measure=function(u){return Jn(u,r(Va)),Va.result()},o.bounds=function(u){return Jn(u,r(Fa)),Fa.result()},o.centroid=function(u){return Jn(u,r(Oa)),Oa.result()},o.projection=function(u){return arguments.length?(r=u==null?(t=null,yp):(t=u).stream,o):t},o.context=function(u){return arguments.length?(i=u==null?(n=null,new Ba):new Ha(n=u),typeof e!="function"&&i.pointRadius(e),o):n},o.pointRadius=function(u){return arguments.length?(e=typeof u=="function"?u:(i.pointRadius(+u),+u),o):e},o.projection(t).context(n)}function Ep(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Ga(this.cover(n,e),n,e,t)}function Ga(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,u={data:r},a=t._x0,l=t._y0,s=t._x1,f=t._y1,h,c,g,y,b,p,d,w;if(!o)return t._root=u,t;for(;o.length;)if((b=n>=(h=(a+s)/2))?a=h:s=h,(p=e>=(c=(l+f)/2))?l=c:f=c,i=o,!(o=o[d=p<<1|b]))return i[d]=u,t;if(g=+t._x.call(null,o.data),y=+t._y.call(null,o.data),n===g&&e===y)return u.next=o,i?i[d]=u:t._root=u,t;do i=i?i[d]=new Array(4):t._root=new Array(4),(b=n>=(h=(a+s)/2))?a=h:s=h,(p=e>=(c=(l+f)/2))?l=c:f=c;while((d=p<<1|b)===(w=(y>=c)<<1|g>=h));return i[w]=o,i[d]=u,t}function $p(t){var n,e,r=t.length,i,o,u=new Array(r),a=new Array(r),l=1/0,s=1/0,f=-1/0,h=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(u[e]=i,a[e]=o,i<l&&(l=i),i>f&&(f=i),o<s&&(s=o),o>h&&(h=o));if(l>f||s>h)return this;for(this.cover(l,s).cover(f,h),e=0;e<r;++e)Ga(this,u[e],a[e],t[e]);return this}function Dp(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u=i-e||1,a=this._root,l,s;e>t||t>=i||r>n||n>=o;)switch(s=(n<r)<<1|t<e,l=new Array(4),l[s]=a,a=l,u*=2,s){case 0:i=e+u,o=r+u;break;case 1:e=i-u,o=r+u;break;case 2:i=e+u,r=o-u;break;case 3:e=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function zp(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Up(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function lt(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Fp(t,n,e){var r,i=this._x0,o=this._y0,u,a,l,s,f=this._x1,h=this._y1,c=[],g=this._root,y,b;for(g&&c.push(new lt(g,i,o,f,h)),e==null?e=1/0:(i=t-e,o=n-e,f=t+e,h=n+e,e*=e);y=c.pop();)if(!(!(g=y.node)||(u=y.x0)>f||(a=y.y0)>h||(l=y.x1)<i||(s=y.y1)<o))if(g.length){var p=(u+l)/2,d=(a+s)/2;c.push(new lt(g[3],p,d,l,s),new lt(g[2],u,d,p,s),new lt(g[1],p,a,l,d),new lt(g[0],u,a,p,d)),(b=(n>=d)<<1|t>=p)&&(y=c[c.length-1],c[c.length-1]=c[c.length-1-b],c[c.length-1-b]=y)}else{var w=t-+this._x.call(null,g.data),v=n-+this._y.call(null,g.data),_=w*w+v*v;if(_<e){var T=Math.sqrt(e=_);i=t-T,o=n-T,f=t+T,h=n+T,r=g.data}}return r}function Pp(t){if(isNaN(f=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,u=this._x0,a=this._y0,l=this._x1,s=this._y1,f,h,c,g,y,b,p,d;if(!e)return this;if(e.length)for(;;){if((y=f>=(c=(u+l)/2))?u=c:l=c,(b=h>=(g=(a+s)/2))?a=g:s=g,n=e,!(e=e[p=b<<1|y]))return this;if(!e.length)break;(n[p+1&3]||n[p+2&3]||n[p+3&3])&&(r=n,d=p)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[p]=o:delete n[p],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[d]=e:this._root=e),this):(this._root=o,this)}function Ip(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Rp(){return this._root}function Yp(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function Lp(t){var n=[],e,r=this._root,i,o,u,a,l;for(r&&n.push(new lt(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,u=e.y0,a=e.x1,l=e.y1)&&r.length){var s=(o+a)/2,f=(u+l)/2;(i=r[3])&&n.push(new lt(i,s,f,a,l)),(i=r[2])&&n.push(new lt(i,o,f,s,l)),(i=r[1])&&n.push(new lt(i,s,u,a,f)),(i=r[0])&&n.push(new lt(i,o,u,s,f))}return this}function Op(t){var n=[],e=[],r;for(this._root&&n.push(new lt(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,u=r.x0,a=r.y0,l=r.x1,s=r.y1,f=(u+l)/2,h=(a+s)/2;(o=i[0])&&n.push(new lt(o,u,a,f,h)),(o=i[1])&&n.push(new lt(o,f,a,l,h)),(o=i[2])&&n.push(new lt(o,u,h,f,s)),(o=i[3])&&n.push(new lt(o,f,h,l,s))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Hp(t){return t[0]}function qp(t){return arguments.length?(this._x=t,this):this._x}function Xp(t){return t[1]}function Wp(t){return arguments.length?(this._y=t,this):this._y}function Qa(t,n,e){var r=new zi(n==null?Hp:n,e==null?Xp:e,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function zi(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ka(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ct=Qa.prototype=zi.prototype;ct.copy=function(){var t=new zi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Ka(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=Ka(r));return t},ct.add=Ep,ct.addAll=$p,ct.cover=Dp,ct.data=zp,ct.extent=Up,ct.find=Fp,ct.remove=Pp,ct.removeAll=Ip,ct.root=Rp,ct.size=Yp,ct.visit=Lp,ct.visitAfter=Op,ct.x=qp,ct.y=Wp;const Vp=t=>{let n="";return new TransformStream({transform:(r,i)=>{n+=r;const o=n.split(t);o.slice(0,-1).forEach(u=>i.enqueue(u)),n=o[o.length-1]},flush:r=>{n&&r.enqueue(n)}})},Bp=()=>new TransformStream({transform:(n,e)=>{e.enqueue(JSON.parse(n))}}),Ui=new Set,Ja=(t,n)=>{n&&(Ui.has(t)?(console.timeEnd(t),Ui.delete(t)):(console.time(t),Ui.add(t)))},Zp={scatterDotRadius:1,searchPanelWidth:356,topBarHeight:30,footerHeight:30,timeSliderWidth:400,zoomScale:[.5,1e3],defaultPointColor:[48/255,65/255,159/255],defaultPointColorInt:[48,65,159],secondPointColorInt:[194,24,92],timePointColorInt:[123,31,162],contourLevels:12,searchLimit:5e3},Gp={colors:{"red-50":"hsl(350, 100.0%, 96.08%)","red-100":"hsl(354, 100.0%, 90.2%)","red-200":"hsl(0, 72.65%, 77.06%)","red-300":"hsl(0, 68.67%, 67.45%)","red-400":"hsl(1, 83.25%, 62.55%)","red-500":"hsl(4, 89.62%, 58.43%)","red-600":"hsl(1, 77.19%, 55.29%)","red-700":"hsl(0, 65.08%, 50.59%)","red-800":"hsl(0, 66.39%, 46.67%)","red-900":"hsl(0, 73.46%, 41.37%)","red-a100":"hsl(4, 100.0%, 75.1%)","red-a200":"hsl(0, 100.0%, 66.08%)","red-a400":"hsl(348, 100.0%, 54.51%)","red-a700":"hsl(0, 100.0%, 41.76%)","pink-50":"hsl(340, 80.0%, 94.12%)","pink-100":"hsl(339, 81.33%, 85.29%)","pink-200":"hsl(339, 82.11%, 75.88%)","pink-300":"hsl(339, 82.56%, 66.27%)","pink-400":"hsl(339, 81.9%, 58.82%)","pink-500":"hsl(339, 82.19%, 51.57%)","pink-600":"hsl(338, 77.78%, 47.65%)","pink-700":"hsl(336, 77.98%, 42.75%)","pink-800":"hsl(333, 79.27%, 37.84%)","pink-900":"hsl(328, 81.33%, 29.41%)","pink-a100":"hsl(339, 100.0%, 75.1%)","pink-a200":"hsl(339, 100.0%, 62.55%)","pink-a400":"hsl(338, 100.0%, 48.04%)","pink-a700":"hsl(333, 84.11%, 41.96%)","purple-50":"hsl(292, 44.44%, 92.94%)","purple-100":"hsl(291, 46.07%, 82.55%)","purple-200":"hsl(291, 46.94%, 71.18%)","purple-300":"hsl(291, 46.6%, 59.61%)","purple-400":"hsl(291, 46.61%, 50.78%)","purple-500":"hsl(291, 63.72%, 42.16%)","purple-600":"hsl(287, 65.05%, 40.39%)","purple-700":"hsl(282, 67.88%, 37.84%)","purple-800":"hsl(277, 70.17%, 35.49%)","purple-900":"hsl(267, 75.0%, 31.37%)","purple-a100":"hsl(291, 95.38%, 74.51%)","purple-a200":"hsl(291, 95.9%, 61.76%)","purple-a400":"hsl(291, 100.0%, 48.82%)","purple-a700":"hsl(280, 100.0%, 50.0%)","deep-purple-50":"hsl(264, 45.45%, 93.53%)","deep-purple-100":"hsl(261, 45.68%, 84.12%)","deep-purple-200":"hsl(261, 46.27%, 73.73%)","deep-purple-300":"hsl(261, 46.81%, 63.14%)","deep-purple-400":"hsl(261, 46.72%, 55.1%)","deep-purple-500":"hsl(261, 51.87%, 47.25%)","deep-purple-600":"hsl(259, 53.91%, 45.1%)","deep-purple-700":"hsl(257, 57.75%, 41.76%)","deep-purple-800":"hsl(254, 60.8%, 39.02%)","deep-purple-900":"hsl(251, 68.79%, 33.92%)","deep-purple-a100":"hsl(261, 100.0%, 76.67%)","deep-purple-a200":"hsl(255, 100.0%, 65.1%)","deep-purple-a400":"hsl(258, 100.0%, 56.08%)","deep-purple-a700":"hsl(265, 100.0%, 45.88%)","indigo-50":"hsl(231, 43.75%, 93.73%)","indigo-100":"hsl(231, 45.0%, 84.31%)","indigo-200":"hsl(230, 44.36%, 73.92%)","indigo-300":"hsl(230, 44.09%, 63.53%)","indigo-400":"hsl(230, 44.25%, 55.69%)","indigo-500":"hsl(230, 48.36%, 47.84%)","indigo-600":"hsl(231, 50.0%, 44.71%)","indigo-700":"hsl(231, 53.62%, 40.59%)","indigo-800":"hsl(232, 57.22%, 36.67%)","indigo-900":"hsl(234, 65.79%, 29.8%)","indigo-a100":"hsl(230, 100.0%, 77.45%)","indigo-a200":"hsl(230, 98.84%, 66.08%)","indigo-a400":"hsl(230, 98.97%, 61.76%)","indigo-a700":"hsl(230, 99.04%, 59.22%)","blue-50":"hsl(205, 86.67%, 94.12%)","blue-100":"hsl(207, 88.89%, 85.88%)","blue-200":"hsl(206, 89.74%, 77.06%)","blue-300":"hsl(206, 89.02%, 67.84%)","blue-400":"hsl(206, 89.95%, 60.98%)","blue-500":"hsl(206, 89.74%, 54.12%)","blue-600":"hsl(208, 79.28%, 50.78%)","blue-700":"hsl(209, 78.72%, 46.08%)","blue-800":"hsl(211, 80.28%, 41.76%)","blue-900":"hsl(216, 85.06%, 34.12%)","blue-a100":"hsl(217, 100.0%, 75.49%)","blue-a200":"hsl(217, 100.0%, 63.33%)","blue-a400":"hsl(217, 100.0%, 58.04%)","blue-a700":"hsl(224, 100.0%, 58.04%)","light-blue-50":"hsl(198, 93.55%, 93.92%)","light-blue-100":"hsl(198, 92.41%, 84.51%)","light-blue-200":"hsl(198, 92.37%, 74.31%)","light-blue-300":"hsl(198, 91.3%, 63.92%)","light-blue-400":"hsl(198, 91.93%, 56.27%)","light-blue-500":"hsl(198, 97.57%, 48.43%)","light-blue-600":"hsl(199, 97.41%, 45.49%)","light-blue-700":"hsl(201, 98.1%, 41.37%)","light-blue-800":"hsl(202, 97.91%, 37.45%)","light-blue-900":"hsl(206, 98.72%, 30.59%)","light-blue-a100":"hsl(198, 100.0%, 75.1%)","light-blue-a200":"hsl(198, 100.0%, 62.55%)","light-blue-a400":"hsl(198, 100.0%, 50.0%)","light-blue-a700":"hsl(202, 100.0%, 45.88%)","cyan-50":"hsl(186, 72.22%, 92.94%)","cyan-100":"hsl(186, 71.11%, 82.35%)","cyan-200":"hsl(186, 71.62%, 70.98%)","cyan-300":"hsl(186, 71.15%, 59.22%)","cyan-400":"hsl(186, 70.87%, 50.2%)","cyan-500":"hsl(186, 100.0%, 41.57%)","cyan-600":"hsl(186, 100.0%, 37.84%)","cyan-700":"hsl(185, 100.0%, 32.75%)","cyan-800":"hsl(185, 100.0%, 28.04%)","cyan-900":"hsl(182, 100.0%, 19.61%)","cyan-a100":"hsl(180, 100.0%, 75.88%)","cyan-a200":"hsl(180, 100.0%, 54.71%)","cyan-a400":"hsl(186, 100.0%, 50.0%)","cyan-a700":"hsl(187, 100.0%, 41.57%)","teal-50":"hsl(176, 40.91%, 91.37%)","teal-100":"hsl(174, 41.28%, 78.63%)","teal-200":"hsl(174, 41.9%, 64.9%)","teal-300":"hsl(174, 41.83%, 50.78%)","teal-400":"hsl(174, 62.75%, 40.0%)","teal-500":"hsl(174, 100.0%, 29.41%)","teal-600":"hsl(173, 100.0%, 26.86%)","teal-700":"hsl(173, 100.0%, 23.73%)","teal-800":"hsl(172, 100.0%, 20.59%)","teal-900":"hsl(169, 100.0%, 15.1%)","teal-a100":"hsl(166, 100.0%, 82.75%)","teal-a200":"hsl(165, 100.0%, 69.61%)","teal-a400":"hsl(165, 82.26%, 51.37%)","teal-a700":"hsl(171, 100.0%, 37.45%)","green-50":"hsl(124, 39.39%, 93.53%)","green-100":"hsl(121, 37.5%, 84.31%)","green-200":"hsl(122, 37.4%, 74.31%)","green-300":"hsl(122, 38.46%, 64.31%)","green-400":"hsl(122, 38.46%, 56.67%)","green-500":"hsl(122, 39.44%, 49.22%)","green-600":"hsl(122, 40.97%, 44.51%)","green-700":"hsl(122, 43.43%, 38.82%)","green-800":"hsl(123, 46.2%, 33.53%)","green-900":"hsl(124, 55.37%, 23.73%)","green-a100":"hsl(136, 77.22%, 84.51%)","green-a200":"hsl(150, 81.82%, 67.65%)","green-a400":"hsl(150, 100.0%, 45.1%)","green-a700":"hsl(144, 100.0%, 39.22%)","light-green-50":"hsl(88, 51.72%, 94.31%)","light-green-100":"hsl(87, 50.68%, 85.69%)","light-green-200":"hsl(88, 50.0%, 76.47%)","light-green-300":"hsl(87, 50.0%, 67.06%)","light-green-400":"hsl(87, 50.24%, 59.8%)","light-green-500":"hsl(87, 50.21%, 52.75%)","light-green-600":"hsl(89, 46.12%, 48.04%)","light-green-700":"hsl(92, 47.91%, 42.16%)","light-green-800":"hsl(95, 49.46%, 36.47%)","light-green-900":"hsl(103, 55.56%, 26.47%)","light-green-a100":"hsl(87, 100.0%, 78.24%)","light-green-a200":"hsl(87, 100.0%, 67.45%)","light-green-a400":"hsl(92, 100.0%, 50.59%)","light-green-a700":"hsl(96, 81.15%, 47.84%)","lime-50":"hsl(65, 71.43%, 94.51%)","lime-100":"hsl(64, 69.01%, 86.08%)","lime-200":"hsl(65, 70.69%, 77.25%)","lime-300":"hsl(65, 70.37%, 68.24%)","lime-400":"hsl(65, 69.7%, 61.18%)","lime-500":"hsl(65, 69.96%, 54.31%)","lime-600":"hsl(63, 59.68%, 49.61%)","lime-700":"hsl(62, 61.43%, 43.73%)","lime-800":"hsl(59, 62.89%, 38.04%)","lime-900":"hsl(53, 69.93%, 30.0%)","lime-a100":"hsl(65, 100.0%, 75.29%)","lime-a200":"hsl(65, 100.0%, 62.75%)","lime-a400":"hsl(73, 100.0%, 50.0%)","lime-a700":"hsl(75, 100.0%, 45.88%)","yellow-50":"hsl(55, 100.0%, 95.29%)","yellow-100":"hsl(53, 100.0%, 88.43%)","yellow-200":"hsl(53, 100.0%, 80.78%)","yellow-300":"hsl(53, 100.0%, 73.14%)","yellow-400":"hsl(53, 100.0%, 67.25%)","yellow-500":"hsl(53, 100.0%, 61.57%)","yellow-600":"hsl(48, 98.04%, 60.0%)","yellow-700":"hsl(42, 96.26%, 58.04%)","yellow-800":"hsl(37, 94.64%, 56.08%)","yellow-900":"hsl(28, 91.74%, 52.55%)","yellow-a100":"hsl(60, 100.0%, 77.65%)","yellow-a200":"hsl(60, 100.0%, 50.0%)","yellow-a400":"hsl(55, 100.0%, 50.0%)","yellow-a700":"hsl(50, 100.0%, 50.0%)","amber-50":"hsl(46, 100.0%, 94.12%)","amber-100":"hsl(45, 100.0%, 85.1%)","amber-200":"hsl(45, 100.0%, 75.49%)","amber-300":"hsl(45, 100.0%, 65.49%)","amber-400":"hsl(45, 100.0%, 57.84%)","amber-500":"hsl(45, 100.0%, 51.37%)","amber-600":"hsl(42, 100.0%, 50.0%)","amber-700":"hsl(37, 100.0%, 50.0%)","amber-800":"hsl(33, 100.0%, 50.0%)","amber-900":"hsl(26, 100.0%, 50.0%)","amber-a100":"hsl(47, 100.0%, 74.9%)","amber-a200":"hsl(47, 100.0%, 62.55%)","amber-a400":"hsl(46, 100.0%, 50.0%)","amber-a700":"hsl(40, 100.0%, 50.0%)","orange-50":"hsl(36, 100.0%, 93.92%)","orange-100":"hsl(35, 100.0%, 84.9%)","orange-200":"hsl(35, 100.0%, 75.1%)","orange-300":"hsl(35, 100.0%, 65.1%)","orange-400":"hsl(35, 100.0%, 57.45%)","orange-500":"hsl(35, 100.0%, 50.0%)","orange-600":"hsl(33, 100.0%, 49.22%)","orange-700":"hsl(30, 100.0%, 48.04%)","orange-800":"hsl(27, 100.0%, 46.86%)","orange-900":"hsl(21, 100.0%, 45.1%)","orange-a100":"hsl(38, 100.0%, 75.1%)","orange-a200":"hsl(33, 100.0%, 62.55%)","orange-a400":"hsl(34, 100.0%, 50.0%)","orange-a700":"hsl(25, 100.0%, 50.0%)","deep-orange-50":"hsl(5, 71.43%, 94.51%)","deep-orange-100":"hsl(14, 100.0%, 86.86%)","deep-orange-200":"hsl(14, 100.0%, 78.43%)","deep-orange-300":"hsl(14, 100.0%, 69.8%)","deep-orange-400":"hsl(14, 100.0%, 63.14%)","deep-orange-500":"hsl(14, 100.0%, 56.67%)","deep-orange-600":"hsl(14, 90.68%, 53.73%)","deep-orange-700":"hsl(14, 80.39%, 50.0%)","deep-orange-800":"hsl(14, 82.28%, 46.47%)","deep-orange-900":"hsl(14, 88.18%, 39.8%)","deep-orange-a100":"hsl(14, 100.0%, 75.1%)","deep-orange-a200":"hsl(14, 100.0%, 62.55%)","deep-orange-a400":"hsl(14, 100.0%, 50.0%)","deep-orange-a700":"hsl(11, 100.0%, 43.33%)","brown-50":"hsl(19, 15.79%, 92.55%)","brown-100":"hsl(16, 15.79%, 81.37%)","brown-200":"hsl(14, 15.19%, 69.02%)","brown-300":"hsl(15, 15.32%, 56.47%)","brown-400":"hsl(15, 17.5%, 47.06%)","brown-500":"hsl(15, 25.39%, 37.84%)","brown-600":"hsl(15, 25.29%, 34.12%)","brown-700":"hsl(14, 25.68%, 29.02%)","brown-800":"hsl(11, 25.81%, 24.31%)","brown-900":"hsl(8, 27.84%, 19.02%)","gray-50":"hsl(0, 0.0%, 98.04%)","gray-100":"hsl(0, 0.0%, 96.08%)","gray-200":"hsl(0, 0.0%, 93.33%)","gray-300":"hsl(0, 0.0%, 87.84%)","gray-400":"hsl(0, 0.0%, 74.12%)","gray-500":"hsl(0, 0.0%, 61.96%)","gray-600":"hsl(0, 0.0%, 45.88%)","gray-700":"hsl(0, 0.0%, 38.04%)","gray-800":"hsl(0, 0.0%, 25.88%)","gray-900":"hsl(0, 0.0%, 12.94%)","blue-gray-50":"hsl(204, 15.15%, 93.53%)","blue-gray-100":"hsl(198, 15.66%, 83.73%)","blue-gray-200":"hsl(199, 15.33%, 73.14%)","blue-gray-300":"hsl(199, 15.63%, 62.35%)","blue-gray-400":"hsl(200, 15.38%, 54.12%)","blue-gray-500":"hsl(199, 18.3%, 46.08%)","blue-gray-600":"hsl(198, 18.45%, 40.39%)","blue-gray-700":"hsl(199, 18.34%, 33.14%)","blue-gray-800":"hsl(199, 17.91%, 26.27%)","blue-gray-900":"hsl(199, 19.15%, 18.43%)","blue-gray-1000":"hsl(199, 20.93%, 8.43%)"},layout:Zp,time:{mouseenterDelay:300},debug:!0,gridColorLight:"hsl(0, 0%, 100%)",gridColorDark:"hsl(0, 0%, 30%)"}.debug,Qp=5e3;let Et=[],tr=0,ja=0,Fi=null;self.onmessage=t=>{switch(t.data.command){case"startLoadData":{console.log("Worker: start streaming data"),Ja("Stream data",!0);const n=t.data.payload.url;Kp(n);break}default:{console.error("Worker: unknown message",t.data.command);break}}};const Kp=t=>{fetch(t).then(async n=>{var r,i,o,u;if(!n.ok){console.error("Failed to load data",n);return}const e=(u=(o=(i=(r=n.body)==null?void 0:r.pipeThrough(new TextDecoderStream))==null?void 0:i.pipeThrough(Vp(`
`)))==null?void 0:o.pipeThrough(Bp()))==null?void 0:u.getReader();for(;e!==void 0;){const a=await e.read(),l=a.value;if(a.done){Ja("Stream data",Gp),jp();break}else Jp(l)}})},Jp=t=>{const n={x:t[0],y:t[1],prompt:t[2],id:tr};t.length>3&&(n.time=t[3]),t.length>4&&(n.groupID=t[4]),Et.push(n),tr+=1,Et.length>=Qp&&(postMessage({command:"transferLoadData",payload:{isFirstBatch:Fi===null,isLastBatch:!1,points:Et,loadedPointCount:tr}}),ja+=Et.length,Fi=Et.slice(),Et=[])},jp=()=>{postMessage({command:"transferLoadData",payload:{isFirstBatch:!1,isLastBatch:!0,points:Et,loadedPointCount:tr}}),ja+=Et.length,Fi=Et.slice(),Et=[]}})();
