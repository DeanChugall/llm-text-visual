(function(){"use strict";var ur="http://www.w3.org/1999/xhtml",Oi={svg:"http://www.w3.org/2000/svg",xhtml:ur,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function se(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Oi.hasOwnProperty(n)?{space:Oi[n],local:t}:t}function ca(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ur&&n.documentElement.namespaceURI===ur?n.createElement(t):n.createElementNS(e,t)}}function fa(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Hi(t){var n=se(t);return(n.local?fa:ca)(n)}function ha(){}function sr(t){return t==null?ha:function(){return this.querySelector(t)}}function ga(t){typeof t!="function"&&(t=sr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,s=r[i]=new Array(u),l,a,c=0;c<u;++c)(l=o[c])&&(a=t.call(l,l.__data__,c,o))&&("__data__"in l&&(a.__data__=l.__data__),s[c]=a);return new st(r,this._parents)}function Xi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function pa(){return[]}function Wi(t){return t==null?pa:function(){return this.querySelectorAll(t)}}function da(t){return function(){return Xi(t.apply(this,arguments))}}function ma(t){typeof t=="function"?t=da(t):t=Wi(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u=n[o],s=u.length,l,a=0;a<s;++a)(l=u[a])&&(r.push(t.call(l,l.__data__,a,u)),i.push(l));return new st(r,i)}function Vi(t){return function(){return this.matches(t)}}function Bi(t){return function(n){return n.matches(t)}}var ya=Array.prototype.find;function _a(t){return function(){return ya.call(this.children,t)}}function wa(){return this.firstElementChild}function va(t){return this.select(t==null?wa:_a(typeof t=="function"?t:Bi(t)))}var xa=Array.prototype.filter;function ba(){return Array.from(this.children)}function Ma(t){return function(){return xa.call(this.children,t)}}function ka(t){return this.selectAll(t==null?ba:Ma(typeof t=="function"?t:Bi(t)))}function Ta(t){typeof t!="function"&&(t=Vi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,s=r[i]=[],l,a=0;a<u;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&s.push(l);return new st(r,this._parents)}function Zi(t){return new Array(t.length)}function Na(){return new st(this._enter||this._groups.map(Zi),this._parents)}function ae(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ae.prototype={constructor:ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Aa(t){return function(){return t}}function Sa(t,n,e,r,i,o){for(var u=0,s,l=n.length,a=o.length;u<a;++u)(s=n[u])?(s.__data__=o[u],r[u]=s):e[u]=new ae(t,o[u]);for(;u<l;++u)(s=n[u])&&(i[u]=s)}function Ca(t,n,e,r,i,o,u){var s,l,a=new Map,c=n.length,h=o.length,f=new Array(c),g;for(s=0;s<c;++s)(l=n[s])&&(f[s]=g=u.call(l,l.__data__,s,n)+"",a.has(g)?i[s]=l:a.set(g,l));for(s=0;s<h;++s)g=u.call(t,o[s],s,o)+"",(l=a.get(g))?(r[s]=l,l.__data__=o[s],a.delete(g)):e[s]=new ae(t,o[s]);for(s=0;s<c;++s)(l=n[s])&&a.get(f[s])===l&&(i[s]=l)}function Ea(t){return t.__data__}function $a(t,n){if(!arguments.length)return Array.from(this,Ea);var e=n?Ca:Sa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Aa(t));for(var o=i.length,u=new Array(o),s=new Array(o),l=new Array(o),a=0;a<o;++a){var c=r[a],h=i[a],f=h.length,g=za(t.call(c,c&&c.__data__,a,r)),d=g.length,x=s[a]=new Array(d),p=u[a]=new Array(d),m=l[a]=new Array(f);e(c,h,x,p,m,g,n);for(var w=0,v=0,_,k;w<d;++w)if(_=x[w]){for(w>=v&&(v=w+1);!(k=p[v])&&++v<d;);_._next=k||null}}return u=new st(u,r),u._enter=s,u._exit=l,u}function za(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Da(){return new st(this._exit||this._groups.map(Zi),this._parents)}function Ua(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Ia(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),s=new Array(i),l=0;l<u;++l)for(var a=e[l],c=r[l],h=a.length,f=s[l]=new Array(h),g,d=0;d<h;++d)(g=a[d]||c[d])&&(f[d]=g);for(;l<i;++l)s[l]=e[l];return new st(s,this._parents)}function Pa(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function Fa(t){t||(t=Ra);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u=e[o],s=u.length,l=i[o]=new Array(s),a,c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new st(i,this._parents).order()}function Ra(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ya(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qa(){return Array.from(this)}function La(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function Oa(){let t=0;for(const n of this)++t;return t}function Ha(){return!this.node()}function Xa(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,u=i.length,s;o<u;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Wa(t){return function(){this.removeAttribute(t)}}function Va(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ba(t,n){return function(){this.setAttribute(t,n)}}function Za(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ga(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Qa(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ka(t,n){var e=se(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Va:Wa:typeof n=="function"?e.local?Qa:Ga:e.local?Za:Ba)(e,n))}function Gi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ja(t){return function(){this.style.removeProperty(t)}}function ja(t,n,e){return function(){this.style.setProperty(t,n,e)}}function tl(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function nl(t,n,e){return arguments.length>1?this.each((n==null?Ja:typeof n=="function"?tl:ja)(t,n,e==null?"":e)):on(this.node(),t)}function on(t,n){return t.style.getPropertyValue(n)||Gi(t).getComputedStyle(t,null).getPropertyValue(n)}function el(t){return function(){delete this[t]}}function rl(t,n){return function(){this[t]=n}}function il(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function ol(t,n){return arguments.length>1?this.each((n==null?el:typeof n=="function"?il:rl)(t,n)):this.node()[t]}function Qi(t){return t.trim().split(/^|\s+/)}function ar(t){return t.classList||new Ki(t)}function Ki(t){this._node=t,this._names=Qi(t.getAttribute("class")||"")}Ki.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ji(t,n){for(var e=ar(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ji(t,n){for(var e=ar(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ul(t){return function(){Ji(this,t)}}function sl(t){return function(){ji(this,t)}}function al(t,n){return function(){(n.apply(this,arguments)?Ji:ji)(this,t)}}function ll(t,n){var e=Qi(t+"");if(arguments.length<2){for(var r=ar(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?al:n?ul:sl)(e,n))}function cl(){this.textContent=""}function fl(t){return function(){this.textContent=t}}function hl(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function gl(t){return arguments.length?this.each(t==null?cl:(typeof t=="function"?hl:fl)(t)):this.node().textContent}function pl(){this.innerHTML=""}function dl(t){return function(){this.innerHTML=t}}function ml(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function yl(t){return arguments.length?this.each(t==null?pl:(typeof t=="function"?ml:dl)(t)):this.node().innerHTML}function _l(){this.nextSibling&&this.parentNode.appendChild(this)}function wl(){return this.each(_l)}function vl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xl(){return this.each(vl)}function bl(t){var n=typeof t=="function"?t:Hi(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Ml(){return null}function kl(t,n){var e=typeof t=="function"?t:Hi(t),r=n==null?Ml:typeof n=="function"?n:sr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Tl(){var t=this.parentNode;t&&t.removeChild(this)}function Nl(){return this.each(Tl)}function Al(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Sl(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Cl(t){return this.select(t?Sl:Al)}function El(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $l(t){return function(n){t.call(this,n,this.__data__)}}function zl(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Dl(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Ul(t,n,e){return function(){var r=this.__on,i,o=$l(n);if(r){for(var u=0,s=r.length;u<s;++u)if((i=r[u]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Il(t,n,e){var r=zl(t+""),i,o=r.length,u;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,a=s.length,c;l<a;++l)for(i=0,c=s[l];i<o;++i)if((u=r[i]).type===c.type&&u.name===c.name)return c.value}return}for(s=n?Ul:Dl,i=0;i<o;++i)this.each(s(r[i],n,e));return this}function to(t,n,e){var r=Gi(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Pl(t,n){return function(){return to(this,t,n)}}function Fl(t,n){return function(){return to(this,t,n.apply(this,arguments))}}function Rl(t,n){return this.each((typeof n=="function"?Fl:Pl)(t,n))}function*Yl(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var lr=[null];function st(t,n){this._groups=t,this._parents=n}function un(){return new st([[document.documentElement]],lr)}function ql(){return this}st.prototype=un.prototype={constructor:st,select:ga,selectAll:ma,selectChild:va,selectChildren:ka,filter:Ta,data:$a,enter:Na,exit:Da,join:Ua,merge:Ia,selection:ql,order:Pa,sort:Fa,call:Ya,nodes:qa,node:La,size:Oa,empty:Ha,each:Xa,attr:Ka,style:nl,property:ol,classed:ll,text:gl,html:yl,raise:wl,lower:xl,append:bl,insert:kl,remove:Nl,clone:Cl,datum:El,on:Il,dispatch:Rl,[Symbol.iterator]:Yl};function at(t){return typeof t=="string"?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],lr)}function Ll(t){let n;for(;n=t.sourceEvent;)t=n;return t}function wt(t,n){if(t=Ll(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Ol(t){return typeof t=="string"?new st([document.querySelectorAll(t)],[document.documentElement]):new st([Xi(t)],lr)}function Hl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Xl(t,n){return fetch(t,n).then(Hl)}function sn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Wl(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function cr(t){let n,e,r;t.length!==2?(n=sn,e=(s,l)=>sn(t(s),l),r=(s,l)=>t(s)-l):(n=t===sn||t===Wl?t:Vl,e=t,r=t);function i(s,l,a=0,c=s.length){if(a<c){if(n(l,l)!==0)return c;do{const h=a+c>>>1;e(s[h],l)<0?a=h+1:c=h}while(a<c)}return a}function o(s,l,a=0,c=s.length){if(a<c){if(n(l,l)!==0)return c;do{const h=a+c>>>1;e(s[h],l)<=0?a=h+1:c=h}while(a<c)}return a}function u(s,l,a=0,c=s.length){const h=i(s,l,a,c-1);return h>a&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:u,right:o}}function Vl(){return 0}function Bl(t){return t===null?NaN:+t}const Zl=cr(sn).right;cr(Bl).center;var no=Zl;function Gl(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function Sn(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class an{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],u=n+o,s=Math.abs(n)<Math.abs(o)?n-(u-o):o-(u-n);s&&(e[r++]=s),n=u}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,u=0;if(e>0){for(u=n[--e];e>0&&(r=u,i=n[--e],u=r+i,o=i-(u-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=u+i,i==r-u&&(u=r))}return u}}class eo extends Map{constructor(n,e=Jl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(ro(this,n))}has(n){return super.has(ro(this,n))}set(n,e){return super.set(Ql(this,n),e)}delete(n){return super.delete(Kl(this,n))}}function ro({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ql({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Kl({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Jl(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jl(t){return t}function tc(t=sn){if(t===sn)return io;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function io(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}var nc=Array.prototype,ec=nc.slice;function le(t){return()=>t}var fr=Math.sqrt(50),hr=Math.sqrt(10),gr=Math.sqrt(2);function Cn(t,n,e){var r,i=-1,o,u,s;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(s=En(t,n,e))===0||!isFinite(s))return[];if(s>0){let l=Math.round(t/s),a=Math.round(n/s);for(l*s<t&&++l,a*s>n&&--a,u=new Array(o=a-l+1);++i<o;)u[i]=(l+i)*s}else{s=-s;let l=Math.round(t*s),a=Math.round(n*s);for(l/s<t&&++l,a/s>n&&--a,u=new Array(o=a-l+1);++i<o;)u[i]=(l+i)/s}return r&&u.reverse(),u}function En(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fr?10:o>=hr?5:o>=gr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fr?10:o>=hr?5:o>=gr?2:1)}function ce(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fr?i*=10:o>=hr?i*=5:o>=gr&&(i*=2),n<t?-i:i}function rc(t,n,e){let r;for(;;){const i=En(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function oo(t){return Math.ceil(Math.log(Gl(t))/Math.LN2)+1}function ic(){var t=jl,n=Sn,e=oo;function r(i){Array.isArray(i)||(i=Array.from(i));var o,u=i.length,s,l,a=new Array(u);for(o=0;o<u;++o)a[o]=t(i[o],o,i);var c=n(a),h=c[0],f=c[1],g=e(a,h,f);if(!Array.isArray(g)){const m=f,w=+g;if(n===Sn&&([h,f]=rc(h,f,w)),g=Cn(h,f,w),g[0]<=h&&(l=En(h,f,w)),g[g.length-1]>=f)if(m>=f&&n===Sn){const v=En(h,f,w);isFinite(v)&&(v>0?f=(Math.floor(f/v)+1)*v:v<0&&(f=(Math.ceil(f*-v)+1)/-v))}else g.pop()}for(var d=g.length;g[0]<=h;)g.shift(),--d;for(;g[d-1]>f;)g.pop(),--d;var x=new Array(d+1),p;for(o=0;o<=d;++o)p=x[o]=[],p.x0=o>0?g[o-1]:h,p.x1=o<d?g[o]:f;if(isFinite(l)){if(l>0)for(o=0;o<u;++o)(s=a[o])!=null&&h<=s&&s<=f&&x[Math.min(d,Math.floor((s-h)/l))].push(i[o]);else if(l<0){for(o=0;o<u;++o)if((s=a[o])!=null&&h<=s&&s<=f){const m=Math.floor((h-s)*l);x[Math.min(d,m+(g[m]<=s))].push(i[o])}}}else for(o=0;o<u;++o)(s=a[o])!=null&&h<=s&&s<=f&&x[no(g,s,0,d)].push(i[o]);return x}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:le(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:le([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:Array.isArray(i)?le(ec.call(i)):le(i),r):e},r}function oc(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function uc(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function sc(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function ac(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function uo(t,n,e=0,r=t.length-1,i){for(i=i===void 0?io:tc(i);r>e;){if(r-e>600){const l=r-e+1,a=n-e+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(a-l/2<0?-1:1),g=Math.max(e,Math.floor(n-a*h/l+f)),d=Math.min(r,Math.floor(n+(l-a)*h/l+f));uo(t,n,g,d,i)}const o=t[n];let u=e,s=r;for($n(t,e,n),i(t[r],o)>0&&$n(t,e,r);u<s;){for($n(t,u,s),++u,--s;i(t[u],o)<0;)++u;for(;i(t[s],o)>0;)--s}i(t[e],o)===0?$n(t,e,s):(++s,$n(t,s,r)),s<=n&&(e=s+1),n<=s&&(r=s-1)}return t}function $n(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function lc(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}var cc=fc(Math.random);function fc(t){return function(e,r=0,i=e.length){let o=i-(r=+r);for(;o;){const u=t()*o--|0,s=e[o+r];e[o+r]=e[u+r],e[u+r]=s}return e}}function hc(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Xt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function gc(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const so=Symbol("implicit");function pr(){var t=new eo,n=[],e=[],r=so;function i(o){let u=t.get(o);if(u===void 0){if(r!==so)return r;t.set(o,u=n.push(o)-1)}return e[u%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new eo;for(const u of o)t.has(u)||t.set(u,n.push(u)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pr(n,e).unknown(r)},Xt.apply(i,arguments),i}function dr(){var t=pr().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,u,s=!1,l=0,a=0,c=.5;delete t.unknown;function h(){var f=n().length,g=i<r,d=g?i:r,x=g?r:i;o=(x-d)/Math.max(1,f-l+a*2),s&&(o=Math.floor(o)),d+=(x-d-o*(f-l))*c,u=o*(1-l),s&&(d=Math.round(d),u=Math.round(u));var p=lc(f).map(function(m){return d+o*m});return e(g?p.reverse():p)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,a=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(a=+f,h()):a},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return dr(n(),[r,i]).round(s).paddingInner(l).paddingOuter(a).align(c)},Xt.apply(h(),arguments)}function ao(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ao(n())},t}function pc(){return ao(dr.apply(null,arguments).paddingInner(1))}function ln(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function zn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Yt(){}var Wt=.7,cn=1/Wt,fn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dc=/^#([0-9a-f]{3,8})$/,mc=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),yc=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),_c=new RegExp(`^rgba\\(${fn},${fn},${fn},${Dn}\\)$`),wc=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Dn}\\)$`),vc=new RegExp(`^hsl\\(${Dn},${Tt},${Tt}\\)$`),xc=new RegExp(`^hsla\\(${Dn},${Tt},${Tt},${Dn}\\)$`),lo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ln(Yt,qt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:co,formatHex:co,formatHex8:bc,formatHsl:Mc,formatRgb:fo,toString:fo});function co(){return this.rgb().formatHex()}function bc(){return this.rgb().formatHex8()}function Mc(){return yo(this).formatHsl()}function fo(){return this.rgb().formatRgb()}function qt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=dc.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ho(n):e===3?new tt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?fe(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?fe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=mc.exec(t))?new tt(n[1],n[2],n[3],1):(n=yc.exec(t))?new tt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=_c.exec(t))?fe(n[1],n[2],n[3],n[4]):(n=wc.exec(t))?fe(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=vc.exec(t))?mo(n[1],n[2]/100,n[3]/100,1):(n=xc.exec(t))?mo(n[1],n[2]/100,n[3]/100,n[4]):lo.hasOwnProperty(t)?ho(lo[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function ho(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function fe(t,n,e,r){return r<=0&&(t=n=e=NaN),new tt(t,n,e,r)}function mr(t){return t instanceof Yt||(t=qt(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function he(t,n,e,r){return arguments.length===1?mr(t):new tt(t,n,e,r==null?1:r)}function tt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ln(tt,he,zn(Yt,{brighter(t){return t=t==null?cn:Math.pow(cn,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Vt(this.r),Vt(this.g),Vt(this.b),ge(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:go,formatHex:go,formatHex8:kc,formatRgb:po,toString:po}));function go(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function kc(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function po(){const t=ge(this.opacity);return`${t===1?"rgb(":"rgba("}${Vt(this.r)}, ${Vt(this.g)}, ${Vt(this.b)}${t===1?")":`, ${t})`}`}function ge(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bt(t){return t=Vt(t),(t<16?"0":"")+t.toString(16)}function mo(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new vt(t,n,e,r)}function yo(t){if(t instanceof vt)return new vt(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=qt(t)),!t)return new vt;if(t instanceof vt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,s=o-i,l=(o+i)/2;return s?(n===o?u=(e-r)/s+(e<r)*6:e===o?u=(r-n)/s+2:u=(n-e)/s+4,s/=l<.5?o+i:2-o-i,u*=60):s=l>0&&l<1?0:u,new vt(u,s,l,t.opacity)}function pe(t,n,e,r){return arguments.length===1?yo(t):new vt(t,n,e,r==null?1:r)}function vt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ln(vt,pe,zn(Yt,{brighter(t){return t=t==null?cn:Math.pow(cn,t),new vt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new vt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new tt(yr(t>=240?t-240:t+120,i,r),yr(t,i,r),yr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vt(_o(this.h),de(this.s),de(this.l),ge(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ge(this.opacity);return`${t===1?"hsl(":"hsla("}${_o(this.h)}, ${de(this.s)*100}%, ${de(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _o(t){return t=(t||0)%360,t<0?t+360:t}function de(t){return Math.max(0,Math.min(1,t||0))}function yr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const wo=Math.PI/180,vo=180/Math.PI,me=18,xo=.96422,bo=1,Mo=.82521,ko=4/29,hn=6/29,To=3*hn*hn,Tc=hn*hn*hn;function No(t){if(t instanceof Nt)return new Nt(t.l,t.a,t.b,t.opacity);if(t instanceof At)return So(t);t instanceof tt||(t=mr(t));var n=br(t.r),e=br(t.g),r=br(t.b),i=wr((.2225045*n+.7168786*e+.0606169*r)/bo),o,u;return n===e&&e===r?o=u=i:(o=wr((.4360747*n+.3850649*e+.1430804*r)/xo),u=wr((.0139322*n+.0971045*e+.7141733*r)/Mo)),new Nt(116*i-16,500*(o-i),200*(i-u),t.opacity)}function _r(t,n,e,r){return arguments.length===1?No(t):new Nt(t,n,e,r==null?1:r)}function Nt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}ln(Nt,_r,zn(Yt,{brighter(t){return new Nt(this.l+me*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Nt(this.l-me*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=xo*vr(n),t=bo*vr(t),e=Mo*vr(e),new tt(xr(3.1338561*n-1.6168667*t-.4906146*e),xr(-.9787684*n+1.9161415*t+.033454*e),xr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function wr(t){return t>Tc?Math.pow(t,1/3):t/To+ko}function vr(t){return t>hn?t*t*t:To*(t-ko)}function xr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function br(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ao(t){if(t instanceof At)return new At(t.h,t.c,t.l,t.opacity);if(t instanceof Nt||(t=No(t)),t.a===0&&t.b===0)return new At(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*vo;return new At(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Nc(t,n,e,r){return arguments.length===1?Ao(t):new At(e,n,t,r==null?1:r)}function Ac(t,n,e,r){return arguments.length===1?Ao(t):new At(t,n,e,r==null?1:r)}function At(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function So(t){if(isNaN(t.h))return new Nt(t.l,0,0,t.opacity);var n=t.h*wo;return new Nt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}ln(At,Ac,zn(Yt,{brighter(t){return new At(this.h,this.c,this.l+me*(t==null?1:t),this.opacity)},darker(t){return new At(this.h,this.c,this.l-me*(t==null?1:t),this.opacity)},rgb(){return So(this).rgb()}}));var Co=-.14861,Mr=1.78277,kr=-.29227,ye=-.90649,Un=1.97294,Eo=Un*ye,$o=Un*Mr,zo=Mr*kr-ye*Co;function Sc(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof tt||(t=mr(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(zo*r+Eo*n-$o*e)/(zo+Eo-$o),o=r-i,u=(Un*(e-i)-kr*o)/ye,s=Math.sqrt(u*u+o*o)/(Un*i*(1-i)),l=s?Math.atan2(u,o)*vo-120:NaN;return new Zt(l<0?l+360:l,s,i,t.opacity)}function Lt(t,n,e,r){return arguments.length===1?Sc(t):new Zt(t,n,e,r==null?1:r)}function Zt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ln(Zt,Lt,zn(Yt,{brighter(t){return t=t==null?cn:Math.pow(cn,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*wo,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new tt(255*(n+e*(Co*r+Mr*i)),255*(n+e*(kr*r+ye*i)),255*(n+e*(Un*r)),this.opacity)}}));function Cc(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Ec(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return Cc((e-r/n)*n,u,i,o,s)}}var _e=t=>()=>t;function Do(t,n){return function(e){return t+e*n}}function $c(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Uo(t,n){var e=n-t;return e?Do(t,e>180||e<-180?e-360*Math.round(e/360):e):_e(isNaN(t)?n:t)}function zc(t){return(t=+t)==1?mt:function(n,e){return e-n?$c(n,e,t):_e(isNaN(n)?e:n)}}function mt(t,n){var e=n-t;return e?Do(t,e):_e(isNaN(t)?n:t)}var In=function t(n){var e=zc(n);function r(i,o){var u=e((i=he(i)).r,(o=he(o)).r),s=e(i.g,o.g),l=e(i.b,o.b),a=mt(i.opacity,o.opacity);return function(c){return i.r=u(c),i.g=s(c),i.b=l(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function Dc(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),u,s;for(u=0;u<e;++u)s=he(n[u]),r[u]=s.r||0,i[u]=s.g||0,o[u]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var Io=Dc(Ec);function Uc(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Ic(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pc(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),u;for(u=0;u<r;++u)i[u]=gn(t[u],n[u]);for(;u<e;++u)o[u]=n[u];return function(s){for(u=0;u<r;++u)o[u]=i[u](s);return o}}function Fc(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function xt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Rc(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=gn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nr=new RegExp(Tr.source,"g");function Yc(t){return function(){return t}}function qc(t){return function(n){return t(n)+""}}function Po(t,n){var e=Tr.lastIndex=Nr.lastIndex=0,r,i,o,u=-1,s=[],l=[];for(t=t+"",n=n+"";(r=Tr.exec(t))&&(i=Nr.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),s[u]?s[u]+=o:s[++u]=o),(r=r[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,l.push({i:u,x:xt(r,i)})),e=Nr.lastIndex;return e<n.length&&(o=n.slice(e),s[u]?s[u]+=o:s[++u]=o),s.length<2?l[0]?qc(l[0].x):Yc(n):(n=l.length,function(a){for(var c=0,h;c<n;++c)s[(h=l[c]).i]=h.x(a);return s.join("")})}function gn(t,n){var e=typeof n,r;return n==null||e==="boolean"?_e(n):(e==="number"?xt:e==="string"?(r=qt(n))?(n=r,In):Po:n instanceof qt?In:n instanceof Date?Fc:Ic(n)?Uc:Array.isArray(n)?Pc:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Rc:xt)(t,n)}function Fo(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ro=180/Math.PI,Ar={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yo(t,n,e,r,i,o){var u,s,l;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,l/=s),t*r<n*e&&(t=-t,n=-n,l=-l,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ro,skewX:Math.atan(l)*Ro,scaleX:u,scaleY:s}}var we;function Lc(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ar:Yo(n.a,n.b,n.c,n.d,n.e,n.f)}function Oc(t){return t==null||(we||(we=document.createElementNS("http://www.w3.org/2000/svg","g")),we.setAttribute("transform",t),!(t=we.transform.baseVal.consolidate()))?Ar:(t=t.matrix,Yo(t.a,t.b,t.c,t.d,t.e,t.f))}function qo(t,n,e,r){function i(a){return a.length?a.pop()+" ":""}function o(a,c,h,f,g,d){if(a!==h||c!==f){var x=g.push("translate(",null,n,null,e);d.push({i:x-4,x:xt(a,h)},{i:x-2,x:xt(c,f)})}else(h||f)&&g.push("translate("+h+n+f+e)}function u(a,c,h,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:xt(a,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(a,c,h,f){a!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:xt(a,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(a,c,h,f,g,d){if(a!==h||c!==f){var x=g.push(i(g)+"scale(",null,",",null,")");d.push({i:x-4,x:xt(a,h)},{i:x-2,x:xt(c,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(a,c){var h=[],f=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,h,f),u(a.rotate,c.rotate,h,f),s(a.skewX,c.skewX,h,f),l(a.scaleX,a.scaleY,c.scaleX,c.scaleY,h,f),a=c=null,function(g){for(var d=-1,x=f.length,p;++d<x;)h[(p=f[d]).i]=p.x(g);return h.join("")}}}var Hc=qo(Lc,"px, ","px)","deg)"),Xc=qo(Oc,", ",")",")"),Wc=1e-12;function Lo(t){return((t=Math.exp(t))+1/t)/2}function Vc(t){return((t=Math.exp(t))-1/t)/2}function Bc(t){return((t=Math.exp(2*t))-1)/(t+1)}var Oo=function t(n,e,r){function i(o,u){var s=o[0],l=o[1],a=o[2],c=u[0],h=u[1],f=u[2],g=c-s,d=h-l,x=g*g+d*d,p,m;if(x<Wc)m=Math.log(f/a)/n,p=function(C){return[s+C*g,l+C*d,a*Math.exp(n*C*m)]};else{var w=Math.sqrt(x),v=(f*f-a*a+r*x)/(2*a*e*w),_=(f*f-a*a-r*x)/(2*f*e*w),k=Math.log(Math.sqrt(v*v+1)-v),M=Math.log(Math.sqrt(_*_+1)-_);m=(M-k)/n,p=function(C){var I=C*m,R=Lo(k),S=a/(e*w)*(R*Bc(n*I+k)-Vc(k));return[s+S*g,l+S*d,a*R/Lo(n*I+k)]}}return p.duration=m*1e3*n/Math.SQRT2,p}return i.rho=function(o){var u=Math.max(.001,+o),s=u*u,l=s*s;return t(u,s,l)},i}(Math.SQRT2,2,4);function Zc(t){return function(n,e){var r=t((n=pe(n)).h,(e=pe(e)).h),i=mt(n.s,e.s),o=mt(n.l,e.l),u=mt(n.opacity,e.opacity);return function(s){return n.h=r(s),n.s=i(s),n.l=o(s),n.opacity=u(s),n+""}}}var Gc=Zc(Uo);function Qc(t,n){var e=mt((t=_r(t)).l,(n=_r(n)).l),r=mt(t.a,n.a),i=mt(t.b,n.b),o=mt(t.opacity,n.opacity);return function(u){return t.l=e(u),t.a=r(u),t.b=i(u),t.opacity=o(u),t+""}}function Ho(t){return function n(e){e=+e;function r(i,o){var u=t((i=Lt(i)).h,(o=Lt(o)).h),s=mt(i.s,o.s),l=mt(i.l,o.l),a=mt(i.opacity,o.opacity);return function(c){return i.h=u(c),i.s=s(c),i.l=l(Math.pow(c,e)),i.opacity=a(c),i+""}}return r.gamma=n,r}(1)}Ho(Uo);var Xo=Ho(mt);function Kc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}function Jc(t){return function(){return t}}function jc(t){return+t}var Wo=[0,1];function yt(t){return t}function Sr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Jc(isNaN(n)?NaN:.5)}function tf(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function nf(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Sr(i,r),o=e(u,o)):(r=Sr(r,i),o=e(o,u)),function(s){return o(r(s))}}function ef(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Sr(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(s){var l=no(t,s,1,r)-1;return o[l](i[l](s))}}function ve(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cr(){var t=Wo,n=Wo,e=gn,r,i,o,u=yt,s,l,a;function c(){var f=Math.min(t.length,n.length);return u!==yt&&(u=tf(t[0],t[f-1])),s=f>2?ef:nf,l=a=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),n,e)))(r(u(f)))}return h.invert=function(f){return u(i((a||(a=s(n,t.map(r),xt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,jc),c()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=Fo,c()},h.clamp=function(f){return arguments.length?(u=f?!0:yt,c()):u!==yt},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,g){return r=f,i=g,c()}}function Vo(){return Cr()(yt,yt)}function rf(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xe(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function pn(t){return t=xe(Math.abs(t)),t?t[1]:NaN}function of(t,n){return function(e,r){for(var i=e.length,o=[],u=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[u=(u+1)%t.length];return o.reverse().join(n)}}function uf(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var sf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pn(t){if(!(n=sf.exec(t)))throw new Error("invalid format: "+t);var n;return new Er({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Pn.prototype=Er.prototype;function Er(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function af(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Bo;function lf(t,n){var e=xe(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Bo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xe(t,Math.max(0,n+o-1))[0]}function Zo(t,n){var e=xe(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Go={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rf,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Zo(t*100,n),r:Zo,s:lf,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Qo(t){return t}var Ko=Array.prototype.map,Jo=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function cf(t){var n=t.grouping===void 0||t.thousands===void 0?Qo:of(Ko.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Qo:uf(Ko.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function a(h){h=Pn(h);var f=h.fill,g=h.align,d=h.sign,x=h.symbol,p=h.zero,m=h.width,w=h.comma,v=h.precision,_=h.trim,k=h.type;k==="n"?(w=!0,k="g"):Go[k]||(v===void 0&&(v=12),_=!0,k="g"),(p||f==="0"&&g==="=")&&(p=!0,f="0",g="=");var M=x==="$"?e:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",C=x==="$"?r:/[%p]/.test(k)?u:"",I=Go[k],R=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function S(T){var $=M,z=C,y,E,b;if(k==="c")z=I(T)+z,T="";else{T=+T;var A=T<0||1/T<0;if(T=isNaN(T)?l:I(Math.abs(T),v),_&&(T=af(T)),A&&+T==0&&d!=="+"&&(A=!1),$=(A?d==="("?d:s:d==="-"||d==="("?"":d)+$,z=(k==="s"?Jo[8+Bo/3]:"")+z+(A&&d==="("?")":""),R){for(y=-1,E=T.length;++y<E;)if(b=T.charCodeAt(y),48>b||b>57){z=(b===46?i+T.slice(y+1):T.slice(y))+z,T=T.slice(0,y);break}}}w&&!p&&(T=n(T,1/0));var F=$.length+T.length+z.length,D=F<m?new Array(m-F+1).join(f):"";switch(w&&p&&(T=n(D+T,D.length?m-z.length:1/0),D=""),g){case"<":T=$+T+z+D;break;case"=":T=$+D+T+z;break;case"^":T=D.slice(0,F=D.length>>1)+$+T+z+D.slice(F);break;default:T=D+$+T+z;break}return o(T)}return S.toString=function(){return h+""},S}function c(h,f){var g=a((h=Pn(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(pn(f)/3)))*3,x=Math.pow(10,-d),p=Jo[8+d/3];return function(m){return g(x*m)+p}}return{format:a,formatPrefix:c}}var be,Me,jo;ff({thousands:",",grouping:[3],currency:["$",""]});function ff(t){return be=cf(t),Me=be.format,jo=be.formatPrefix,be}function hf(t){return Math.max(0,-pn(Math.abs(t)))}function gf(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pn(n)/3)))*3-pn(Math.abs(t)))}function pf(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,pn(n)-pn(t))+1}function df(t,n,e,r){var i=ce(t,n,e),o;switch(r=Pn(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=gf(i,u))&&(r.precision=o),jo(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pf(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hf(i))&&(r.precision=o-(r.type==="%")*2);break}}return Me(r)}function $r(t){var n=t.domain;return t.ticks=function(e){var r=n();return Cn(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return df(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,u=r[i],s=r[o],l,a,c=10;for(s<u&&(a=u,u=s,s=a,a=i,i=o,o=a);c-- >0;){if(a=En(u,s,e),a===l)return r[i]=u,r[o]=s,n(r);if(a>0)u=Math.floor(u/a)*a,s=Math.ceil(s/a)*a;else if(a<0)u=Math.ceil(u*a)/a,s=Math.floor(s*a)/a;else break;l=a}return t},t}function tu(){var t=Vo();return t.copy=function(){return ve(t,tu())},Xt.apply(t,arguments),$r(t)}function nu(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],u;return o<i&&(u=e,e=r,r=u,u=i,i=o,o=u),t[e]=n.floor(i),t[r]=n.ceil(o),t}function eu(t){return Math.log(t)}function ru(t){return Math.exp(t)}function mf(t){return-Math.log(-t)}function yf(t){return-Math.exp(-t)}function _f(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wf(t){return t===10?_f:t===Math.E?Math.exp:n=>Math.pow(t,n)}function vf(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function iu(t){return(n,e)=>-t(-n,e)}function xf(t){const n=t(eu,ru),e=n.domain;let r=10,i,o;function u(){return i=vf(r),o=wf(r),e()[0]<0?(i=iu(i),o=iu(o),t(mf,yf)):t(eu,ru),n}return n.base=function(s){return arguments.length?(r=+s,u()):r},n.domain=function(s){return arguments.length?(e(s),u()):e()},n.ticks=s=>{const l=e();let a=l[0],c=l[l.length-1];const h=c<a;h&&([a,c]=[c,a]);let f=i(a),g=i(c),d,x;const p=s==null?10:+s;let m=[];if(!(r%1)&&g-f<p){if(f=Math.floor(f),g=Math.ceil(g),a>0){for(;f<=g;++f)for(d=1;d<r;++d)if(x=f<0?d/o(-f):d*o(f),!(x<a)){if(x>c)break;m.push(x)}}else for(;f<=g;++f)for(d=r-1;d>=1;--d)if(x=f>0?d/o(-f):d*o(f),!(x<a)){if(x>c)break;m.push(x)}m.length*2<p&&(m=Cn(a,c,p))}else m=Cn(f,g,Math.min(g-f,p)).map(o);return h?m.reverse():m},n.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pn(l)).precision==null&&(l.trim=!0),l=Me(l)),s===1/0)return l;const a=Math.max(1,r*s/n.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=a?l(c):""}},n.nice=()=>e(nu(e(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),n}function ou(){const t=xf(Cr()).domain([1,10]);return t.copy=()=>ve(t,ou()).base(t.base()),Xt.apply(t,arguments),t}function uu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function bf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mf(t){return t<0?-t*t:t*t}function kf(t){var n=t(yt,yt),e=1;function r(){return e===1?t(yt,yt):e===.5?t(bf,Mf):t(uu(e),uu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},$r(n)}function zr(){var t=kf(Cr());return t.copy=function(){return ve(t,zr()).exponent(t.exponent())},Xt.apply(t,arguments),t}function Tf(){return zr.apply(null,arguments).exponent(.5)}var Dr=new Date,Ur=new Date;function nt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),n(o,1),t(o),o},i.round=function(o){var u=i(o),s=i.ceil(o);return o-u<s-o?u:s},i.offset=function(o,u){return n(o=new Date(+o),u==null?1:Math.floor(u)),o},i.range=function(o,u,s){var l=[],a;if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<u)||!(s>0))return l;do l.push(a=new Date(+o)),n(o,s),t(o);while(a<o&&o<u);return l},i.filter=function(o){return nt(function(u){if(u>=u)for(;t(u),!o(u);)u.setTime(u-1)},function(u,s){if(u>=u)if(s<0)for(;++s<=0;)for(;n(u,-1),!o(u););else for(;--s>=0;)for(;n(u,1),!o(u););})},e&&(i.count=function(o,u){return Dr.setTime(+o),Ur.setTime(+u),t(Dr),t(Ur),Math.floor(e(Dr,Ur))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(u){return r(u)%o===0}:function(u){return i.count(0,u)%o===0}):i}),i}var ke=nt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});ke.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):ke};var Nf=ke;ke.range;const zt=1e3,_t=zt*60,Dt=_t*60,Gt=Dt*24,Ir=Gt*7,su=Gt*30,Pr=Gt*365;var au=nt(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*zt)},function(t,n){return(n-t)/zt},function(t){return t.getUTCSeconds()}),dn=au;au.range;var lu=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*zt)},function(t,n){t.setTime(+t+n*_t)},function(t,n){return(n-t)/_t},function(t){return t.getMinutes()}),cu=lu;lu.range;var fu=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*zt-t.getMinutes()*_t)},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getHours()}),hu=fu;fu.range;var gu=nt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_t)/Gt,t=>t.getDate()-1),Te=gu;gu.range;function Qt(t){return nt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+e*7)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*_t)/Ir})}var Ne=Qt(0),Ae=Qt(1),Af=Qt(2),Sf=Qt(3),mn=Qt(4),Cf=Qt(5),Ef=Qt(6);Ne.range,Ae.range,Af.range,Sf.range,mn.range,Cf.range,Ef.range;var pu=nt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),du=pu;pu.range;var Fr=nt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Fr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)})};var Kt=Fr;Fr.range;var mu=nt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*_t)},function(t,n){return(n-t)/_t},function(t){return t.getUTCMinutes()}),yu=mu;mu.range;var _u=nt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getUTCHours()}),wu=_u;_u.range;var vu=nt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Gt},function(t){return t.getUTCDate()-1}),Se=vu;vu.range;function Jt(t){return nt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+e*7)},function(n,e){return(e-n)/Ir})}var Ce=Jt(0),Ee=Jt(1),$f=Jt(2),zf=Jt(3),yn=Jt(4),Df=Jt(5),Uf=Jt(6);Ce.range,Ee.range,$f.range,zf.range,yn.range,Df.range,Uf.range;var xu=nt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),bu=xu;xu.range;var Rr=nt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Rr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})};var jt=Rr;Rr.range;function Mu(t,n,e,r,i,o){const u=[[dn,1,zt],[dn,5,5*zt],[dn,15,15*zt],[dn,30,30*zt],[o,1,_t],[o,5,5*_t],[o,15,15*_t],[o,30,30*_t],[i,1,Dt],[i,3,3*Dt],[i,6,6*Dt],[i,12,12*Dt],[r,1,Gt],[r,2,2*Gt],[e,1,Ir],[n,1,su],[n,3,3*su],[t,1,Pr]];function s(a,c,h){const f=c<a;f&&([a,c]=[c,a]);const g=h&&typeof h.range=="function"?h:l(a,c,h),d=g?g.range(a,+c+1):[];return f?d.reverse():d}function l(a,c,h){const f=Math.abs(c-a)/h,g=cr(([,,p])=>p).right(u,f);if(g===u.length)return t.every(ce(a/Pr,c/Pr,h));if(g===0)return Nf.every(Math.max(ce(a,c,h),1));const[d,x]=u[f/u[g-1][2]<u[g][2]/f?g-1:g];return d.every(x)}return[s,l]}const[If,Pf]=Mu(jt,bu,Ce,Se,wu,yu),[Ff,Rf]=Mu(Kt,du,Ne,Te,hu,cu);function Yr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fn(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Yf(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,s=t.months,l=t.shortMonths,a=Rn(i),c=Yn(i),h=Rn(o),f=Yn(o),g=Rn(u),d=Yn(u),x=Rn(s),p=Yn(s),m=Rn(l),w=Yn(l),v={a:A,A:F,b:D,B:P,c:null,d:Cu,e:Cu,f:ah,g:_h,G:vh,H:oh,I:uh,j:sh,L:Eu,m:lh,M:ch,p:Y,q:L,Q:Pu,s:Fu,S:fh,u:hh,U:gh,V:ph,w:dh,W:mh,x:null,X:null,y:yh,Y:wh,Z:xh,"%":Iu},_={a:J,A:X,b:Z,B:j,c:null,d:zu,e:zu,f:Th,g:Ih,G:Fh,H:bh,I:Mh,j:kh,L:Du,m:Nh,M:Ah,p:V,q:K,Q:Pu,s:Fu,S:Sh,u:Ch,U:Eh,V:$h,w:zh,W:Dh,x:null,X:null,y:Uh,Y:Ph,Z:Rh,"%":Iu},k={a:S,A:T,b:$,B:z,c:y,d:Au,e:Au,f:nh,g:Nu,G:Tu,H:Su,I:Su,j:Kf,L:th,m:Qf,M:Jf,p:R,q:Gf,Q:rh,s:ih,S:jf,u:Xf,U:Wf,V:Vf,w:Hf,W:Bf,x:E,X:b,y:Nu,Y:Tu,Z:Zf,"%":eh};v.x=M(e,v),v.X=M(r,v),v.c=M(n,v),_.x=M(e,_),_.X=M(r,_),_.c=M(n,_);function M(U,O){return function(H){var N=[],G=-1,B=0,ht=U.length,gt,q,Q;for(H instanceof Date||(H=new Date(+H));++G<ht;)U.charCodeAt(G)===37&&(N.push(U.slice(B,G)),(q=ku[gt=U.charAt(++G)])!=null?gt=U.charAt(++G):q=gt==="e"?" ":"0",(Q=O[gt])&&(gt=Q(H,q)),N.push(gt),B=G+1);return N.push(U.slice(B,G)),N.join("")}}function C(U,O){return function(H){var N=Fn(1900,void 0,1),G=I(N,U,H+="",0),B,ht;if(G!=H.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(O&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(B=qr(Fn(N.y,0,1)),ht=B.getUTCDay(),B=ht>4||ht===0?Ee.ceil(B):Ee(B),B=Se.offset(B,(N.V-1)*7),N.y=B.getUTCFullYear(),N.m=B.getUTCMonth(),N.d=B.getUTCDate()+(N.w+6)%7):(B=Yr(Fn(N.y,0,1)),ht=B.getDay(),B=ht>4||ht===0?Ae.ceil(B):Ae(B),B=Te.offset(B,(N.V-1)*7),N.y=B.getFullYear(),N.m=B.getMonth(),N.d=B.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),ht="Z"in N?qr(Fn(N.y,0,1)).getUTCDay():Yr(Fn(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(ht+5)%7:N.w+N.U*7-(ht+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,qr(N)):Yr(N)}}function I(U,O,H,N){for(var G=0,B=O.length,ht=H.length,gt,q;G<B;){if(N>=ht)return-1;if(gt=O.charCodeAt(G++),gt===37){if(gt=O.charAt(G++),q=k[gt in ku?O.charAt(G++):gt],!q||(N=q(U,H,N))<0)return-1}else if(gt!=H.charCodeAt(N++))return-1}return N}function R(U,O,H){var N=a.exec(O.slice(H));return N?(U.p=c.get(N[0].toLowerCase()),H+N[0].length):-1}function S(U,O,H){var N=g.exec(O.slice(H));return N?(U.w=d.get(N[0].toLowerCase()),H+N[0].length):-1}function T(U,O,H){var N=h.exec(O.slice(H));return N?(U.w=f.get(N[0].toLowerCase()),H+N[0].length):-1}function $(U,O,H){var N=m.exec(O.slice(H));return N?(U.m=w.get(N[0].toLowerCase()),H+N[0].length):-1}function z(U,O,H){var N=x.exec(O.slice(H));return N?(U.m=p.get(N[0].toLowerCase()),H+N[0].length):-1}function y(U,O,H){return I(U,n,O,H)}function E(U,O,H){return I(U,e,O,H)}function b(U,O,H){return I(U,r,O,H)}function A(U){return u[U.getDay()]}function F(U){return o[U.getDay()]}function D(U){return l[U.getMonth()]}function P(U){return s[U.getMonth()]}function Y(U){return i[+(U.getHours()>=12)]}function L(U){return 1+~~(U.getMonth()/3)}function J(U){return u[U.getUTCDay()]}function X(U){return o[U.getUTCDay()]}function Z(U){return l[U.getUTCMonth()]}function j(U){return s[U.getUTCMonth()]}function V(U){return i[+(U.getUTCHours()>=12)]}function K(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var O=M(U+="",v);return O.toString=function(){return U},O},parse:function(U){var O=C(U+="",!1);return O.toString=function(){return U},O},utcFormat:function(U){var O=M(U+="",_);return O.toString=function(){return U},O},utcParse:function(U){var O=C(U+="",!0);return O.toString=function(){return U},O}}}var ku={"-":"",_:" ",0:"0"},et=/^\s*\d+/,qf=/^%/,Lf=/[\\^$*+?|[\]().{}]/g;function W(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Of(t){return t.replace(Lf,"\\$&")}function Rn(t){return new RegExp("^(?:"+t.map(Of).join("|")+")","i")}function Yn(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Hf(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Xf(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Wf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Vf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Bf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Tu(t,n,e){var r=et.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Nu(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Zf(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Gf(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Qf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Au(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Kf(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Su(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Jf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function jf(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function th(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function nh(t,n,e){var r=et.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function eh(t,n,e){var r=qf.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function rh(t,n,e){var r=et.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ih(t,n,e){var r=et.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Cu(t,n){return W(t.getDate(),n,2)}function oh(t,n){return W(t.getHours(),n,2)}function uh(t,n){return W(t.getHours()%12||12,n,2)}function sh(t,n){return W(1+Te.count(Kt(t),t),n,3)}function Eu(t,n){return W(t.getMilliseconds(),n,3)}function ah(t,n){return Eu(t,n)+"000"}function lh(t,n){return W(t.getMonth()+1,n,2)}function ch(t,n){return W(t.getMinutes(),n,2)}function fh(t,n){return W(t.getSeconds(),n,2)}function hh(t){var n=t.getDay();return n===0?7:n}function gh(t,n){return W(Ne.count(Kt(t)-1,t),n,2)}function $u(t){var n=t.getDay();return n>=4||n===0?mn(t):mn.ceil(t)}function ph(t,n){return t=$u(t),W(mn.count(Kt(t),t)+(Kt(t).getDay()===4),n,2)}function dh(t){return t.getDay()}function mh(t,n){return W(Ae.count(Kt(t)-1,t),n,2)}function yh(t,n){return W(t.getFullYear()%100,n,2)}function _h(t,n){return t=$u(t),W(t.getFullYear()%100,n,2)}function wh(t,n){return W(t.getFullYear()%1e4,n,4)}function vh(t,n){var e=t.getDay();return t=e>=4||e===0?mn(t):mn.ceil(t),W(t.getFullYear()%1e4,n,4)}function xh(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+W(n/60|0,"0",2)+W(n%60,"0",2)}function zu(t,n){return W(t.getUTCDate(),n,2)}function bh(t,n){return W(t.getUTCHours(),n,2)}function Mh(t,n){return W(t.getUTCHours()%12||12,n,2)}function kh(t,n){return W(1+Se.count(jt(t),t),n,3)}function Du(t,n){return W(t.getUTCMilliseconds(),n,3)}function Th(t,n){return Du(t,n)+"000"}function Nh(t,n){return W(t.getUTCMonth()+1,n,2)}function Ah(t,n){return W(t.getUTCMinutes(),n,2)}function Sh(t,n){return W(t.getUTCSeconds(),n,2)}function Ch(t){var n=t.getUTCDay();return n===0?7:n}function Eh(t,n){return W(Ce.count(jt(t)-1,t),n,2)}function Uu(t){var n=t.getUTCDay();return n>=4||n===0?yn(t):yn.ceil(t)}function $h(t,n){return t=Uu(t),W(yn.count(jt(t),t)+(jt(t).getUTCDay()===4),n,2)}function zh(t){return t.getUTCDay()}function Dh(t,n){return W(Ee.count(jt(t)-1,t),n,2)}function Uh(t,n){return W(t.getUTCFullYear()%100,n,2)}function Ih(t,n){return t=Uu(t),W(t.getUTCFullYear()%100,n,2)}function Ph(t,n){return W(t.getUTCFullYear()%1e4,n,4)}function Fh(t,n){var e=t.getUTCDay();return t=e>=4||e===0?yn(t):yn.ceil(t),W(t.getUTCFullYear()%1e4,n,4)}function Rh(){return"+0000"}function Iu(){return"%"}function Pu(t){return+t}function Fu(t){return Math.floor(+t/1e3)}var _n,Lr,Or;Yh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yh(t){return _n=Yf(t),Lr=_n.format,_n.parse,Or=_n.utcFormat,_n.utcParse,_n}function qh(t){return new Date(t)}function Lh(t){return t instanceof Date?+t:+new Date(+t)}function Hr(t,n,e,r,i,o,u,s,l,a){var c=Vo(),h=c.invert,f=c.domain,g=a(".%L"),d=a(":%S"),x=a("%I:%M"),p=a("%I %p"),m=a("%a %d"),w=a("%b %d"),v=a("%B"),_=a("%Y");function k(M){return(l(M)<M?g:s(M)<M?d:u(M)<M?x:o(M)<M?p:r(M)<M?i(M)<M?m:w:e(M)<M?v:_)(M)}return c.invert=function(M){return new Date(h(M))},c.domain=function(M){return arguments.length?f(Array.from(M,Lh)):f().map(qh)},c.ticks=function(M){var C=f();return t(C[0],C[C.length-1],M==null?10:M)},c.tickFormat=function(M,C){return C==null?k:a(C)},c.nice=function(M){var C=f();return(!M||typeof M.range!="function")&&(M=n(C[0],C[C.length-1],M==null?10:M)),M?f(nu(C,M)):c},c.copy=function(){return ve(c,Hr(t,n,e,r,i,o,u,s,l,a))},c}function Oh(){return Xt.apply(Hr(Ff,Rf,Kt,du,Ne,Te,hu,cu,dn,Lr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hh(){return Xt.apply(Hr(If,Pf,jt,bu,Ce,Se,wu,yu,dn,Or).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xh(){var t=0,n=1,e,r,i,o,u=yt,s=!1,l;function a(h){return h==null||isNaN(h=+h)?l:u(i===0?.5:(h=(o(h)-e)*i,s?Math.max(0,Math.min(1,h)):h))}a.domain=function(h){return arguments.length?([t,n]=h,e=o(t=+t),r=o(n=+n),i=e===r?0:1/(r-e),a):[t,n]},a.clamp=function(h){return arguments.length?(s=!!h,a):s},a.interpolator=function(h){return arguments.length?(u=h,a):u};function c(h){return function(f){var g,d;return arguments.length?([g,d]=f,u=h(g,d),a):[u(0),u(1)]}}return a.range=c(gn),a.rangeRound=c(Fo),a.unknown=function(h){return arguments.length?(l=h,a):l},function(h){return o=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),a}}function Wh(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ru(){var t=$r(Xh()(yt));return t.copy=function(){return Wh(t,Ru())},gc.apply(t,arguments)}function Xr(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}var Vh=Xr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Bh=Xr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Zh=t=>Io(t[t.length-1]),Gh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Xr),Qh=Zh(Gh);Xo(Lt(-100,.75,.35),Lt(80,1.5,.8)),Xo(Lt(260,.75,.35),Lt(80,1.5,.8));var $e=Lt();function Kh(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return $e.h=360*t-100,$e.s=1.5-1.5*n,$e.l=.8-.9*n,$e+""}var wn=0,qn=0,Ln=0,Yu=1e3,ze,On,De=0,tn=0,Ue=0,Hn=typeof performance=="object"&&performance.now?performance:Date,qu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wr(){return tn||(qu(Jh),tn=Hn.now()+Ue)}function Jh(){tn=0}function Ie(){this._call=this._time=this._next=null}Ie.prototype=Lu.prototype={constructor:Ie,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Wr():+e)+(n==null?0:+n),!this._next&&On!==this&&(On?On._next=this:ze=this,On=this),this._call=t,this._time=e,Vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vr())}};function Lu(t,n,e){var r=new Ie;return r.restart(t,n,e),r}function jh(){Wr(),++wn;for(var t=ze,n;t;)(n=tn-t._time)>=0&&t._call.call(void 0,n),t=t._next;--wn}function Ou(){tn=(De=Hn.now())+Ue,wn=qn=0;try{jh()}finally{wn=0,n0(),tn=0}}function t0(){var t=Hn.now(),n=t-De;n>Yu&&(Ue-=n,De=t)}function n0(){for(var t,n=ze,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ze=e);On=t,Vr(r)}function Vr(t){if(!wn){qn&&(qn=clearTimeout(qn));var n=t-tn;n>24?(t<1/0&&(qn=setTimeout(Ou,t-Hn.now()-Ue)),Ln&&(Ln=clearInterval(Ln))):(Ln||(De=Hn.now(),Ln=setInterval(t0,Yu)),wn=1,qu(Ou))}}function Br(t,n,e){var r=new Ie;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var e0={value:()=>{}};function Xn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Pe(e)}function Pe(t){this._=t}function r0(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Pe.prototype=Xn.prototype={constructor:Pe,on:function(t,n){var e=this._,r=r0(t+"",e),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=i0(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(i=(t=r[o]).type)e[i]=Hu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Hu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Pe(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function i0(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Hu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=e0,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var o0=Xn("start","end","cancel","interrupt"),u0=[],Xu=0,Wu=1,Zr=2,Fe=3,Vu=4,Gr=5,Re=6;function Ye(t,n,e,r,i,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;s0(t,e,{name:n,index:r,group:i,on:o0,tween:u0,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xu})}function Qr(t,n){var e=bt(t,n);if(e.state>Xu)throw new Error("too late; already scheduled");return e}function St(t,n){var e=bt(t,n);if(e.state>Fe)throw new Error("too late; already running");return e}function bt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function s0(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Lu(o,0,e.time);function o(a){e.state=Wu,e.timer.restart(u,e.delay,e.time),e.delay<=a&&u(a-e.delay)}function u(a){var c,h,f,g;if(e.state!==Wu)return l();for(c in r)if(g=r[c],g.name===e.name){if(g.state===Fe)return Br(u);g.state===Vu?(g.state=Re,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[c]):+c<n&&(g.state=Re,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[c])}if(Br(function(){e.state===Fe&&(e.state=Vu,e.timer.restart(s,e.delay,e.time),s(a))}),e.state=Zr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Zr){for(e.state=Fe,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(g=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=g);i.length=h+1}}function s(a){for(var c=a<e.duration?e.ease.call(null,a/e.duration):(e.timer.restart(l),e.state=Gr,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===Gr&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=Re,e.timer.stop(),delete r[n];for(var a in r)return;delete t.__transition}}function vn(t,n){var e=t.__transition,r,i,o=!0,u;if(!!e){n=n==null?null:n+"";for(u in e){if((r=e[u]).name!==n){o=!1;continue}i=r.state>Zr&&r.state<Gr,r.state=Re,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[u]}o&&delete t.__transition}}function a0(t){return this.each(function(){vn(this,t)})}function l0(t,n){var e,r;return function(){var i=St(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,s=r.length;u<s;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function c0(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=St(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var s={name:n,value:e},l=0,a=i.length;l<a;++l)if(i[l].name===n){i[l]=s;break}l===a&&i.push(s)}o.tween=i}}function f0(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=bt(this.node(),e).tween,i=0,o=r.length,u;i<o;++i)if((u=r[i]).name===t)return u.value;return null}return this.each((n==null?l0:c0)(e,t,n))}function Kr(t,n,e){var r=t._id;return t.each(function(){var i=St(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return bt(i,r).value[n]}}function Bu(t,n){var e;return(typeof n=="number"?xt:n instanceof qt?In:(e=qt(n))?(n=e,In):Po)(t,n)}function h0(t){return function(){this.removeAttribute(t)}}function g0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p0(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttribute(t);return u===i?null:u===r?o:o=n(r=u,e)}}function d0(t,n,e){var r,i=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===i?null:u===r?o:o=n(r=u,e)}}function m0(t,n,e){var r,i,o;return function(){var u,s=e(this),l;return s==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=s+"",u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,s)))}}function y0(t,n,e){var r,i,o;return function(){var u,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=s+"",u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,s)))}}function _0(t,n){var e=se(t),r=e==="transform"?Xc:Bu;return this.attrTween(t,typeof n=="function"?(e.local?y0:m0)(e,r,Kr(this,"attr."+t,n)):n==null?(e.local?g0:h0)(e):(e.local?d0:p0)(e,r,n))}function w0(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function v0(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function x0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&v0(t,o)),e}return i._value=n,i}function b0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&w0(t,o)),e}return i._value=n,i}function M0(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=se(t);return this.tween(e,(r.local?x0:b0)(r,n))}function k0(t,n){return function(){Qr(this,t).delay=+n.apply(this,arguments)}}function T0(t,n){return n=+n,function(){Qr(this,t).delay=n}}function N0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?k0:T0)(n,t)):bt(this.node(),n).delay}function A0(t,n){return function(){St(this,t).duration=+n.apply(this,arguments)}}function S0(t,n){return n=+n,function(){St(this,t).duration=n}}function C0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?A0:S0)(n,t)):bt(this.node(),n).duration}function E0(t,n){if(typeof n!="function")throw new Error;return function(){St(this,t).ease=n}}function $0(t){var n=this._id;return arguments.length?this.each(E0(n,t)):bt(this.node(),n).ease}function z0(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;St(this,t).ease=e}}function D0(t){if(typeof t!="function")throw new Error;return this.each(z0(this._id,t))}function U0(t){typeof t!="function"&&(t=Vi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],u=o.length,s=r[i]=[],l,a=0;a<u;++a)(l=o[a])&&t.call(l,l.__data__,a,o)&&s.push(l);return new Ut(r,this._parents,this._name,this._id)}function I0(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),s=0;s<o;++s)for(var l=n[s],a=e[s],c=l.length,h=u[s]=new Array(c),f,g=0;g<c;++g)(f=l[g]||a[g])&&(h[g]=f);for(;s<r;++s)u[s]=n[s];return new Ut(u,this._parents,this._name,this._id)}function P0(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function F0(t,n,e){var r,i,o=P0(n)?Qr:St;return function(){var u=o(this,t),s=u.on;s!==r&&(i=(r=s).copy()).on(n,e),u.on=i}}function R0(t,n){var e=this._id;return arguments.length<2?bt(this.node(),e).on.on(t):this.each(F0(e,t,n))}function Y0(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function q0(){return this.on("end.remove",Y0(this._id))}function L0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=sr(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var s=r[u],l=s.length,a=o[u]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),a[f]=h,Ye(a[f],n,e,f,a,bt(c,e)));return new Ut(o,this._parents,n,e)}function O0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Wi(t));for(var r=this._groups,i=r.length,o=[],u=[],s=0;s<i;++s)for(var l=r[s],a=l.length,c,h=0;h<a;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),g,d=bt(c,e),x=0,p=f.length;x<p;++x)(g=f[x])&&Ye(g,n,e,x,f,d);o.push(f),u.push(c)}return new Ut(o,u,n,e)}var H0=un.prototype.constructor;function X0(){return new H0(this._groups,this._parents)}function W0(t,n){var e,r,i;return function(){var o=on(this,t),u=(this.style.removeProperty(t),on(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function Zu(t){return function(){this.style.removeProperty(t)}}function V0(t,n,e){var r,i=e+"",o;return function(){var u=on(this,t);return u===i?null:u===r?o:o=n(r=u,e)}}function B0(t,n,e){var r,i,o;return function(){var u=on(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),on(this,t))),u===l?null:u===r&&l===i?o:(i=l,o=n(r=u,s))}}function Z0(t,n){var e,r,i,o="style."+n,u="end."+o,s;return function(){var l=St(this,t),a=l.on,c=l.value[o]==null?s||(s=Zu(n)):void 0;(a!==e||i!==c)&&(r=(e=a).copy()).on(u,i=c),l.on=r}}function G0(t,n,e){var r=(t+="")=="transform"?Hc:Bu;return n==null?this.styleTween(t,W0(t,r)).on("end.style."+t,Zu(t)):typeof n=="function"?this.styleTween(t,B0(t,r,Kr(this,"style."+t,n))).each(Z0(this._id,t)):this.styleTween(t,V0(t,r,n),e).on("end.style."+t,null)}function Q0(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function K0(t,n,e){var r,i;function o(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&Q0(t,u,e)),r}return o._value=n,o}function J0(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,K0(t,n,e==null?"":e))}function j0(t){return function(){this.textContent=t}}function t1(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function n1(t){return this.tween("text",typeof t=="function"?t1(Kr(this,"text",t)):j0(t==null?"":t+""))}function e1(t){return function(n){this.textContent=t.call(this,n)}}function r1(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&e1(i)),n}return r._value=t,r}function i1(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,r1(t))}function o1(){for(var t=this._name,n=this._id,e=Qu(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],s=u.length,l,a=0;a<s;++a)if(l=u[a]){var c=bt(l,n);Ye(l,t,e,a,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ut(r,this._parents,t,e)}function u1(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,u){var s={value:u},l={value:function(){--i===0&&o()}};e.each(function(){var a=St(this,r),c=a.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),a.on=n}),i===0&&o()})}var s1=0;function Ut(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Gu(t){return un().transition(t)}function Qu(){return++s1}var It=un.prototype;Ut.prototype=Gu.prototype={constructor:Ut,select:L0,selectAll:O0,selectChild:It.selectChild,selectChildren:It.selectChildren,filter:U0,merge:I0,selection:X0,transition:o1,call:It.call,nodes:It.nodes,node:It.node,size:It.size,empty:It.empty,each:It.each,on:R0,attr:_0,attrTween:M0,style:G0,styleTween:J0,text:n1,textTween:i1,remove:q0,tween:f0,delay:N0,duration:C0,ease:$0,easeVarying:D0,end:u1,[Symbol.iterator]:It[Symbol.iterator]};const a1=t=>+t;function l1(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ku(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Jr=3;(function t(n){n=+n;function e(r){return Math.pow(r,n)}return e.exponent=t,e})(Jr),function t(n){n=+n;function e(r){return 1-Math.pow(1-r,n)}return e.exponent=t,e}(Jr);var c1=function t(n){n=+n;function e(r){return((r*=2)<=1?Math.pow(r,n):2-Math.pow(2-r,n))/2}return e.exponent=t,e}(Jr);function qe(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}var xn=2*Math.PI,jr=1,ti=.3;(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=xn);function i(o){return n*qe(- --o)*Math.sin((r-o)/e)}return i.amplitude=function(o){return t(o,e*xn)},i.period=function(o){return t(n,o)},i})(jr,ti);var f1=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=xn);function i(o){return 1-n*qe(o=+o)*Math.sin((o+r)/e)}return i.amplitude=function(o){return t(o,e*xn)},i.period=function(o){return t(n,o)},i}(jr,ti);(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=xn);function i(o){return((o=o*2-1)<0?n*qe(-o)*Math.sin((r-o)/e):2-n*qe(o)*Math.sin((r+o)/e))/2}return i.amplitude=function(o){return t(o,e*xn)},i.period=function(o){return t(n,o)},i})(jr,ti);var h1={time:null,delay:0,duration:250,ease:Ku};function g1(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function p1(t){var n,e;t instanceof Ut?(n=t._id,t=t._name):(n=Qu(),(e=h1).time=Wr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],s=u.length,l,a=0;a<s;++a)(l=u[a])&&Ye(l,t,n,a,u,e||g1(l,n));return new Ut(r,this._parents,t,n)}un.prototype.interrupt=a0,un.prototype.transition=p1;function d1(t){return t}var ni=1,ei=2,ri=3,Wn=4,Ju=1e-6;function m1(t){return"translate("+t+",0)"}function y1(t){return"translate(0,"+t+")"}function _1(t){return n=>+t(n)}function w1(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function v1(){return!this.__axis}function ju(t,n){var e=[],r=null,i=null,o=6,u=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,a=t===ni||t===Wn?-1:1,c=t===Wn||t===ei?"x":"y",h=t===ni||t===ri?m1:y1;function f(g){var d=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,x=i==null?n.tickFormat?n.tickFormat.apply(n,e):d1:i,p=Math.max(o,0)+s,m=n.range(),w=+m[0]+l,v=+m[m.length-1]+l,_=(n.bandwidth?w1:_1)(n.copy(),l),k=g.selection?g.selection():g,M=k.selectAll(".domain").data([null]),C=k.selectAll(".tick").data(d,n).order(),I=C.exit(),R=C.enter().append("g").attr("class","tick"),S=C.select("line"),T=C.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(R),S=S.merge(R.append("line").attr("stroke","currentColor").attr(c+"2",a*o)),T=T.merge(R.append("text").attr("fill","currentColor").attr(c,a*p).attr("dy",t===ni?"0em":t===ri?"0.71em":"0.32em")),g!==k&&(M=M.transition(g),C=C.transition(g),S=S.transition(g),T=T.transition(g),I=I.transition(g).attr("opacity",Ju).attr("transform",function($){return isFinite($=_($))?h($+l):this.getAttribute("transform")}),R.attr("opacity",Ju).attr("transform",function($){var z=this.parentNode.__axis;return h((z&&isFinite(z=z($))?z:_($))+l)})),I.remove(),M.attr("d",t===Wn||t===ei?u?"M"+a*u+","+w+"H"+l+"V"+v+"H"+a*u:"M"+l+","+w+"V"+v:u?"M"+w+","+a*u+"V"+l+"H"+v+"V"+a*u:"M"+w+","+l+"H"+v),C.attr("opacity",1).attr("transform",function($){return h(_($)+l)}),S.attr(c+"2",a*o),T.attr(c,a*p).text(x),k.filter(v1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ei?"start":t===Wn?"end":"middle"),k.each(function(){this.__axis=_})}return f.scale=function(g){return arguments.length?(n=g,f):n},f.ticks=function(){return e=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(e=g==null?[]:Array.from(g),f):e.slice()},f.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),f):r&&r.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(o=u=+g,f):o},f.tickSizeInner=function(g){return arguments.length?(o=+g,f):o},f.tickSizeOuter=function(g){return arguments.length?(u=+g,f):u},f.tickPadding=function(g){return arguments.length?(s=+g,f):s},f.offset=function(g){return arguments.length?(l=+g,f):l},f}function x1(t){return ju(ri,t)}function b1(t){return ju(Wn,t)}const ii=Math.PI,oi=2*ii,nn=1e-6,M1=oi-nn;function ui(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vn(){return new ui}ui.prototype=Vn.prototype={constructor:ui,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,s=e-t,l=r-n,a=o-t,c=u-n,h=a*a+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>nn)if(!(Math.abs(c*s-l*a)>nn)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var f=e-o,g=r-u,d=s*s+l*l,x=f*f+g*g,p=Math.sqrt(d),m=Math.sqrt(h),w=i*Math.tan((ii-Math.acos((d+h-x)/(2*p*m)))/2),v=w/m,_=w/p;Math.abs(v-1)>nn&&(this._+="L"+(t+v*a)+","+(n+v*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>a*g)+","+(this._x1=t+_*s)+","+(this._y1=n+_*l)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var u=e*Math.cos(r),s=e*Math.sin(r),l=t+u,a=n+s,c=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+l+","+a:(Math.abs(this._x1-l)>nn||Math.abs(this._y1-a)>nn)&&(this._+="L"+l+","+a),e&&(h<0&&(h=h%oi+oi),h>M1?this._+="A"+e+","+e+",0,1,"+c+","+(t-u)+","+(n-s)+"A"+e+","+e+",0,1,"+c+","+(this._x1=l)+","+(this._y1=a):h>nn&&(this._+="A"+e+","+e+",0,"+ +(h>=ii)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function rt(t){return function(){return t}}const ts=Math.abs,it=Math.atan2,en=Math.cos,k1=Math.max,si=Math.min,Ct=Math.sin,bn=Math.sqrt,pt=1e-12,Bn=Math.PI,Le=Bn/2,T1=2*Bn;function N1(t){return t>1?0:t<-1?Bn:Math.acos(t)}function ns(t){return t>=1?Le:t<=-1?-Le:Math.asin(t)}function A1(t){return t.innerRadius}function S1(t){return t.outerRadius}function C1(t){return t.startAngle}function E1(t){return t.endAngle}function $1(t){return t&&t.padAngle}function z1(t,n,e,r,i,o,u,s){var l=e-t,a=r-n,c=u-i,h=s-o,f=h*l-c*a;if(!(f*f<pt))return f=(c*(n-o)-h*(t-i))/f,[t+f*l,n+f*a]}function Oe(t,n,e,r,i,o,u){var s=t-e,l=n-r,a=(u?o:-o)/bn(s*s+l*l),c=a*l,h=-a*s,f=t+c,g=n+h,d=e+c,x=r+h,p=(f+d)/2,m=(g+x)/2,w=d-f,v=x-g,_=w*w+v*v,k=i-o,M=f*x-d*g,C=(v<0?-1:1)*bn(k1(0,k*k*_-M*M)),I=(M*v-w*C)/_,R=(-M*w-v*C)/_,S=(M*v+w*C)/_,T=(-M*w+v*C)/_,$=I-p,z=R-m,y=S-p,E=T-m;return $*$+z*z>y*y+E*E&&(I=S,R=T),{cx:I,cy:R,x01:-c,y01:-h,x11:I*(i/k-1),y11:R*(i/k-1)}}function D1(){var t=A1,n=S1,e=rt(0),r=null,i=C1,o=E1,u=$1,s=null;function l(){var a,c,h=+t.apply(this,arguments),f=+n.apply(this,arguments),g=i.apply(this,arguments)-Le,d=o.apply(this,arguments)-Le,x=ts(d-g),p=d>g;if(s||(s=a=Vn()),f<h&&(c=f,f=h,h=c),!(f>pt))s.moveTo(0,0);else if(x>T1-pt)s.moveTo(f*en(g),f*Ct(g)),s.arc(0,0,f,g,d,!p),h>pt&&(s.moveTo(h*en(d),h*Ct(d)),s.arc(0,0,h,d,g,p));else{var m=g,w=d,v=g,_=d,k=x,M=x,C=u.apply(this,arguments)/2,I=C>pt&&(r?+r.apply(this,arguments):bn(h*h+f*f)),R=si(ts(f-h)/2,+e.apply(this,arguments)),S=R,T=R,$,z;if(I>pt){var y=ns(I/h*Ct(C)),E=ns(I/f*Ct(C));(k-=y*2)>pt?(y*=p?1:-1,v+=y,_-=y):(k=0,v=_=(g+d)/2),(M-=E*2)>pt?(E*=p?1:-1,m+=E,w-=E):(M=0,m=w=(g+d)/2)}var b=f*en(m),A=f*Ct(m),F=h*en(_),D=h*Ct(_);if(R>pt){var P=f*en(w),Y=f*Ct(w),L=h*en(v),J=h*Ct(v),X;if(x<Bn&&(X=z1(b,A,L,J,P,Y,F,D))){var Z=b-X[0],j=A-X[1],V=P-X[0],K=Y-X[1],U=1/Ct(N1((Z*V+j*K)/(bn(Z*Z+j*j)*bn(V*V+K*K)))/2),O=bn(X[0]*X[0]+X[1]*X[1]);S=si(R,(h-O)/(U-1)),T=si(R,(f-O)/(U+1))}}M>pt?T>pt?($=Oe(L,J,b,A,f,T,p),z=Oe(P,Y,F,D,f,T,p),s.moveTo($.cx+$.x01,$.cy+$.y01),T<R?s.arc($.cx,$.cy,T,it($.y01,$.x01),it(z.y01,z.x01),!p):(s.arc($.cx,$.cy,T,it($.y01,$.x01),it($.y11,$.x11),!p),s.arc(0,0,f,it($.cy+$.y11,$.cx+$.x11),it(z.cy+z.y11,z.cx+z.x11),!p),s.arc(z.cx,z.cy,T,it(z.y11,z.x11),it(z.y01,z.x01),!p))):(s.moveTo(b,A),s.arc(0,0,f,m,w,!p)):s.moveTo(b,A),!(h>pt)||!(k>pt)?s.lineTo(F,D):S>pt?($=Oe(F,D,P,Y,h,-S,p),z=Oe(b,A,L,J,h,-S,p),s.lineTo($.cx+$.x01,$.cy+$.y01),S<R?s.arc($.cx,$.cy,S,it($.y01,$.x01),it(z.y01,z.x01),!p):(s.arc($.cx,$.cy,S,it($.y01,$.x01),it($.y11,$.x11),!p),s.arc(0,0,h,it($.cy+$.y11,$.cx+$.x11),it(z.cy+z.y11,z.cx+z.x11),p),s.arc(z.cx,z.cy,S,it(z.y11,z.x11),it(z.y01,z.x01),!p))):s.arc(0,0,h,_,v,p)}if(s.closePath(),a)return s=null,a+""||null}return l.centroid=function(){var a=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Bn/2;return[en(c)*a,Ct(c)*a]},l.innerRadius=function(a){return arguments.length?(t=typeof a=="function"?a:rt(+a),l):t},l.outerRadius=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),l):n},l.cornerRadius=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),l):e},l.padRadius=function(a){return arguments.length?(r=a==null?null:typeof a=="function"?a:rt(+a),l):r},l.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:rt(+a),l):i},l.endAngle=function(a){return arguments.length?(o=typeof a=="function"?a:rt(+a),l):o},l.padAngle=function(a){return arguments.length?(u=typeof a=="function"?a:rt(+a),l):u},l.context=function(a){return arguments.length?(s=a==null?null:a,l):s},l}var U1=Array.prototype.slice;function I1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function es(t){this._context=t}es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function P1(t){return new es(t)}function rs(t){return t[0]}function is(t){return t[1]}function F1(t,n){var e=rt(!0),r=null,i=P1,o=null;t=typeof t=="function"?t:t===void 0?rs:rt(t),n=typeof n=="function"?n:n===void 0?is:rt(n);function u(s){var l,a=(s=I1(s)).length,c,h=!1,f;for(r==null&&(o=i(f=Vn())),l=0;l<=a;++l)!(l<a&&e(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,l,s),+n(c,l,s));if(f)return o=null,f+""||null}return u.x=function(s){return arguments.length?(t=typeof s=="function"?s:rt(+s),u):t},u.y=function(s){return arguments.length?(n=typeof s=="function"?s:rt(+s),u):n},u.defined=function(s){return arguments.length?(e=typeof s=="function"?s:rt(!!s),u):e},u.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),u):i},u.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),u):r},u}class os{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function R1(t){return new os(t,!0)}function Y1(t){return new os(t,!1)}function q1(t){return t.source}function L1(t){return t.target}function us(t){let n=q1,e=L1,r=rs,i=is,o=null,u=null;function s(){let l;const a=U1.call(arguments),c=n.apply(this,a),h=e.apply(this,a);if(o==null&&(u=t(l=Vn())),u.lineStart(),a[0]=c,u.point(+r.apply(this,a),+i.apply(this,a)),a[0]=h,u.point(+r.apply(this,a),+i.apply(this,a)),u.lineEnd(),l)return u=null,l+""||null}return s.source=function(l){return arguments.length?(n=l,s):n},s.target=function(l){return arguments.length?(e=l,s):e},s.x=function(l){return arguments.length?(r=typeof l=="function"?l:rt(+l),s):r},s.y=function(l){return arguments.length?(i=typeof l=="function"?l:rt(+l),s):i},s.context=function(l){return arguments.length?(l==null?o=u=null:u=t(o=l),s):o},s}function O1(){return us(R1)}function H1(){return us(Y1)}function ss(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function as(t){this._context=t}as.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ss(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ss(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function X1(t){return new as(t)}function ls(t){return t<0?-1:1}function cs(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),s=(o*i+u*r)/(r+i);return(ls(o)+ls(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(s))||0}function fs(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function ai(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*n,o-s,u-s*e,o,u)}function He(t){this._context=t}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ai(this,this._t0,fs(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,ai(this,fs(this,e=cs(this,t,n)),e);break;default:ai(this,this._t0,e=cs(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function hs(t){this._context=new gs(t)}(hs.prototype=Object.create(He.prototype)).point=function(t,n){He.prototype.point.call(this,n,t)};function gs(t){this._context=t}gs.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function W1(t){return new He(t)}function V1(t){return new hs(t)}function ps(t,n){this._context=t,this._t=n}ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function B1(t){return new ps(t,1)}function Z1(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function G1(){return this.eachAfter(Z1)}function Q1(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function K1(t,n){for(var e=this,r=[e],i,o,u=-1;e=r.pop();)if(t.call(n,e,++u,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function J1(t,n){for(var e=this,r=[e],i=[],o,u,s,l=-1;e=r.pop();)if(i.push(e),o=e.children)for(u=0,s=o.length;u<s;++u)r.push(o[u]);for(;e=i.pop();)t.call(n,e,++l,this);return this}function j1(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function tg(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function ng(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function eg(t){for(var n=this,e=rg(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function rg(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function ig(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function og(){return Array.from(this)}function ug(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function sg(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*ag(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function li(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=fg)):n===void 0&&(n=cg);for(var e=new Zn(t),r,i=[e],o,u,s,l;r=i.pop();)if((u=n(r.data))&&(l=(u=Array.from(u)).length))for(r.children=u,s=l-1;s>=0;--s)i.push(o=u[s]=new Zn(u[s])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(gg)}function lg(){return li(this).eachBefore(hg)}function cg(t){return t.children}function fg(t){return Array.isArray(t)?t[1]:null}function hg(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function gg(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Zn(t){this.data=t,this.depth=this.height=0,this.parent=null}Zn.prototype=li.prototype={constructor:Zn,count:G1,each:Q1,eachAfter:J1,eachBefore:K1,find:j1,sum:tg,sort:ng,path:eg,ancestors:ig,descendants:og,leaves:ug,links:sg,copy:lg,[Symbol.iterator]:ag};function pg(t){return t==null?null:dg(t)}function dg(t){if(typeof t!="function")throw new Error;return t}function ds(){return 0}function mg(t){return function(){return t}}const yg=1664525,_g=1013904223,ms=4294967296;function wg(){let t=1;return()=>(t=(yg*t+_g)%ms)/ms}function vg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xg(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function bg(t,n){for(var e=0,r=(t=xg(Array.from(t),n)).length,i=[],o,u;e<r;)o=t[e],u&&ys(u,o)?++e:(u=kg(i=Mg(i,o)),e=0);return u}function Mg(t,n){var e,r;if(ci(n,t))return[n];for(e=0;e<t.length;++e)if(Xe(n,t[e])&&ci(Gn(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Xe(Gn(t[e],t[r]),n)&&Xe(Gn(t[e],n),t[r])&&Xe(Gn(t[r],n),t[e])&&ci(_s(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Xe(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function ys(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ci(t,n){for(var e=0;e<n.length;++e)if(!ys(t,n[e]))return!1;return!0}function kg(t){switch(t.length){case 1:return Tg(t[0]);case 2:return Gn(t[0],t[1]);case 3:return _s(t[0],t[1],t[2])}}function Tg(t){return{x:t.x,y:t.y,r:t.r}}function Gn(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,s=n.r,l=o-e,a=u-r,c=s-i,h=Math.sqrt(l*l+a*a);return{x:(e+o+l/h*c)/2,y:(r+u+a/h*c)/2,r:(h+i+s)/2}}function _s(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,s=n.y,l=n.r,a=e.x,c=e.y,h=e.r,f=r-u,g=r-a,d=i-s,x=i-c,p=l-o,m=h-o,w=r*r+i*i-o*o,v=w-u*u-s*s+l*l,_=w-a*a-c*c+h*h,k=g*d-f*x,M=(d*_-x*v)/(k*2)-r,C=(x*p-d*m)/k,I=(g*v-f*_)/(k*2)-i,R=(f*m-g*p)/k,S=C*C+R*R-1,T=2*(o+M*C+I*R),$=M*M+I*I-o*o,z=-(Math.abs(S)>1e-6?(T+Math.sqrt(T*T-4*S*$))/(2*S):$/T);return{x:r+M+C*z,y:i+I+R*z,r:z}}function ws(t,n,e){var r=t.x-n.x,i,o,u=t.y-n.y,s,l,a=r*r+u*u;a?(o=n.r+e.r,o*=o,l=t.r+e.r,l*=l,o>l?(i=(a+l-o)/(2*a),s=Math.sqrt(Math.max(0,l/a-i*i)),e.x=t.x-i*r-s*u,e.y=t.y-i*u+s*r):(i=(a+o-l)/(2*a),s=Math.sqrt(Math.max(0,o/a-i*i)),e.x=n.x+i*r-s*u,e.y=n.y+i*u+s*r)):(e.x=n.x+e.r,e.y=n.y)}function vs(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function xs(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function We(t){this._=t,this.next=null,this.previous=null}function Ng(t,n){if(!(o=(t=vg(t)).length))return 0;var e,r,i,o,u,s,l,a,c,h,f;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;ws(r,e,i=t[2]),e=new We(e),r=new We(r),i=new We(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(l=3;l<o;++l){ws(e._,r._,i=t[l]),i=new We(i),a=r.next,c=e.previous,h=r._.r,f=e._.r;do if(h<=f){if(vs(a._,i._)){r=a,e.next=r,r.previous=e,--l;continue t}h+=a._.r,a=a.next}else{if(vs(c._,i._)){e=c,e.next=r,r.previous=e,--l;continue t}f+=c._.r,c=c.previous}while(a!==c.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,u=xs(e);(i=i.next)!==r;)(s=xs(i))<u&&(e=i,u=s);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=bg(e,n),l=0;l<o;++l)e=t[l],e.x-=i.x,e.y-=i.y;return i.r}function Ag(t){return Math.sqrt(t.value)}function Sg(){var t=null,n=1,e=1,r=ds;function i(o){const u=wg();return o.x=n/2,o.y=e/2,t?o.eachBefore(bs(t)).eachAfter(fi(r,.5,u)).eachBefore(Ms(1)):o.eachBefore(bs(Ag)).eachAfter(fi(ds,1,u)).eachAfter(fi(r,o.r/Math.min(n,e),u)).eachBefore(Ms(Math.min(n,e)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=pg(o),i):t},i.size=function(o){return arguments.length?(n=+o[0],e=+o[1],i):[n,e]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:mg(+o),i):r},i}function bs(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function fi(t,n,e){return function(r){if(i=r.children){var i,o,u=i.length,s=t(r)*n||0,l;if(s)for(o=0;o<u;++o)i[o].r+=s;if(l=Ng(i,e),s)for(o=0;o<u;++o)i[o].r-=s;r.r=l+s}}}function Ms(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Cg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Eg(t,n,e,r,i){for(var o=t.children,u,s=-1,l=o.length,a=t.value&&(r-n)/t.value;++s<l;)u=o[s],u.y0=e,u.y1=i,u.x0=n,u.x1=n+=u.value*a}function $g(){var t=1,n=1,e=0,r=!1;function i(u){var s=u.height+1;return u.x0=u.y0=e,u.x1=t,u.y1=n/s,u.eachBefore(o(n,s)),r&&u.eachBefore(Cg),u}function o(u,s){return function(l){l.children&&Eg(l,l.x0,u*(l.depth+1)/s,l.x1,u*(l.depth+2)/s);var a=l.x0,c=l.y0,h=l.x1-e,f=l.y1-e;h<a&&(a=h=(a+h)/2),f<c&&(c=f=(c+f)/2),l.x0=a,l.y0=c,l.x1=h,l.y1=f}}return i.round=function(u){return arguments.length?(r=!!u,i):r},i.size=function(u){return arguments.length?(t=+u[0],n=+u[1],i):[t,n]},i.padding=function(u){return arguments.length?(e=+u,i):e},i}function zg(t,n){return t.parent===n.parent?1:2}function hi(t){var n=t.children;return n?n[0]:t.t}function gi(t){var n=t.children;return n?n[n.length-1]:t.t}function Dg(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Ug(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function Ig(t,n,e){return t.a.parent===n.parent?t.a:e}function Ve(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Ve.prototype=Object.create(Zn.prototype);function Pg(t){for(var n=new Ve(t,0),e,r=[n],i,o,u,s;e=r.pop();)if(o=e._.children)for(e.children=new Array(s=o.length),u=s-1;u>=0;--u)r.push(i=e.children[u]=new Ve(o[u],u)),i.parent=e;return(n.parent=new Ve(null,0)).children=[n],n}function Fg(){var t=zg,n=1,e=1,r=null;function i(a){var c=Pg(a);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(u),r)a.eachBefore(l);else{var h=a,f=a,g=a;a.eachBefore(function(w){w.x<h.x&&(h=w),w.x>f.x&&(f=w),w.depth>g.depth&&(g=w)});var d=h===f?1:t(h,f)/2,x=d-h.x,p=n/(f.x+d+x),m=e/(g.depth||1);a.eachBefore(function(w){w.x=(w.x+x)*p,w.y=w.depth*m})}return a}function o(a){var c=a.children,h=a.parent.children,f=a.i?h[a.i-1]:null;if(c){Ug(a);var g=(c[0].z+c[c.length-1].z)/2;f?(a.z=f.z+t(a._,f._),a.m=a.z-g):a.z=g}else f&&(a.z=f.z+t(a._,f._));a.parent.A=s(a,f,a.parent.A||h[0])}function u(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function s(a,c,h){if(c){for(var f=a,g=a,d=c,x=f.parent.children[0],p=f.m,m=g.m,w=d.m,v=x.m,_;d=gi(d),f=hi(f),d&&f;)x=hi(x),g=gi(g),g.a=a,_=d.z+w-f.z-p+t(d._,f._),_>0&&(Dg(Ig(d,a,h),a,_),p+=_,m+=_),w+=d.m,p+=f.m,v+=x.m,m+=g.m;d&&!gi(g)&&(g.t=d,g.m+=w-m),f&&!hi(x)&&(x.t=f,x.m+=p-v,h=a)}return h}function l(a){a.x*=n,a.y=a.depth*e}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,n=+a[0],e=+a[1],i):r?null:[n,e]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],e=+a[1],i):r?[n,e]:null},i}const Rg={passive:!1},Qn={capture:!0,passive:!1};function pi(t){t.stopImmediatePropagation()}function Mn(t){t.preventDefault(),t.stopImmediatePropagation()}function di(t){var n=t.document.documentElement,e=at(t).on("dragstart.drag",Mn,Qn);"onselectstart"in n?e.on("selectstart.drag",Mn,Qn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function mi(t,n){var e=t.document.documentElement,r=at(t).on("dragstart.drag",null);n&&(r.on("click.drag",Mn,Qn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Be=t=>()=>t;function yi(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:s,dx:l,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}yi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Yg(t){return!t.ctrlKey&&!t.button}function qg(){return this.parentNode}function Lg(t,n){return n==null?{x:t.x,y:t.y}:n}function Og(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hg(){var t=Yg,n=qg,e=Lg,r=Og,i={},o=Xn("start","drag","end"),u=0,s,l,a,c,h=0;function f(_){_.on("mousedown.drag",g).filter(r).on("touchstart.drag",p).on("touchmove.drag",m,Rg).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(_,k){if(!(c||!t.call(this,_,k))){var M=v(this,n.call(this,_,k),_,k,"mouse");!M||(at(_.view).on("mousemove.drag",d,Qn).on("mouseup.drag",x,Qn),di(_.view),pi(_),a=!1,s=_.clientX,l=_.clientY,M("start",_))}}function d(_){if(Mn(_),!a){var k=_.clientX-s,M=_.clientY-l;a=k*k+M*M>h}i.mouse("drag",_)}function x(_){at(_.view).on("mousemove.drag mouseup.drag",null),mi(_.view,a),Mn(_),i.mouse("end",_)}function p(_,k){if(!!t.call(this,_,k)){var M=_.changedTouches,C=n.call(this,_,k),I=M.length,R,S;for(R=0;R<I;++R)(S=v(this,C,_,k,M[R].identifier,M[R]))&&(pi(_),S("start",_,M[R]))}}function m(_){var k=_.changedTouches,M=k.length,C,I;for(C=0;C<M;++C)(I=i[k[C].identifier])&&(Mn(_),I("drag",_,k[C]))}function w(_){var k=_.changedTouches,M=k.length,C,I;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),C=0;C<M;++C)(I=i[k[C].identifier])&&(pi(_),I("end",_,k[C]))}function v(_,k,M,C,I,R){var S=o.copy(),T=wt(R||M,k),$,z,y;if((y=e.call(_,new yi("beforestart",{sourceEvent:M,target:f,identifier:I,active:u,x:T[0],y:T[1],dx:0,dy:0,dispatch:S}),C))!=null)return $=y.x-T[0]||0,z=y.y-T[1]||0,function E(b,A,F){var D=T,P;switch(b){case"start":i[I]=E,P=u++;break;case"end":delete i[I],--u;case"drag":T=wt(F||A,k),P=u;break}S.call(b,_,new yi(b,{sourceEvent:A,subject:y,target:f,identifier:I,active:P,x:T[0]+$,y:T[1]+z,dx:T[0]-D[0],dy:T[1]-D[1],dispatch:S}),C)}}return f.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Be(!!_),f):t},f.container=function(_){return arguments.length?(n=typeof _=="function"?_:Be(_),f):n},f.subject=function(_){return arguments.length?(e=typeof _=="function"?_:Be(_),f):e},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Be(!!_),f):r},f.on=function(){var _=o.on.apply(o,arguments);return _===o?f:_},f.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,f):Math.sqrt(h)},f}var _i=t=>()=>t;function Xg(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Wg(t){t.stopImmediatePropagation()}function wi(t){t.preventDefault(),t.stopImmediatePropagation()}var ks={name:"drag"},vi={name:"space"},kn={name:"handle"},Tn={name:"center"};const{abs:Ts,max:ot,min:ut}=Math;function Ns(t){return[+t[0],+t[1]]}function xi(t){return[Ns(t[0]),Ns(t[1])]}var bi={name:"x",handles:["w","e"].map(Kn),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Mi={name:"y",handles:["n","s"].map(Kn),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Vg={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Kn),input:function(t){return t==null?null:xi(t)},output:function(t){return t}},Pt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},As={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ss={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Bg={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Zg={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Kn(t){return{type:t}}function Gg(t){return!t.ctrlKey&&!t.button}function Qg(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Kg(){return navigator.maxTouchPoints||"ontouchstart"in this}function ki(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Jg(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function jg(){return tp(Vg)}function tp(t){var n=Qg,e=Gg,r=Kg,i=!0,o=Xn("start","brush","end"),u=6,s;function l(p){var m=p.property("__brush",x).selectAll(".overlay").data([Kn("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pt.overlay).merge(m).each(function(){var v=ki(this).extent;at(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),p.selectAll(".selection").data([Kn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=p.selectAll(".handle").data(t.handles,function(v){return v.type});w.exit().remove(),w.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Pt[v.type]}),p.each(a).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,m,w){p.tween?p.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,_=v.__brush,k=c(v,arguments),M=_.selection,C=t.input(typeof m=="function"?m.apply(this,arguments):m,_.extent),I=gn(M,C);function R(S){_.selection=S===1&&C===null?null:I(S),a.call(v),k.brush()}return M!==null&&C!==null?R:R(1)}):p.each(function(){var v=this,_=arguments,k=v.__brush,M=t.input(typeof m=="function"?m.apply(v,_):m,k.extent),C=c(v,_).beforestart();vn(v),k.selection=M===null?null:M,a.call(v),C.start(w).brush(w).end(w)})},l.clear=function(p,m){l.move(p,null,m)};function a(){var p=at(this),m=ki(this).selection;m?(p.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?m[1][0]-u/2:m[0][0]-u/2}).attr("y",function(w){return w.type[0]==="s"?m[1][1]-u/2:m[0][1]-u/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?m[1][0]-m[0][0]+u:u}).attr("height",function(w){return w.type==="e"||w.type==="w"?m[1][1]-m[0][1]+u:u})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(p,m,w){var v=p.__brush.emitter;return v&&(!w||!v.clean)?v:new h(p,m,w)}function h(p,m,w){this.that=p,this.args=m,this.state=p.__brush,this.active=0,this.clean=w}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,m){return this.starting?(this.starting=!1,this.emit("start",p,m)):this.emit("brush",p),this},brush:function(p,m){return this.emit("brush",p,m),this},end:function(p,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,m)),this},emit:function(p,m,w){var v=at(this.that).datum();o.call(p,this.that,new Xg(p,{sourceEvent:m,target:l,selection:t.output(this.state.selection),mode:w,dispatch:o}),v)}};function f(p){if(s&&!p.touches||!e.apply(this,arguments))return;var m=this,w=p.target.__data__.type,v=(i&&p.metaKey?w="overlay":w)==="selection"?ks:i&&p.altKey?Tn:kn,_=t===Mi?null:Bg[w],k=t===bi?null:Zg[w],M=ki(m),C=M.extent,I=M.selection,R=C[0][0],S,T,$=C[0][1],z,y,E=C[1][0],b,A,F=C[1][1],D,P,Y=0,L=0,J,X=_&&k&&i&&p.shiftKey,Z,j,V=Array.from(p.touches||[p],q=>{const Q=q.identifier;return q=wt(q,m),q.point0=q.slice(),q.identifier=Q,q});vn(m);var K=c(m,arguments,!0).beforestart();if(w==="overlay"){I&&(J=!0);const q=[V[0],V[1]||V[0]];M.selection=I=[[S=t===Mi?R:ut(q[0][0],q[1][0]),z=t===bi?$:ut(q[0][1],q[1][1])],[b=t===Mi?E:ot(q[0][0],q[1][0]),D=t===bi?F:ot(q[0][1],q[1][1])]],V.length>1&&G(p)}else S=I[0][0],z=I[0][1],b=I[1][0],D=I[1][1];T=S,y=z,A=b,P=D;var U=at(m).attr("pointer-events","none"),O=U.selectAll(".overlay").attr("cursor",Pt[w]);if(p.touches)K.moved=N,K.ended=B;else{var H=at(p.view).on("mousemove.brush",N,!0).on("mouseup.brush",B,!0);i&&H.on("keydown.brush",ht,!0).on("keyup.brush",gt,!0),di(p.view)}a.call(m),K.start(p,v.name);function N(q){for(const Q of q.changedTouches||[q])for(const ue of V)ue.identifier===Q.identifier&&(ue.cur=wt(Q,m));if(X&&!Z&&!j&&V.length===1){const Q=V[0];Ts(Q.cur[0]-Q[0])>Ts(Q.cur[1]-Q[1])?j=!0:Z=!0}for(const Q of V)Q.cur&&(Q[0]=Q.cur[0],Q[1]=Q.cur[1]);J=!0,wi(q),G(q)}function G(q){const Q=V[0],ue=Q.point0;var Ht;switch(Y=Q[0]-ue[0],L=Q[1]-ue[1],v){case vi:case ks:{_&&(Y=ot(R-S,ut(E-b,Y)),T=S+Y,A=b+Y),k&&(L=ot($-z,ut(F-D,L)),y=z+L,P=D+L);break}case kn:{V[1]?(_&&(T=ot(R,ut(E,V[0][0])),A=ot(R,ut(E,V[1][0])),_=1),k&&(y=ot($,ut(F,V[0][1])),P=ot($,ut(F,V[1][1])),k=1)):(_<0?(Y=ot(R-S,ut(E-S,Y)),T=S+Y,A=b):_>0&&(Y=ot(R-b,ut(E-b,Y)),T=S,A=b+Y),k<0?(L=ot($-z,ut(F-z,L)),y=z+L,P=D):k>0&&(L=ot($-D,ut(F-D,L)),y=z,P=D+L));break}case Tn:{_&&(T=ot(R,ut(E,S-Y*_)),A=ot(R,ut(E,b+Y*_))),k&&(y=ot($,ut(F,z-L*k)),P=ot($,ut(F,D+L*k)));break}}A<T&&(_*=-1,Ht=S,S=b,b=Ht,Ht=T,T=A,A=Ht,w in As&&O.attr("cursor",Pt[w=As[w]])),P<y&&(k*=-1,Ht=z,z=D,D=Ht,Ht=y,y=P,P=Ht,w in Ss&&O.attr("cursor",Pt[w=Ss[w]])),M.selection&&(I=M.selection),Z&&(T=I[0][0],A=I[1][0]),j&&(y=I[0][1],P=I[1][1]),(I[0][0]!==T||I[0][1]!==y||I[1][0]!==A||I[1][1]!==P)&&(M.selection=[[T,y],[A,P]],a.call(m),K.brush(q,v.name))}function B(q){if(Wg(q),q.touches){if(q.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else mi(q.view,J),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),O.attr("cursor",Pt.overlay),M.selection&&(I=M.selection),Jg(I)&&(M.selection=null,a.call(m)),K.end(q,v.name)}function ht(q){switch(q.keyCode){case 16:{X=_&&k;break}case 18:{v===kn&&(_&&(b=A-Y*_,S=T+Y*_),k&&(D=P-L*k,z=y+L*k),v=Tn,G(q));break}case 32:{(v===kn||v===Tn)&&(_<0?b=A-Y:_>0&&(S=T-Y),k<0?D=P-L:k>0&&(z=y-L),v=vi,O.attr("cursor",Pt.selection),G(q));break}default:return}wi(q)}function gt(q){switch(q.keyCode){case 16:{X&&(Z=j=X=!1,G(q));break}case 18:{v===Tn&&(_<0?b=A:_>0&&(S=T),k<0?D=P:k>0&&(z=y),v=kn,G(q));break}case 32:{v===vi&&(q.altKey?(_&&(b=A-Y*_,S=T+Y*_),k&&(D=P-L*k,z=y+L*k),v=Tn):(_<0?b=A:_>0&&(S=T),k<0?D=P:k>0&&(z=y),v=kn),O.attr("cursor",Pt[w]),G(q));break}default:return}wi(q)}}function g(p){c(this,arguments).moved(p)}function d(p){c(this,arguments).ended(p)}function x(){var p=this.__brush||{selection:null};return p.extent=xi(n.apply(this,arguments)),p.dim=t,p}return l.extent=function(p){return arguments.length?(n=typeof p=="function"?p:_i(xi(p)),l):n},l.filter=function(p){return arguments.length?(e=typeof p=="function"?p:_i(!!p),l):e},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:_i(!!p),l):r},l.handleSize=function(p){return arguments.length?(u=+p,l):u},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=o.on.apply(o,arguments);return p===o?l:p},l}var Ze=t=>()=>t;function np(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ft(t,n,e){this.k=t,this.x=n,this.y=e}Ft.prototype={constructor:Ft,scale:function(t){return t===1?this:new Ft(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ft(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ge=new Ft(1,0,0);Cs.prototype=Ft.prototype;function Cs(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ge;return t.__zoom}function Ti(t){t.stopImmediatePropagation()}function Jn(t){t.preventDefault(),t.stopImmediatePropagation()}function ep(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rp(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Es(){return this.__zoom||Ge}function ip(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function op(){return navigator.maxTouchPoints||"ontouchstart"in this}function up(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function sp(){var t=ep,n=rp,e=up,r=ip,i=op,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Oo,a=Xn("start","zoom","end"),c,h,f,g=500,d=150,x=0,p=10;function m(y){y.property("__zoom",Es).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",S).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(y,E,b,A){var F=y.selection?y.selection():y;F.property("__zoom",Es),y!==F?k(y,E,b,A):F.interrupt().each(function(){M(this,arguments).event(A).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},m.scaleBy=function(y,E,b,A){m.scaleTo(y,function(){var F=this.__zoom.k,D=typeof E=="function"?E.apply(this,arguments):E;return F*D},b,A)},m.scaleTo=function(y,E,b,A){m.transform(y,function(){var F=n.apply(this,arguments),D=this.__zoom,P=b==null?_(F):typeof b=="function"?b.apply(this,arguments):b,Y=D.invert(P),L=typeof E=="function"?E.apply(this,arguments):E;return e(v(w(D,L),P,Y),F,u)},b,A)},m.translateBy=function(y,E,b,A){m.transform(y,function(){return e(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof b=="function"?b.apply(this,arguments):b),n.apply(this,arguments),u)},null,A)},m.translateTo=function(y,E,b,A,F){m.transform(y,function(){var D=n.apply(this,arguments),P=this.__zoom,Y=A==null?_(D):typeof A=="function"?A.apply(this,arguments):A;return e(Ge.translate(Y[0],Y[1]).scale(P.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof b=="function"?-b.apply(this,arguments):-b),D,u)},A,F)};function w(y,E){return E=Math.max(o[0],Math.min(o[1],E)),E===y.k?y:new Ft(E,y.x,y.y)}function v(y,E,b){var A=E[0]-b[0]*y.k,F=E[1]-b[1]*y.k;return A===y.x&&F===y.y?y:new Ft(y.k,A,F)}function _(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function k(y,E,b,A){y.on("start.zoom",function(){M(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(A).end()}).tween("zoom",function(){var F=this,D=arguments,P=M(F,D).event(A),Y=n.apply(F,D),L=b==null?_(Y):typeof b=="function"?b.apply(F,D):b,J=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),X=F.__zoom,Z=typeof E=="function"?E.apply(F,D):E,j=l(X.invert(L).concat(J/X.k),Z.invert(L).concat(J/Z.k));return function(V){if(V===1)V=Z;else{var K=j(V),U=J/K[2];V=new Ft(U,L[0]-K[0]*U,L[1]-K[1]*U)}P.zoom(null,V)}})}function M(y,E,b){return!b&&y.__zooming||new C(y,E)}function C(y,E){this.that=y,this.args=E,this.active=0,this.sourceEvent=null,this.extent=n.apply(y,E),this.taps=0}C.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,E){return this.mouse&&y!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var E=at(this.that).datum();a.call(y,this.that,new np(y,{sourceEvent:this.sourceEvent,target:m,type:y,transform:this.that.__zoom,dispatch:a}),E)}};function I(y,...E){if(!t.apply(this,arguments))return;var b=M(this,E).event(y),A=this.__zoom,F=Math.max(o[0],Math.min(o[1],A.k*Math.pow(2,r.apply(this,arguments)))),D=wt(y);if(b.wheel)(b.mouse[0][0]!==D[0]||b.mouse[0][1]!==D[1])&&(b.mouse[1]=A.invert(b.mouse[0]=D)),clearTimeout(b.wheel);else{if(A.k===F)return;b.mouse=[D,A.invert(D)],vn(this),b.start()}Jn(y),b.wheel=setTimeout(P,d),b.zoom("mouse",e(v(w(A,F),b.mouse[0],b.mouse[1]),b.extent,u));function P(){b.wheel=null,b.end()}}function R(y,...E){if(f||!t.apply(this,arguments))return;var b=y.currentTarget,A=M(this,E,!0).event(y),F=at(y.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",J,!0),D=wt(y,b),P=y.clientX,Y=y.clientY;di(y.view),Ti(y),A.mouse=[D,this.__zoom.invert(D)],vn(this),A.start();function L(X){if(Jn(X),!A.moved){var Z=X.clientX-P,j=X.clientY-Y;A.moved=Z*Z+j*j>x}A.event(X).zoom("mouse",e(v(A.that.__zoom,A.mouse[0]=wt(X,b),A.mouse[1]),A.extent,u))}function J(X){F.on("mousemove.zoom mouseup.zoom",null),mi(X.view,A.moved),Jn(X),A.event(X).end()}}function S(y,...E){if(!!t.apply(this,arguments)){var b=this.__zoom,A=wt(y.changedTouches?y.changedTouches[0]:y,this),F=b.invert(A),D=b.k*(y.shiftKey?.5:2),P=e(v(w(b,D),A,F),n.apply(this,E),u);Jn(y),s>0?at(this).transition().duration(s).call(k,P,A,y):at(this).call(m.transform,P,A,y)}}function T(y,...E){if(!!t.apply(this,arguments)){var b=y.touches,A=b.length,F=M(this,E,y.changedTouches.length===A).event(y),D,P,Y,L;for(Ti(y),P=0;P<A;++P)Y=b[P],L=wt(Y,this),L=[L,this.__zoom.invert(L),Y.identifier],F.touch0?!F.touch1&&F.touch0[2]!==L[2]&&(F.touch1=L,F.taps=0):(F.touch0=L,D=!0,F.taps=1+!!c);c&&(c=clearTimeout(c)),D&&(F.taps<2&&(h=L[0],c=setTimeout(function(){c=null},g)),vn(this),F.start())}}function $(y,...E){if(!!this.__zooming){var b=M(this,E).event(y),A=y.changedTouches,F=A.length,D,P,Y,L;for(Jn(y),D=0;D<F;++D)P=A[D],Y=wt(P,this),b.touch0&&b.touch0[2]===P.identifier?b.touch0[0]=Y:b.touch1&&b.touch1[2]===P.identifier&&(b.touch1[0]=Y);if(P=b.that.__zoom,b.touch1){var J=b.touch0[0],X=b.touch0[1],Z=b.touch1[0],j=b.touch1[1],V=(V=Z[0]-J[0])*V+(V=Z[1]-J[1])*V,K=(K=j[0]-X[0])*K+(K=j[1]-X[1])*K;P=w(P,Math.sqrt(V/K)),Y=[(J[0]+Z[0])/2,(J[1]+Z[1])/2],L=[(X[0]+j[0])/2,(X[1]+j[1])/2]}else if(b.touch0)Y=b.touch0[0],L=b.touch0[1];else return;b.zoom("touch",e(v(P,Y,L),b.extent,u))}}function z(y,...E){if(!!this.__zooming){var b=M(this,E).event(y),A=y.changedTouches,F=A.length,D,P;for(Ti(y),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),D=0;D<F;++D)P=A[D],b.touch0&&b.touch0[2]===P.identifier?delete b.touch0:b.touch1&&b.touch1[2]===P.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(P=wt(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<p)){var Y=at(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return m.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Ze(+y),m):r},m.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Ze(!!y),m):t},m.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Ze(!!y),m):i},m.extent=function(y){return arguments.length?(n=typeof y=="function"?y:Ze([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),m):n},m.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],m):[o[0],o[1]]},m.translateExtent=function(y){return arguments.length?(u[0][0]=+y[0][0],u[1][0]=+y[1][0],u[0][1]=+y[0][1],u[1][1]=+y[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(y){return arguments.length?(e=y,m):e},m.duration=function(y){return arguments.length?(s=+y,m):s},m.interpolate=function(y){return arguments.length?(l=y,m):l},m.on=function(){var y=a.on.apply(a,arguments);return y===a?m:y},m.clickDistance=function(y){return arguments.length?(x=(y=+y)*y,m):Math.sqrt(x)},m.tapDistance=function(y){return arguments.length?(p=+y,m):p},m}var $s=Math.random,ap=function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return n()*i+r}}return e.source=t,e}($s),lp=function t(n){function e(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(n()*i+r)}}return e.source=t,e}($s);const cp=1664525,fp=1013904223,zs=1/4294967296;function hp(t=Math.random()){let n=(0<=t&&t<1?t/zs:Math.abs(t))|0;return()=>(n=cp*n+fp|0,zs*(n>>>0))}var gp=Array.prototype,pp=gp.slice;function dp(t,n){return t-n}function mp(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}var Ds=t=>()=>t;function yp(t,n){for(var e=-1,r=n.length,i;++e<r;)if(i=_p(t,n[e]))return i;return 0}function _p(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,s=u-1;o<u;s=o++){var l=t[o],a=l[0],c=l[1],h=t[s],f=h[0],g=h[1];if(wp(l,h,n))return 0;c>r!=g>r&&e<(f-a)*(r-c)/(g-c)+a&&(i=-i)}return i}function wp(t,n,e){var r;return vp(t,n,e)&&xp(t[r=+(t[0]===n[0])],e[r],n[r])}function vp(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function xp(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function bp(){}var Rt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Mp(){var t=1,n=1,e=oo,r=l;function i(a){var c=e(a);if(Array.isArray(c))c=c.slice().sort(dp);else{const h=Sn(a),f=ce(h[0],h[1],c);c=Cn(Math.floor(h[0]/f)*f,Math.floor(h[1]/f-1)*f,c)}return c.map(h=>o(a,h))}function o(a,c){var h=[],f=[];return u(a,c,function(g){r(g,a,c),mp(g)>0?h.push([g]):f.push(g)}),f.forEach(function(g){for(var d=0,x=h.length,p;d<x;++d)if(yp((p=h[d])[0],g)!==-1){p.push(g);return}}),{type:"MultiPolygon",value:c,coordinates:h}}function u(a,c,h){var f=new Array,g=new Array,d,x,p,m,w,v;for(d=x=-1,m=a[0]>=c,Rt[m<<1].forEach(_);++d<t-1;)p=m,m=a[d+1]>=c,Rt[p|m<<1].forEach(_);for(Rt[m<<0].forEach(_);++x<n-1;){for(d=-1,m=a[x*t+t]>=c,w=a[x*t]>=c,Rt[m<<1|w<<2].forEach(_);++d<t-1;)p=m,m=a[x*t+t+d+1]>=c,v=w,w=a[x*t+d+1]>=c,Rt[p|m<<1|w<<2|v<<3].forEach(_);Rt[m|w<<3].forEach(_)}for(d=-1,w=a[x*t]>=c,Rt[w<<2].forEach(_);++d<t-1;)v=w,w=a[x*t+d+1]>=c,Rt[w<<2|v<<3].forEach(_);Rt[w<<3].forEach(_);function _(k){var M=[k[0][0]+d,k[0][1]+x],C=[k[1][0]+d,k[1][1]+x],I=s(M),R=s(C),S,T;(S=g[I])?(T=f[R])?(delete g[S.end],delete f[T.start],S===T?(S.ring.push(C),h(S.ring)):f[S.start]=g[T.end]={start:S.start,end:T.end,ring:S.ring.concat(T.ring)}):(delete g[S.end],S.ring.push(C),g[S.end=R]=S):(S=f[R])?(T=g[I])?(delete f[S.start],delete g[T.end],S===T?(S.ring.push(C),h(S.ring)):f[T.start]=g[S.end]={start:T.start,end:S.end,ring:T.ring.concat(S.ring)}):(delete f[S.start],S.ring.unshift(M),f[S.start=I]=S):f[I]=g[R]={start:I,end:R,ring:[M,C]}}}function s(a){return a[0]*2+a[1]*(t+1)*4}function l(a,c,h){a.forEach(function(f){var g=f[0],d=f[1],x=g|0,p=d|0,m,w=c[p*t+x];g>0&&g<t&&x===g&&(m=c[p*t+x-1],f[0]=g+(h-m)/(w-m)-.5),d>0&&d<n&&p===d&&(m=c[(p-1)*t+x],f[1]=d+(h-m)/(w-m)-.5)})}return i.contour=o,i.size=function(a){if(!arguments.length)return[t,n];var c=Math.floor(a[0]),h=Math.floor(a[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,n=h,i},i.thresholds=function(a){return arguments.length?(e=typeof a=="function"?a:Array.isArray(a)?Ds(pp.call(a)):Ds(a),i):e},i.smooth=function(a){return arguments.length?(r=a?l:bp,i):r===l},i}var kp=Math.PI,Tp=kp*2,Np=Math.abs,Ni=Math.sqrt;function Mt(){}function Qe(t,n){t&&Is.hasOwnProperty(t.type)&&Is[t.type](t,n)}var Us={Feature:function(t,n){Qe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Qe(e[r].geometry,n)}},Is={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ai(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ai(e[r],n,0)},Polygon:function(t,n){Ps(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ps(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Qe(e[r],n)}};function Ai(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Ps(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ai(t[e],n,1);n.polygonEnd()}function jn(t,n){t&&Us.hasOwnProperty(t.type)?Us[t.type](t,n):Qe(t,n)}var Ap=t=>t,Si=new an,Ci=new an,Fs,Rs,Ei,$i,Ot={point:Mt,lineStart:Mt,lineEnd:Mt,polygonStart:function(){Ot.lineStart=Sp,Ot.lineEnd=Ep},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=Mt,Si.add(Np(Ci)),Ci=new an},result:function(){var t=Si/2;return Si=new an,t}};function Sp(){Ot.point=Cp}function Cp(t,n){Ot.point=Ys,Fs=Ei=t,Rs=$i=n}function Ys(t,n){Ci.add($i*t-Ei*n),Ei=t,$i=n}function Ep(){Ys(Fs,Rs)}var qs=Ot,Nn=1/0,Ke=Nn,te=-Nn,Je=te,$p={point:zp,lineStart:Mt,lineEnd:Mt,polygonStart:Mt,polygonEnd:Mt,result:function(){var t=[[Nn,Ke],[te,Je]];return te=Je=-(Ke=Nn=1/0),t}};function zp(t,n){t<Nn&&(Nn=t),t>te&&(te=t),n<Ke&&(Ke=n),n>Je&&(Je=n)}var Ls=$p,zi=0,Di=0,ne=0,je=0,tr=0,An=0,Ui=0,Ii=0,ee=0,Os,Hs,Et,$t,kt={point:rn,lineStart:Xs,lineEnd:Ws,polygonStart:function(){kt.lineStart=Ip,kt.lineEnd=Pp},polygonEnd:function(){kt.point=rn,kt.lineStart=Xs,kt.lineEnd=Ws},result:function(){var t=ee?[Ui/ee,Ii/ee]:An?[je/An,tr/An]:ne?[zi/ne,Di/ne]:[NaN,NaN];return zi=Di=ne=je=tr=An=Ui=Ii=ee=0,t}};function rn(t,n){zi+=t,Di+=n,++ne}function Xs(){kt.point=Dp}function Dp(t,n){kt.point=Up,rn(Et=t,$t=n)}function Up(t,n){var e=t-Et,r=n-$t,i=Ni(e*e+r*r);je+=i*(Et+t)/2,tr+=i*($t+n)/2,An+=i,rn(Et=t,$t=n)}function Ws(){kt.point=rn}function Ip(){kt.point=Fp}function Pp(){Vs(Os,Hs)}function Fp(t,n){kt.point=Vs,rn(Os=Et=t,Hs=$t=n)}function Vs(t,n){var e=t-Et,r=n-$t,i=Ni(e*e+r*r);je+=i*(Et+t)/2,tr+=i*($t+n)/2,An+=i,i=$t*t-Et*n,Ui+=i*(Et+t),Ii+=i*($t+n),ee+=i*3,rn(Et=t,$t=n)}var Bs=kt;function Zs(t){this._context=t}Zs.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Tp);break}}},result:Mt};var Pi=new an,Fi,Gs,Qs,re,ie,nr={point:Mt,lineStart:function(){nr.point=Rp},lineEnd:function(){Fi&&Ks(Gs,Qs),nr.point=Mt},polygonStart:function(){Fi=!0},polygonEnd:function(){Fi=null},result:function(){var t=+Pi;return Pi=new an,t}};function Rp(t,n){nr.point=Ks,Gs=re=t,Qs=ie=n}function Ks(t,n){re-=t,ie-=n,Pi.add(Ni(re*re+ie*ie)),re=t,ie=n}var Js=nr;function js(){this._string=[]}js.prototype={_radius:4.5,_circle:ta(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._string.push("M",t,",",n),this._point=1;break}case 1:{this._string.push("L",t,",",n);break}default:{this._circle==null&&(this._circle=ta(this._radius)),this._string.push("M",t,",",n,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function ta(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Yp(t,n){var e=4.5,r,i;function o(u){return u&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),jn(u,r(i))),i.result()}return o.area=function(u){return jn(u,r(qs)),qs.result()},o.measure=function(u){return jn(u,r(Js)),Js.result()},o.bounds=function(u){return jn(u,r(Ls)),Ls.result()},o.centroid=function(u){return jn(u,r(Bs)),Bs.result()},o.projection=function(u){return arguments.length?(r=u==null?(t=null,Ap):(t=u).stream,o):t},o.context=function(u){return arguments.length?(i=u==null?(n=null,new js):new Zs(n=u),typeof e!="function"&&i.pointRadius(e),o):n},o.pointRadius=function(u){return arguments.length?(e=typeof u=="function"?u:(i.pointRadius(+u),+u),o):e},o.projection(t).context(n)}function qp(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return na(this.cover(n,e),n,e,t)}function na(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o=t._root,u={data:r},s=t._x0,l=t._y0,a=t._x1,c=t._y1,h,f,g,d,x,p,m,w;if(!o)return t._root=u,t;for(;o.length;)if((x=n>=(h=(s+a)/2))?s=h:a=h,(p=e>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[m=p<<1|x]))return i[m]=u,t;if(g=+t._x.call(null,o.data),d=+t._y.call(null,o.data),n===g&&e===d)return u.next=o,i?i[m]=u:t._root=u,t;do i=i?i[m]=new Array(4):t._root=new Array(4),(x=n>=(h=(s+a)/2))?s=h:a=h,(p=e>=(f=(l+c)/2))?l=f:c=f;while((m=p<<1|x)===(w=(d>=f)<<1|g>=h));return i[w]=o,i[m]=u,t}function Lp(t){var n,e,r=t.length,i,o,u=new Array(r),s=new Array(r),l=1/0,a=1/0,c=-1/0,h=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(u[e]=i,s[e]=o,i<l&&(l=i),i>c&&(c=i),o<a&&(a=o),o>h&&(h=o));if(l>c||a>h)return this;for(this.cover(l,a).cover(c,h),e=0;e<r;++e)na(this,u[e],s[e],t[e]);return this}function Op(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u=i-e||1,s=this._root,l,a;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,l=new Array(4),l[a]=s,s=l,u*=2,a){case 0:i=e+u,o=r+u;break;case 1:e=i-u,o=r+u;break;case 2:i=e+u,r=o-u;break;case 3:e=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this}function Hp(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Xp(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function lt(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Wp(t,n,e){var r,i=this._x0,o=this._y0,u,s,l,a,c=this._x1,h=this._y1,f=[],g=this._root,d,x;for(g&&f.push(new lt(g,i,o,c,h)),e==null?e=1/0:(i=t-e,o=n-e,c=t+e,h=n+e,e*=e);d=f.pop();)if(!(!(g=d.node)||(u=d.x0)>c||(s=d.y0)>h||(l=d.x1)<i||(a=d.y1)<o))if(g.length){var p=(u+l)/2,m=(s+a)/2;f.push(new lt(g[3],p,m,l,a),new lt(g[2],u,m,p,a),new lt(g[1],p,s,l,m),new lt(g[0],u,s,p,m)),(x=(n>=m)<<1|t>=p)&&(d=f[f.length-1],f[f.length-1]=f[f.length-1-x],f[f.length-1-x]=d)}else{var w=t-+this._x.call(null,g.data),v=n-+this._y.call(null,g.data),_=w*w+v*v;if(_<e){var k=Math.sqrt(e=_);i=t-k,o=n-k,c=t+k,h=n+k,r=g.data}}return r}function Vp(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var n,e=this._root,r,i,o,u=this._x0,s=this._y0,l=this._x1,a=this._y1,c,h,f,g,d,x,p,m;if(!e)return this;if(e.length)for(;;){if((d=c>=(f=(u+l)/2))?u=f:l=f,(x=h>=(g=(s+a)/2))?s=g:a=g,n=e,!(e=e[p=x<<1|d]))return this;if(!e.length)break;(n[p+1&3]||n[p+2&3]||n[p+3&3])&&(r=n,m=p)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,i?(o?i.next=o:delete i.next,this):n?(o?n[p]=o:delete n[p],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[m]=e:this._root=e),this):(this._root=o,this)}function Bp(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Zp(){return this._root}function Gp(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function Qp(t){var n=[],e,r=this._root,i,o,u,s,l;for(r&&n.push(new lt(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,o=e.x0,u=e.y0,s=e.x1,l=e.y1)&&r.length){var a=(o+s)/2,c=(u+l)/2;(i=r[3])&&n.push(new lt(i,a,c,s,l)),(i=r[2])&&n.push(new lt(i,o,c,a,l)),(i=r[1])&&n.push(new lt(i,a,u,s,c)),(i=r[0])&&n.push(new lt(i,o,u,a,c))}return this}function Kp(t){var n=[],e=[],r;for(this._root&&n.push(new lt(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var o,u=r.x0,s=r.y0,l=r.x1,a=r.y1,c=(u+l)/2,h=(s+a)/2;(o=i[0])&&n.push(new lt(o,u,s,c,h)),(o=i[1])&&n.push(new lt(o,c,s,l,h)),(o=i[2])&&n.push(new lt(o,u,h,c,a)),(o=i[3])&&n.push(new lt(o,c,h,l,a))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Jp(t){return t[0]}function jp(t){return arguments.length?(this._x=t,this):this._x}function td(t){return t[1]}function nd(t){return arguments.length?(this._y=t,this):this._y}function ea(t,n,e){var r=new Ri(n==null?Jp:n,e==null?td:e,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Ri(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ra(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ct=ea.prototype=Ri.prototype;ct.copy=function(){var t=new Ri(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=ra(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=ra(r));return t},ct.add=qp,ct.addAll=Lp,ct.cover=Op,ct.data=Hp,ct.extent=Xp,ct.find=Wp,ct.remove=Vp,ct.removeAll=Bp,ct.root=Zp,ct.size=Gp,ct.visit=Qp,ct.visitAfter=Kp,ct.x=jp,ct.y=nd;const ed={scatterDotRadius:1,searchPanelWidth:356,topBarHeight:30,footerHeight:30,timeSliderWidth:400,zoomScale:[.5,1e3],defaultPointColor:[48/255,65/255,159/255],defaultPointColorInt:[48,65,159],secondPointColorInt:[194,24,92],timePointColorInt:[123,31,162],contourLevels:12,searchLimit:5e3},rd={colors:{"red-50":"hsl(350, 100.0%, 96.08%)","red-100":"hsl(354, 100.0%, 90.2%)","red-200":"hsl(0, 72.65%, 77.06%)","red-300":"hsl(0, 68.67%, 67.45%)","red-400":"hsl(1, 83.25%, 62.55%)","red-500":"hsl(4, 89.62%, 58.43%)","red-600":"hsl(1, 77.19%, 55.29%)","red-700":"hsl(0, 65.08%, 50.59%)","red-800":"hsl(0, 66.39%, 46.67%)","red-900":"hsl(0, 73.46%, 41.37%)","red-a100":"hsl(4, 100.0%, 75.1%)","red-a200":"hsl(0, 100.0%, 66.08%)","red-a400":"hsl(348, 100.0%, 54.51%)","red-a700":"hsl(0, 100.0%, 41.76%)","pink-50":"hsl(340, 80.0%, 94.12%)","pink-100":"hsl(339, 81.33%, 85.29%)","pink-200":"hsl(339, 82.11%, 75.88%)","pink-300":"hsl(339, 82.56%, 66.27%)","pink-400":"hsl(339, 81.9%, 58.82%)","pink-500":"hsl(339, 82.19%, 51.57%)","pink-600":"hsl(338, 77.78%, 47.65%)","pink-700":"hsl(336, 77.98%, 42.75%)","pink-800":"hsl(333, 79.27%, 37.84%)","pink-900":"hsl(328, 81.33%, 29.41%)","pink-a100":"hsl(339, 100.0%, 75.1%)","pink-a200":"hsl(339, 100.0%, 62.55%)","pink-a400":"hsl(338, 100.0%, 48.04%)","pink-a700":"hsl(333, 84.11%, 41.96%)","purple-50":"hsl(292, 44.44%, 92.94%)","purple-100":"hsl(291, 46.07%, 82.55%)","purple-200":"hsl(291, 46.94%, 71.18%)","purple-300":"hsl(291, 46.6%, 59.61%)","purple-400":"hsl(291, 46.61%, 50.78%)","purple-500":"hsl(291, 63.72%, 42.16%)","purple-600":"hsl(287, 65.05%, 40.39%)","purple-700":"hsl(282, 67.88%, 37.84%)","purple-800":"hsl(277, 70.17%, 35.49%)","purple-900":"hsl(267, 75.0%, 31.37%)","purple-a100":"hsl(291, 95.38%, 74.51%)","purple-a200":"hsl(291, 95.9%, 61.76%)","purple-a400":"hsl(291, 100.0%, 48.82%)","purple-a700":"hsl(280, 100.0%, 50.0%)","deep-purple-50":"hsl(264, 45.45%, 93.53%)","deep-purple-100":"hsl(261, 45.68%, 84.12%)","deep-purple-200":"hsl(261, 46.27%, 73.73%)","deep-purple-300":"hsl(261, 46.81%, 63.14%)","deep-purple-400":"hsl(261, 46.72%, 55.1%)","deep-purple-500":"hsl(261, 51.87%, 47.25%)","deep-purple-600":"hsl(259, 53.91%, 45.1%)","deep-purple-700":"hsl(257, 57.75%, 41.76%)","deep-purple-800":"hsl(254, 60.8%, 39.02%)","deep-purple-900":"hsl(251, 68.79%, 33.92%)","deep-purple-a100":"hsl(261, 100.0%, 76.67%)","deep-purple-a200":"hsl(255, 100.0%, 65.1%)","deep-purple-a400":"hsl(258, 100.0%, 56.08%)","deep-purple-a700":"hsl(265, 100.0%, 45.88%)","indigo-50":"hsl(231, 43.75%, 93.73%)","indigo-100":"hsl(231, 45.0%, 84.31%)","indigo-200":"hsl(230, 44.36%, 73.92%)","indigo-300":"hsl(230, 44.09%, 63.53%)","indigo-400":"hsl(230, 44.25%, 55.69%)","indigo-500":"hsl(230, 48.36%, 47.84%)","indigo-600":"hsl(231, 50.0%, 44.71%)","indigo-700":"hsl(231, 53.62%, 40.59%)","indigo-800":"hsl(232, 57.22%, 36.67%)","indigo-900":"hsl(234, 65.79%, 29.8%)","indigo-a100":"hsl(230, 100.0%, 77.45%)","indigo-a200":"hsl(230, 98.84%, 66.08%)","indigo-a400":"hsl(230, 98.97%, 61.76%)","indigo-a700":"hsl(230, 99.04%, 59.22%)","blue-50":"hsl(205, 86.67%, 94.12%)","blue-100":"hsl(207, 88.89%, 85.88%)","blue-200":"hsl(206, 89.74%, 77.06%)","blue-300":"hsl(206, 89.02%, 67.84%)","blue-400":"hsl(206, 89.95%, 60.98%)","blue-500":"hsl(206, 89.74%, 54.12%)","blue-600":"hsl(208, 79.28%, 50.78%)","blue-700":"hsl(209, 78.72%, 46.08%)","blue-800":"hsl(211, 80.28%, 41.76%)","blue-900":"hsl(216, 85.06%, 34.12%)","blue-a100":"hsl(217, 100.0%, 75.49%)","blue-a200":"hsl(217, 100.0%, 63.33%)","blue-a400":"hsl(217, 100.0%, 58.04%)","blue-a700":"hsl(224, 100.0%, 58.04%)","light-blue-50":"hsl(198, 93.55%, 93.92%)","light-blue-100":"hsl(198, 92.41%, 84.51%)","light-blue-200":"hsl(198, 92.37%, 74.31%)","light-blue-300":"hsl(198, 91.3%, 63.92%)","light-blue-400":"hsl(198, 91.93%, 56.27%)","light-blue-500":"hsl(198, 97.57%, 48.43%)","light-blue-600":"hsl(199, 97.41%, 45.49%)","light-blue-700":"hsl(201, 98.1%, 41.37%)","light-blue-800":"hsl(202, 97.91%, 37.45%)","light-blue-900":"hsl(206, 98.72%, 30.59%)","light-blue-a100":"hsl(198, 100.0%, 75.1%)","light-blue-a200":"hsl(198, 100.0%, 62.55%)","light-blue-a400":"hsl(198, 100.0%, 50.0%)","light-blue-a700":"hsl(202, 100.0%, 45.88%)","cyan-50":"hsl(186, 72.22%, 92.94%)","cyan-100":"hsl(186, 71.11%, 82.35%)","cyan-200":"hsl(186, 71.62%, 70.98%)","cyan-300":"hsl(186, 71.15%, 59.22%)","cyan-400":"hsl(186, 70.87%, 50.2%)","cyan-500":"hsl(186, 100.0%, 41.57%)","cyan-600":"hsl(186, 100.0%, 37.84%)","cyan-700":"hsl(185, 100.0%, 32.75%)","cyan-800":"hsl(185, 100.0%, 28.04%)","cyan-900":"hsl(182, 100.0%, 19.61%)","cyan-a100":"hsl(180, 100.0%, 75.88%)","cyan-a200":"hsl(180, 100.0%, 54.71%)","cyan-a400":"hsl(186, 100.0%, 50.0%)","cyan-a700":"hsl(187, 100.0%, 41.57%)","teal-50":"hsl(176, 40.91%, 91.37%)","teal-100":"hsl(174, 41.28%, 78.63%)","teal-200":"hsl(174, 41.9%, 64.9%)","teal-300":"hsl(174, 41.83%, 50.78%)","teal-400":"hsl(174, 62.75%, 40.0%)","teal-500":"hsl(174, 100.0%, 29.41%)","teal-600":"hsl(173, 100.0%, 26.86%)","teal-700":"hsl(173, 100.0%, 23.73%)","teal-800":"hsl(172, 100.0%, 20.59%)","teal-900":"hsl(169, 100.0%, 15.1%)","teal-a100":"hsl(166, 100.0%, 82.75%)","teal-a200":"hsl(165, 100.0%, 69.61%)","teal-a400":"hsl(165, 82.26%, 51.37%)","teal-a700":"hsl(171, 100.0%, 37.45%)","green-50":"hsl(124, 39.39%, 93.53%)","green-100":"hsl(121, 37.5%, 84.31%)","green-200":"hsl(122, 37.4%, 74.31%)","green-300":"hsl(122, 38.46%, 64.31%)","green-400":"hsl(122, 38.46%, 56.67%)","green-500":"hsl(122, 39.44%, 49.22%)","green-600":"hsl(122, 40.97%, 44.51%)","green-700":"hsl(122, 43.43%, 38.82%)","green-800":"hsl(123, 46.2%, 33.53%)","green-900":"hsl(124, 55.37%, 23.73%)","green-a100":"hsl(136, 77.22%, 84.51%)","green-a200":"hsl(150, 81.82%, 67.65%)","green-a400":"hsl(150, 100.0%, 45.1%)","green-a700":"hsl(144, 100.0%, 39.22%)","light-green-50":"hsl(88, 51.72%, 94.31%)","light-green-100":"hsl(87, 50.68%, 85.69%)","light-green-200":"hsl(88, 50.0%, 76.47%)","light-green-300":"hsl(87, 50.0%, 67.06%)","light-green-400":"hsl(87, 50.24%, 59.8%)","light-green-500":"hsl(87, 50.21%, 52.75%)","light-green-600":"hsl(89, 46.12%, 48.04%)","light-green-700":"hsl(92, 47.91%, 42.16%)","light-green-800":"hsl(95, 49.46%, 36.47%)","light-green-900":"hsl(103, 55.56%, 26.47%)","light-green-a100":"hsl(87, 100.0%, 78.24%)","light-green-a200":"hsl(87, 100.0%, 67.45%)","light-green-a400":"hsl(92, 100.0%, 50.59%)","light-green-a700":"hsl(96, 81.15%, 47.84%)","lime-50":"hsl(65, 71.43%, 94.51%)","lime-100":"hsl(64, 69.01%, 86.08%)","lime-200":"hsl(65, 70.69%, 77.25%)","lime-300":"hsl(65, 70.37%, 68.24%)","lime-400":"hsl(65, 69.7%, 61.18%)","lime-500":"hsl(65, 69.96%, 54.31%)","lime-600":"hsl(63, 59.68%, 49.61%)","lime-700":"hsl(62, 61.43%, 43.73%)","lime-800":"hsl(59, 62.89%, 38.04%)","lime-900":"hsl(53, 69.93%, 30.0%)","lime-a100":"hsl(65, 100.0%, 75.29%)","lime-a200":"hsl(65, 100.0%, 62.75%)","lime-a400":"hsl(73, 100.0%, 50.0%)","lime-a700":"hsl(75, 100.0%, 45.88%)","yellow-50":"hsl(55, 100.0%, 95.29%)","yellow-100":"hsl(53, 100.0%, 88.43%)","yellow-200":"hsl(53, 100.0%, 80.78%)","yellow-300":"hsl(53, 100.0%, 73.14%)","yellow-400":"hsl(53, 100.0%, 67.25%)","yellow-500":"hsl(53, 100.0%, 61.57%)","yellow-600":"hsl(48, 98.04%, 60.0%)","yellow-700":"hsl(42, 96.26%, 58.04%)","yellow-800":"hsl(37, 94.64%, 56.08%)","yellow-900":"hsl(28, 91.74%, 52.55%)","yellow-a100":"hsl(60, 100.0%, 77.65%)","yellow-a200":"hsl(60, 100.0%, 50.0%)","yellow-a400":"hsl(55, 100.0%, 50.0%)","yellow-a700":"hsl(50, 100.0%, 50.0%)","amber-50":"hsl(46, 100.0%, 94.12%)","amber-100":"hsl(45, 100.0%, 85.1%)","amber-200":"hsl(45, 100.0%, 75.49%)","amber-300":"hsl(45, 100.0%, 65.49%)","amber-400":"hsl(45, 100.0%, 57.84%)","amber-500":"hsl(45, 100.0%, 51.37%)","amber-600":"hsl(42, 100.0%, 50.0%)","amber-700":"hsl(37, 100.0%, 50.0%)","amber-800":"hsl(33, 100.0%, 50.0%)","amber-900":"hsl(26, 100.0%, 50.0%)","amber-a100":"hsl(47, 100.0%, 74.9%)","amber-a200":"hsl(47, 100.0%, 62.55%)","amber-a400":"hsl(46, 100.0%, 50.0%)","amber-a700":"hsl(40, 100.0%, 50.0%)","orange-50":"hsl(36, 100.0%, 93.92%)","orange-100":"hsl(35, 100.0%, 84.9%)","orange-200":"hsl(35, 100.0%, 75.1%)","orange-300":"hsl(35, 100.0%, 65.1%)","orange-400":"hsl(35, 100.0%, 57.45%)","orange-500":"hsl(35, 100.0%, 50.0%)","orange-600":"hsl(33, 100.0%, 49.22%)","orange-700":"hsl(30, 100.0%, 48.04%)","orange-800":"hsl(27, 100.0%, 46.86%)","orange-900":"hsl(21, 100.0%, 45.1%)","orange-a100":"hsl(38, 100.0%, 75.1%)","orange-a200":"hsl(33, 100.0%, 62.55%)","orange-a400":"hsl(34, 100.0%, 50.0%)","orange-a700":"hsl(25, 100.0%, 50.0%)","deep-orange-50":"hsl(5, 71.43%, 94.51%)","deep-orange-100":"hsl(14, 100.0%, 86.86%)","deep-orange-200":"hsl(14, 100.0%, 78.43%)","deep-orange-300":"hsl(14, 100.0%, 69.8%)","deep-orange-400":"hsl(14, 100.0%, 63.14%)","deep-orange-500":"hsl(14, 100.0%, 56.67%)","deep-orange-600":"hsl(14, 90.68%, 53.73%)","deep-orange-700":"hsl(14, 80.39%, 50.0%)","deep-orange-800":"hsl(14, 82.28%, 46.47%)","deep-orange-900":"hsl(14, 88.18%, 39.8%)","deep-orange-a100":"hsl(14, 100.0%, 75.1%)","deep-orange-a200":"hsl(14, 100.0%, 62.55%)","deep-orange-a400":"hsl(14, 100.0%, 50.0%)","deep-orange-a700":"hsl(11, 100.0%, 43.33%)","brown-50":"hsl(19, 15.79%, 92.55%)","brown-100":"hsl(16, 15.79%, 81.37%)","brown-200":"hsl(14, 15.19%, 69.02%)","brown-300":"hsl(15, 15.32%, 56.47%)","brown-400":"hsl(15, 17.5%, 47.06%)","brown-500":"hsl(15, 25.39%, 37.84%)","brown-600":"hsl(15, 25.29%, 34.12%)","brown-700":"hsl(14, 25.68%, 29.02%)","brown-800":"hsl(11, 25.81%, 24.31%)","brown-900":"hsl(8, 27.84%, 19.02%)","gray-50":"hsl(0, 0.0%, 98.04%)","gray-100":"hsl(0, 0.0%, 96.08%)","gray-200":"hsl(0, 0.0%, 93.33%)","gray-300":"hsl(0, 0.0%, 87.84%)","gray-400":"hsl(0, 0.0%, 74.12%)","gray-500":"hsl(0, 0.0%, 61.96%)","gray-600":"hsl(0, 0.0%, 45.88%)","gray-700":"hsl(0, 0.0%, 38.04%)","gray-800":"hsl(0, 0.0%, 25.88%)","gray-900":"hsl(0, 0.0%, 12.94%)","blue-gray-50":"hsl(204, 15.15%, 93.53%)","blue-gray-100":"hsl(198, 15.66%, 83.73%)","blue-gray-200":"hsl(199, 15.33%, 73.14%)","blue-gray-300":"hsl(199, 15.63%, 62.35%)","blue-gray-400":"hsl(200, 15.38%, 54.12%)","blue-gray-500":"hsl(199, 18.3%, 46.08%)","blue-gray-600":"hsl(198, 18.45%, 40.39%)","blue-gray-700":"hsl(199, 18.34%, 33.14%)","blue-gray-800":"hsl(199, 17.91%, 26.27%)","blue-gray-900":"hsl(199, 19.15%, 18.43%)","blue-gray-1000":"hsl(199, 20.93%, 8.43%)"},layout:ed,time:{mouseenterDelay:300},debug:!0,gridColorLight:"hsl(0, 0%, 100%)",gridColorDark:"hsl(0, 0%, 30%)"};function Yi(t,n){return typeof t>"u"?n:t}function ia(t){const n=Array(t);for(let e=0;e<t;e++)n[e]=dt();return n}function id(t){return Object.keys(t)}function dt(){return Object.create(null)}function od(t){return[].concat.apply([],t)}function ud(t,n){return n.length-t.length}function sd(t){return t.constructor===Array}function er(t){return typeof t=="string"}function qi(t){return typeof t=="object"}function ad(t){return typeof t=="function"}function ld(t,n,e,r){if(t&&(n&&(t=Li(t,n)),this.matcher&&(t=Li(t,this.matcher)),this.stemmer&&1<t.length&&(t=Li(t,this.stemmer)),r&&1<t.length&&(t=hd(t)),e||e==="")){const i=t.split(e);return this.filter?gd(i,this.filter):i}return t}const cd=/[\p{Z}\p{S}\p{P}\p{C}]+/u;function fd(t){const n=dt();for(let e=0,r=t.length;e<r;e++)n[t[e]]=1;return n}function oa(t,n){const e=id(t),r=e.length,i=[];let o="",u=0;for(let s,l,a=0;a<r;a++)s=e[a],l=t[s],l?(i[u++]=ua(n?"(?!\\b)"+s+"(\\b|_)":s),i[u++]=l):o+=(o?"|":"")+s;return o&&(i[u++]=ua(n?"(?!\\b)("+o+")(\\b|_)":"("+o+")"),i[u]=""),i}function Li(t,n){for(let e=0,r=n.length;e<r&&(t=t.replace(n[e],n[e+1]),!!t);e+=2);return t}function ua(t){return new RegExp(t,"g")}function hd(t){let n="",e="";for(let r,i=0,o=t.length;i<o;i++)(r=t[i])!==e&&(n+=e=r);return n}function gd(t,n){const e=t.length,r=[];for(let i=0,o=0;i<e;i++){const u=t[i];u&&!n[u]&&(r[o++]=u)}return r}function pd(t){return ld.call(this,(""+t).toLowerCase(),!1,cd,!1)}const dd={},md={};function yd(t){oe(t,"add"),oe(t,"append"),oe(t,"search"),oe(t,"update"),oe(t,"remove")}function oe(t,n){t[n+"Async"]=function(){const e=this,r=arguments,i=r[r.length-1];let o;ad(i)&&(o=i,delete r[r.length-1]);const u=new Promise(function(s){setTimeout(function(){e.async=!0;const l=e[n].apply(e,r);e.async=!1,s(l)})});return o?(u.then(o),this):u}}function _d(t,n,e,r){const i=t.length;let o,u,s=[],l=0;r&&(r=[]);for(let a=i-1;0<=a;a--){const c=t[a],h=c.length,f=dt();let g=!o;for(let d=0;d<h;d++){const x=c[d],p=x.length;if(p)for(let m,w,v=0;v<p;v++)if(w=x[v],o){if(o[w]){if(!a){if(e)e--;else if(s[l++]=w,l===n)return s}(a||r)&&(f[w]=1),g=!0}if(r&&(m=(u[w]||0)+1,u[w]=m,m<i)){const _=r[m-2]||(r[m-2]=[]);_[_.length]=w}}else f[w]=1}if(r)o||(u=f);else if(!g)return[];o=f}if(r)for(let a,c,h=r.length-1;0<=h;h--){a=r[h],c=a.length;for(let f,g=0;g<c;g++)if(f=a[g],!o[f]){if(e)e--;else if(s[l++]=f,l===n)return s;o[f]=1}}return s}function rr(t){this.limit=t!==!0&&t,this.cache=dt(),this.queue=[]}function wd(t,n,e){qi(t)&&(t=t.query);let r=this.cache.get(t);return r||(r=this.search(t,n,e),this.cache.set(t,r)),r}rr.prototype.set=function(t,n){if(!this.cache[t]){let e=this.queue.length;e===this.limit?delete this.cache[this.queue[e-1]]:e++;for(let r=e-1;0<r;r--)this.queue[r]=this.queue[r-1];this.queue[0]=t}this.cache[t]=n},rr.prototype.get=function(t){const n=this.cache[t];if(this.limit&&n){const e=this.queue.indexOf(t);if(e){const r=this.queue[e-1];this.queue[e-1]=this.queue[e],this.queue[e]=r}}return n},rr.prototype.del=function(t){for(let n,e,r=0;r<this.queue.length;r++)e=this.queue[r],n=this.cache[e],n.includes(t)&&(this.queue.splice(r--,1),delete this.cache[e])};const vd={memory:{charset:"latin:extra",resolution:3,minlength:4,fastupdate:!1},performance:{resolution:3,minlength:3,optimize:!1,context:{depth:2,resolution:1}},match:{charset:"latin:extra",tokenize:"reverse"},score:{charset:"latin:advanced",resolution:20,minlength:3,context:{depth:3,resolution:9}},default:{}};function xd(t){if(er(t))t=vd[t];else{const n=t.preset;n&&(t=Object.assign({},n[n],t))}return t}function bd(t,n,e,r,i,o,u){setTimeout(function(){const s=t(e?e+"."+r:r,JSON.stringify(u));s&&s.then?s.then(function(){n.export(t,n,e,i,o+1)}):n.export(t,n,e,i,o+1)})}function Md(t,n,e,r,i){let o,u;switch(i||(i=0)){case 0:if(o="reg",this.fastupdate)for(let s in u=dt(),this.register)u[s]=1;else u=this.register;break;case 1:o="cfg",u={doc:0,opt:this.optimize?1:0};break;case 2:o="map",u=this.map;break;case 3:o="ctx",u=this.ctx;break;default:return}return bd(t,n||this,e,o,r,i,u),!0}function kd(t,n){n&&(er(n)&&(n=JSON.parse(n)),t==="cfg"?this.optimize=!!n.opt:t==="reg"?(this.fastupdate=!1,this.register=n):t==="map"?this.map=n:t==="ctx"&&(this.ctx=n))}function ft(t,n){if(!(this instanceof ft))return new ft(t);let e,r,i;t?(t=xd(t),e=t.charset,r=t.lang,er(e)&&(e.indexOf(":")===-1&&(e+=":default"),e=md[e]),er(r)&&(r=dd[r])):t={};let o,u,s=t.context||{};this.encode=t.encode||e&&e.encode||pd,this.register=n||dt(),this.resolution=o=t.resolution||9,this.tokenize=i=e&&e.tokenize||t.tokenize||"strict",this.depth=i==="strict"&&s.depth,this.bidirectional=Yi(s.bidirectional,!0),this.optimize=u=Yi(t.optimize,!0),this.fastupdate=Yi(t.fastupdate,!0),this.minlength=t.minlength||1,this.boost=t.boost,this.map=u?ia(o):dt(),this.resolution_ctx=o=s.resolution||1,this.ctx=u?ia(o):dt(),this.rtl=e&&e.rtl||t.rtl,this.matcher=(i=t.matcher||r&&r.matcher)&&oa(i,!1),this.stemmer=(i=t.stemmer||r&&r.stemmer)&&oa(i,!0),this.filter=(i=t.filter||r&&r.filter)&&fd(i),this.cache=(i=t.cache)&&new rr(i)}ft.prototype.append=function(t,n){return this.add(t,n,!0)},ft.prototype.add=function(t,n,e,r){if(n&&(t||t===0)){if(!r&&!e&&this.register[t])return this.update(t,n);n=this.encode(""+n);const i=n.length;if(i){const o=dt(),u=dt(),s=this.depth,l=this.resolution;for(let a=0;a<i;a++){let c=n[this.rtl?i-1-a:a],h=c.length;if(c&&h>=this.minlength&&(s||!u[c])){let f=ir(l,i,a),g="";switch(this.tokenize){case"full":if(2<h){for(let d=0;d<h;d++)for(let x=h;x>d;x--)if(x-d>=this.minlength){const p=ir(l,i,a,h,d);g=c.substring(d,x),this.push_index(u,g,p,t,e)}break}case"reverse":if(1<h){for(let d=h-1;0<d;d--)if(g=c[d]+g,g.length>=this.minlength){const x=ir(l,i,a,h,d);this.push_index(u,g,x,t,e)}g=""}case"forward":if(1<h){for(let d=0;d<h;d++)g+=c[d],g.length>=this.minlength&&this.push_index(u,g,f,t,e);break}default:if(this.boost&&(f=Math.min(0|f/this.boost(n,c,a),l-1)),this.push_index(u,c,f,t,e),s&&1<i&&a<i-1){const d=dt(),x=this.resolution_ctx,p=c,m=Math.min(s+1,i-a);d[p]=1;for(let w=1;w<m;w++)if(c=n[this.rtl?i-1-a-w:a+w],c&&c.length>=this.minlength&&!d[c]){d[c]=1;const v=ir(x+(i/2>x?0:1),i,a,m-1,w-1),_=this.bidirectional&&c>p;this.push_index(o,_?p:c,v,t,e,_?c:p)}}}}}this.fastupdate||(this.register[t]=1)}}return this};function ir(t,n,e,r,i){return e&&1<t?n+(r||0)<=t?e+(i||0):0|(t-1)/(n+(r||0))*(e+(i||0))+1:0}ft.prototype.push_index=function(t,n,e,r,i,o){let u=o?this.ctx:this.map;if((!t[n]||o&&!t[n][o])&&(this.optimize&&(u=u[e]),o?(t=t[n]||(t[n]=dt()),t[o]=1,u=u[o]||(u[o]=dt())):t[n]=1,u=u[n]||(u[n]=[]),this.optimize||(u=u[e]||(u[e]=[])),(!i||!u.includes(r))&&(u[u.length]=r,this.fastupdate))){const s=this.register[r]||(this.register[r]=[]);s[s.length]=u}},ft.prototype.search=function(t,n,e){e||(!n&&qi(t)?(e=t,t=e.query):qi(n)&&(e=n));let r,i,o,u=[],s=0;if(e&&(t=e.query||t,n=e.limit,s=e.offset||0,i=e.context,o=e.suggest),t&&(t=this.encode(""+t),r=t.length,1<r)){const h=dt(),f=[];for(let g,d=0,x=0;d<r;d++)if(g=t[d],g&&g.length>=this.minlength&&!h[g]){if(!this.optimize&&!o&&!this.map[g])return u;f[x++]=g,h[g]=1}t=f,r=t.length}if(!r)return u;n||(n=100);let l,a=this.depth&&1<r&&i!==!1,c=0;a?(l=t[0],c=1):1<r&&t.sort(ud);for(let h,f;c<r;c++){if(f=t[c],a?(h=this.add_result(u,o,n,s,r===2,f,l),(!o||h!==!1||!u.length)&&(l=f)):h=this.add_result(u,o,n,s,r===1,f),h)return h;if(o&&c==r-1){let g=u.length;if(!g){if(a){a=0,c=-1;continue}return u}if(g===1)return sa(u[0],n,s)}}return _d(u,n,s,o)},ft.prototype.add_result=function(t,n,e,r,i,o,u){let s=[],l=u?this.ctx:this.map;if(this.optimize||(l=aa(l,o,u,this.bidirectional)),l){let a=0;const c=Math.min(l.length,u?this.resolution_ctx:this.resolution);for(let h,f,g=0,d=0;g<c&&(h=l[g],!(h&&(this.optimize&&(h=aa(h,o,u,this.bidirectional)),r&&h&&i&&(f=h.length,f<=r?(r-=f,h=null):(h=h.slice(r),r=0)),h&&(s[a++]=h,i&&(d+=h.length,d>=e)))));g++);if(a)return i?sa(s,e,0):void(t[t.length]=s)}return!n&&s};function sa(t,n,e){return t=t.length===1?t[0]:od(t),e||t.length>n?t.slice(e,e+n):t}function aa(t,n,e,r){if(e){const i=r&&n>e;t=t[i?n:e],t=t&&t[i?e:n]}else t=t[n];return t}ft.prototype.contain=function(t){return!!this.register[t]},ft.prototype.update=function(t,n){return this.remove(t).add(t,n)},ft.prototype.remove=function(t,n){const e=this.register[t];if(e){if(this.fastupdate)for(let r,i=0;i<e.length;i++)r=e[i],r.splice(r.indexOf(t),1);else or(this.map,t,this.resolution,this.optimize),this.depth&&or(this.ctx,t,this.resolution_ctx,this.optimize);n||delete this.register[t],this.cache&&this.cache.del(t)}return this};function or(t,n,e,r,i){let o=0;if(sd(t))if(i){const u=t.indexOf(n);u===-1?o++:1<t.length&&(t.splice(u,1),o++)}else{i=Math.min(t.length,e);for(let u,s=0;s<i;s++)u=t[s],u&&(o=or(u,n,e,r,i),!r&&!o&&delete t[s])}else for(let u in t)o=or(t[u],n,e,r,i),o||delete t[u];return o}ft.prototype.searchCache=wd,ft.prototype.export=Md,ft.prototype.import=kd,yd(ft.prototype);const la=new ft;self.onmessage=t=>{switch(t.data.command){case"addPoints":{const{points:n}=t.data.payload;Td(n);break}case"startQuery":{const{query:n,queryID:e}=t.data.payload;Nd(n,e);break}default:{console.error("Worker: unknown message",t.data);break}}};const Td=t=>{for(const n of t)la.add(n.id,n.prompt)},Nd=(t,n)=>{const e=la.search(t,{limit:rd.layout.searchLimit});postMessage({command:"finishQuery",payload:{queryID:n,resultIndexes:e}})}})();
